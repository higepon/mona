Be名無しさん<><>04/02/08 14:00<> 独自にOSを作っているまたは、作ろうとしている人たちのための <br> スレッドになればと思います。 <br>  <br> OSを作ろうpart8 <br> http://pc2.2ch.net/test/read.cgi/tech/1072232112/ <br> OSを作ろうpart7 <br> http://pc2.2ch.net/tech/kako/1066/10669/1066968321.html <br> OSを作ろうpart6 <br> http://pc2.2ch.net/tech/kako/1052/10525/1052537020.html <br> OSを作ろうpart5 <br> http://pc2.2ch.net/tech/kako/1042/10423/1042375466.html <br> OSをつくろうpart4 <br> http://pc3.2ch.net/tech/kako/1037/10370/1037096449.html <br> OSをつくろうpart3 <br> http://pc3.2ch.net/tech/kako/1027/10270/1027080631.html <br> OSをつくろうpart2 <br> http://pc3.2ch.net/tech/kako/1024/10244/1024411711.html <>OSを作ろうpart8
Be名無しさん<>sage<>04/02/08 14:06<> 2ｹﾞｯﾄｰ <>
Be名無しさん<>sage<>04/02/08 15:00<> monaもついにプログラミング自体の話からOS設計に軸足が移せるようになったのか。 <br> すげえなぁ。 <br>  <br> ブートプログラムの作成とかアセンブラの勉強以前から話が始まったからじゃないかな。 <br> OSを作るにはどんなプログラミング作業が必要なのかわかっていなかった。 <br> OSの設計うんぬんよりもまずガチガチのコーディング作業の道筋を知ること自体が主目的だったみたいな。 <br> part2あたりから見るとわかるかも。 <br>  <br> #ちなみに俺もOS作ろうとしてたのにひげぽんにあっさり追い抜かれたクチです <br> #secondブートあたりまでは勝ってたのに ｡ﾟ･(ノД｀)･ﾟ｡ <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:04<> お久しぶりです。今年もよろしくお願いいたします。 <br> 私に至らない点がある＆説明不足であるために皆様に <br> ご迷惑をおかけしているようで申し訳ないです。 <br>  <br> 年始の計画もかねてまとめてみました。 <br>  <br> 今後のMonaの開発の流れ(1-2月) <br> 1月 Thread対応によるカーネルの大幅リライト(スレッド・ページング・システムコール・共有ページ等) <br> 2月 ドライバインタフェース設計・試験実装＆スレッドユーティリティ実装(Mutexなど・・) <br>  <br> 今後のMonaの流れと方針 <br> 当分の間、ユーザープログラム・アプリケーションでバリバリ遊べるという環境は用意できません。 <br> 理由はカーネルがあまりに貧弱だからです。カーネルの設計･実装に時間を注ぎます。 <br>  <br> もちろんユーザープログラム・アプリケーションに関するご提案や、カーネルを改良したなどありましたら <br> 是非お寄せください。 <br>  <br> またDOSのようにシングルタスクでもいいから遊べるものをというご意見も理解できるのですが <br> 現状の力量ではMona以外に更にプロジェクトを抱えるのは不可能なのでご理解いただけると助かります。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:05<> Mona PJメンバーについて <br>  <br> Monaには過去在籍したメンバーも含めて以下のような種類の方々がいます。 <br>  <br> 1.過去にコードを提供して下さったが現在は本業が忙しいためアドバイザーのような立場の方。 <br> 2.やる気があり参加したが、即貢献できないので勉強中の方。 <br> 3.Wikiでアドバイスをくれる方 <br> 4.2だったがフェードアウト気味の方。 <br> 5.カーネルにある機能が実装されればすぐに参加できる人(ひげぽん実装待ちの人) <br> 6.行方不明の方。 <br>  <br> 2, 4, 6あたりの方々へのフォローが足りなかったのはひげぽんの責任であり。 <br> 今後のPJ運営の反省材料として生かしていきたいと思います。 <br>  <br> 今後どのようなメンバーに参加していただきたいか? <br>  <br> カーネルの一部・ドライバを書けるまたは、設計できる。 <br> ハードの仕様に詳しい方。 <br> カーネルの設計にWikiやosdev-jで相談にのっていただける方。 <br>  <br> 以上、長くなりましたが少しでも誤解がとけてよりよいOSが開発できればと考えています。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:08<> MonaをDOSのように遊べるOSにするということについては、 <br> Monaはマイクロカーネルのマルチタスクを目指しており <br> その設計と実装がたのしいということが <br> OS作りの動機の中核となっていますので難しいです。 <br>  <br> ※現在Monaはユーザーライブラリ整備に軸足を移しつつあります。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:14<> 今日（※2003.01.06)は以下の作業を行いました。 <br>  <br> Mona開発環境@Linuxの作業 <br> 　gcc3.2.2のビルド・インストール <br> 　nasmのビルドインストール <br> 　monaのビルドができるようになりました。 <br> 　SDLのインストール <br> 　qemuのインストール <br> 　Mona@qemuを実行(Mona Loadingで止まる模様) <br>  <br> Thread対応 <br> 　プロセス追加・プロセススケジュールの実装とテスト <br> 　プロセススケジュールは実際のタスクスイッチではないので <br> 　ほぼ実装完了。 <br>  <br> 明日はスレッドスケジューリングと簡単なスレッドの実行までいければ・・・ <>
Be名無しさん<>sage<>04/02/08 15:19<> ふむ。qemu一応使えたのか。 <>
Be名無しさん<>sage<>04/02/08 15:20<> http://mona.sourceforge.jp/トップが全然更新されてないのってあまり感じよくないね。死んでるように思われちゃう <>
Be名無しさん<>sage<>04/02/08 15:20<> <a href="../test/read.cgi/os/1076216434/7" target="_blank">&gt;&gt;7</a> <br> ｳｿﾀﾞｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｧｨｲ! <br>  <br> 俺のRHL9ではビルドできないyo. <br>  <br> つーことで、バイナリスナップショットも配布きぼん。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:22<> <a href="../test/read.cgi/os/1076216434/8" target="_blank">&gt;&gt;8</a> <br> qemuは暇を見てCVS板(FDC対応済み)のものを試してみようと思います。 <br>  <br> <a href="../test/read.cgi/os/1076216434/9" target="_blank">&gt;&gt;9</a> <br> &gt; http://mona.sourceforge.jp/トップが全然更新されてないのってあまり感じよくないね。死んでるように思われちゃう <br> 確かにおっしゃる通りですねぇ。最近はリリース毎に更新していたのですが <br> リリースがなかなか出来ないため滞っています。 <br> これも暇を見て更新いたします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/10" target="_blank">&gt;&gt;10</a> <br> &gt; 俺のRHL9ではビルドできないyo. <br> &gt; つーことで、バイナリスナップショットも配布きぼん。 <br> ./configure <br> make <br> でいけませんでしたか。 <br> バイナリスナップショットですが現在開発中の物は <br> カーネルリライト中なので全く動きませんのであまり意味がないかと思います。 <>
Be名無しさん<>sage<>04/02/08 15:26<> ld -n -Ttext 0xA0000000 -e _user_start -static hello.o userlib.o MemoryManager.o -o ../bin/USER.ELF <br> ld: warning: cannot find entry symbol _user_start; defaulting to a0000000 <br> userlib.o(.text+0x1f7): In function `__static_initialization_and_destruction_0': <br> user/userlib.cpp:16: undefined reference to `__dso_handle' <br> userlib.o(.text+0x203):user/userlib.cpp:16: undefined reference to `__cxa_atexit' <br> make: *** [../bin/USER.ELF] エラー 1 <br> RHL9 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:28<> <a href="../test/read.cgi/os/1076216434/12" target="_blank">&gt;&gt;12</a> <br> gcc --versionした場合のバージョンを教えていただけないでしょうか。 <br> gcc2.9x系ではビルドできないのでそれが原因かもしれません。 <>
Be名無しさん<>sage<>04/02/08 15:30<> <a href="../test/read.cgi/os/1076216434/12" target="_blank">&gt;&gt;12</a> <br> Linuxでgccを使った場合、 <br> エントリポイントについては、_user_startの先頭の_がいらないっぽい。 <br> 残りは、Kernelソースのpurevirtual.cppの中から、該当関数を持ってきてリンクすれば、一応、通る。 <br> それが、正しく動くUSER.ELFになっているかは知らないけど。 <br>  <br> Win上でCygwinやMingwで出したバイナリとLinux上のgccの吐き出すバイナリをそれぞれobjdumpで表示してみると <br> 違いが見れるよ。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:30<> 現在(※2004.01.09)の状況は以下の感じです。 <br> スレッド対応が徐々に進み、少しずつ動作するようになって来ました。 <br> 現在MemoryManagerのバグﾞをつぶしています。 <br> ttp://wiki.osdev.info/index.php?%5B%5BScreenShot%2FMona%5D%5D <br>  <br> スレッドの対応をしていて感じた事ですが以前STLをカーネルに <br> 導入していたことがありました。 <br> そのときはカーネルがあまりに貧弱で(今でもそうですが) <br> 特にメモリの割り当て解放の処理が怪しかったためSTLの <br> 使用をなくなく一時中断することを決意しました。 <br>  <br> カーネルを書いているといわゆるコレクション(コンテナ?) <br> が欲しいと思うところがたくさんあります。 <br>  <br> ex) <br> 　　スレッドのディスパッチキュー <br> 　　メッセージキュー <br> 　　共有ページ管理 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:31<> その部分について今まで以下のような順で <br> アプローチを取ってきました。 <br>  <br> 1.STLのコンテナ <br> 2.BSD系フリーUNIXのqueue.h系(侵入的データ構造) <br> 　Interface　2004　2月号Chapter4参照 <br>  <br> 3.2の改良版で格納対象のオブジェクトをQueueクラスの <br> 　継承クラスにする方法(場合によっては多重継承になる) <br>  <br> 4.自前テンプレートコレクションクラスHList, BinaryTree, HashMap <br>  <br> スレッド対応のついでに3⇒4から移行したのですが <br> 私の感覚からすると実装が少し楽になりました。(実際の処理が早くなるかは別として) <br>  <br> 教訓としてカーネルを書くにはいわゆるコレクションライブラリも <br> 整えなければいけないことを痛感しました。 <br>  <br> ただし自前コレクションライブラリにはメリット･デメリットがあります。 <br>  <br> デメリット <br> 　　1.信頼性の問題(STLに比べれば信頼性が低い場合もある) <br> 　　2.速度の問題(実際に計ったわけではありませんが) <br>  <br> メリット <br> 　　動的にメモリを確保している場合、そのポイントと確保量が明確であること <br> 　　STLなどは自分で書いたものでないのでどこでメモリがいくら確保それ解放されるかを <br> 　　気にしなければいけない場合もあります。(カーネル内で使用するので) <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:31<> Monaでは1のデメリットに関してはがんばる（笑）、2に関しては今は目をつぶるが <br> 後々すぐに入れ替えれることが出来るように一枚インターフェースをかます方法をとっています。 <br>  <br> だらだらと書いてしまいましたが、もしこれからOSを書く方がいれば参考になれば幸いです。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:32<> 現在PIT(Programmable Interval Timer)について調べています。 <br> Monaでもタイマを使用していますが、見よう見まねで実装したので <br> 実際のところきちんとした初期化･設定手順が理解できておりません。 <br>  <br> 現在スレッド対応にあたり、タイマ割り込みの間隔を任意にカーネルで <br> 簡単に切り替えてスケジューリングのテストを行いたいと考えています。 <br>  <br> 要は setTimerInterval(int xxxms)のような関数をカーネル起動時に呼び出すイメージです。 <br> 現在は下記の資料を読んでいるのですが、なにぶんハードに弱くて苦労しています。 <br> 良い資料がありましたら教えていただけると助かります。 <br>  <br> ttp://community.osdev.info/index.php?%5B%5B%28PIT%298254%5D%5D <br> ttp://bookweb.kinokuniya.co.jp/htm/4789834336.html <>
Be名無しさん<>sage<>04/02/08 15:34<> <a href="../test/read.cgi/os/1076216434/18" target="_blank">&gt;&gt;18</a> <br> http://www.okisemi.com/datadocs/doc-jpn/msm82c54_2.pdf <br> これ位読めないと、デバドラ書くのに苦労するでよ。 <br>  <br> おまけ <br> PIC http://www.okisemi.com/datadocs/doc-jpn/FJDL82C59A-2-03.pdf <br> DMAC http://www.okisemi.com/datadocs/doc-jpn/msm82c37b_5.pdf <>
Be名無しさん<>sage<>04/02/08 15:43<> <a href="../test/read.cgi/os/1076216434/16" target="_blank">&gt;&gt;16</a> <br> なぜSTLとAPIコンパチにして後々簡単に入れ替えられるようにしとかないの？ <br> 使う機能だけでいいのでクラスと関数の名前を同じにするだけなので別に難しいことではない。 <br> これをやった方が良い理由は2つある。 <br>  <br> 1つ目は他人が使うときの便宜。 <br> 広く知られているものに似ていれば使いやすいのは当然。 <br>  <br> 2つ目はテストの便。 <br> 昔、VC++6.0付属のSTLをバリバリに使いまくってアプリを作ったら、 <br> なぜかメモリリークしまくりでしばらく放置するとスワップが溢れるアプリが出来てしまった。 <br> コードをチェックしてもさっぱり原因が分からなかったんだよ。 <br> ところが同じものをmingwでコンパイルしたらリークしなかった。 <br> どうやらVC++6.0付属のSTLのバグらしい。 <br> そこでSTLportに差し替えてみたところVC++6.0でもリークしなくなった。 <br>  <br> つまりUnitTestなどをSTLと独自実装と両方でやることでバグが見付けやすくなる。 <br> これ自体はカーネルと関係ないのでCygwin上だけでも出来ること。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:52<> <a href="../test/read.cgi/os/1076216434/18" target="_blank">&gt;&gt;18</a> <br> 貴重な資料ありがとうございます。 <br> ローカルに保存して目を通します。 <br>  <br> またPITに関してはOSASK　Kさんからもアドバイスを頂きました。 <br> この場を借りてお礼を申し上げます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/20" target="_blank">&gt;&gt;20</a> <br> なるほど。 <br> STLのヘッダをみて各コンテナの定義等を参照するして <br> あらたに同名クラス・関数を実装するということですね。 <br> 手間でなければやる価値があると思いました。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:55<> ・頂いたアドバイスを元にタイマの間隔設定関数を作成しました。 <br> ・スレッド化の山場loadProcess(ユーザーモード)が動きました。 <br> ・スレッド作成がユーザーモードからも出来るように一部のAPIを作成しました。 <br>  <br> ロック機構のみ作成・セキュリティの問題・スレッド操作インターフェースがされていない <br> など問題は山積みですが以下のようなユーザープログラムUSER.ELFをカーネルから <br> ロードできるようになりました。 <br> 簡単なシェルも作成できるかと思います。(都合上ドライバインタフェースの実装が先になりますが) <br>  <br> #include &lt;userlib.h&gt; <br>  <br> int listener(); <br> int disp(); <br> static char buf[32]; <br> static bool come; <br>  <br> int main() <br> { <br> &nbsp;&nbsp;dword id; <br>  <br> &nbsp;&nbsp;if (!(id = mthread_create((dword)listener))) { <br> &nbsp;&nbsp;&nbsp;&nbsp;print("mthread create error\n"); <br> &nbsp;&nbsp;&nbsp;&nbsp;exit(-1); <br> &nbsp;&nbsp;} <br>  <br> &nbsp;&nbsp;if (mthread_join(id)) { <br> &nbsp;&nbsp;&nbsp;&nbsp;print("mthread join error\n"); <br> &nbsp;&nbsp;&nbsp;&nbsp;exit(-1); <br> &nbsp;&nbsp;} <br> &nbsp;&nbsp;disp(); <br> } <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 15:59<> int disp() <br> { <br> &nbsp;&nbsp;for (;;) { <br> &nbsp;&nbsp;&nbsp;&nbsp;if (come) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(buf); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf[0] = '0'; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;come = false; <br> &nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;} <br> } <br>  <br> int listener() <br> { <br> &nbsp;&nbsp;Message message; <br>  <br> &nbsp;&nbsp;for (;;) { <br> &nbsp;&nbsp;&nbsp;&nbsp;if (!_receive(&message)) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf[0] = '&lt;'; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf[1] = (char)message.arg1; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf[2] = '&gt;'; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf[3] = '\0'; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;come = true; <br> &nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;} <br> } <>
Be名無しさん<>sage<>04/02/08 16:00<> <a href="../test/read.cgi/os/1076216434/23" target="_blank">&gt;&gt;23</a> <br> &gt;if (!_receive(&message)) { <br> だ・か・ら、message.receive()にしろって。 <br> クラスに属さない関数は作るな。 <br> 文字列をchar*で扱うな。 <br> メモリ管理部以外でポインタを配列で使うんじゃねーって。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:03<> <a href="../test/read.cgi/os/1076216434/24" target="_blank">&gt;&gt;24</a> <br> 現在のAPIはサンプル実装です。 <br> スレッドがカーネルに実装された一例として急遽作ったものなので <br> インターフェースが洗練されていないのはご了承ください。 <br> ユーザー側に公開するAPIをどうやってオブジェクト指向で提供するかは <br> 今後 <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?%B5%C4%CF%C0%2Fuserlib%2Fmonalibc <br> で検討していきます。 <br> ご意見がありましたら上記にお寄せいただけると助かります。 <>
508<>sage<>04/02/08 16:12<> ソース眺めてて気付いたんだけど、これっておかしくない？ <br>  <br> void ProcessManager::wakeup() <br> { <br> &nbsp;&nbsp;dword tick = getTick(); <br>  <br> &nbsp;&nbsp;for (dword i = 0; i &lt; waitList_-&gt;size(); i++) { <br> &nbsp;&nbsp;&nbsp;&nbsp;Process* process = waitList_-&gt;get(i); <br> &nbsp;&nbsp;&nbsp;&nbsp;if (process-&gt;getWakeupTimer() &lt; tick) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dispatchList_-&gt;add(process); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;waitList_-&gt;remove(process); <br> &nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;} <br> } <>
508<>sage<>04/02/08 16:13<> 気になるところは大体読んでみた。 <br> 取り敢えず言いたいのは「まずは定石を学ぶべき」という事。 <br> ソース奇麗でスジは良いと思うけど、とにかくカーネルの設計・実装におけるセオリーを知らなさ過ぎる。 <br> そのくせマイクロカーネルだとかスレッドだとかいうのは無茶過ぎる。 <br> 今からでも遅くないから他のカーネルを勉強してみるのをオススメします。マジで。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:16<> <a href="../test/read.cgi/os/1076216434/26" target="_blank">&gt;&gt;26</a> <br> &gt; ソース眺めてて気付いたんだけど、これっておかしくない？ <br> 実装ほやほやでテストも満足に出来ていなくて申し訳ないのですが <br> どこがおかしいでしょうか? <br>  <br> <a href="../test/read.cgi/os/1076216434/27" target="_blank">&gt;&gt;27</a> <br> &gt; そのくせマイクロカーネルだとかスレッドだとかいうのは無茶過ぎる。 <br> &gt; 今からでも遅くないから他のカーネルを勉強してみるのをオススメします。マジで。 <br> 貴重なご意見ありがとうございます。 <br> 具体的にどのような点で上記強く感じられましたでしょうか? <>
Be名無しさん<>sage<>04/02/08 16:17<> <a href="../test/read.cgi/os/1076216434/27" target="_blank">&gt;&gt;27</a> <br> セオリー通り作れば確かに変なところで躓いたりしないが、それで面白いか？ <br> 他のヤシはどう思うかわからんが、漏れはつまらん。 <br>  <br> 一般には成功している流行の手法に、基づいているのだから、 <br> 一方的にそれを認めないのはいかがなものか？ <br> 実際ソースが読みやすいという部分はこれのお陰だしな。 <>
508<>sage<>04/02/08 16:29<> <a href="../test/read.cgi/os/1076216434/28" target="_blank">&gt;&gt;28</a> <br> &gt; どこがおかしいでしょうか? <br> waitListに入っている全てのプロセスについて起床すべきかどうかを調べて、 <br> 起床すべきであればwaitListから削除することを意図したコードだろうけど、 <br> あるプロセスがwaitListから削除されたとき、 <br> waitListでそのプロセスの次に入っていたプロセスはとばされる事に成ると思われ。 <br>  <br> &gt; 具体的にどのような点で上記強く感じられましたでしょうか? <br> 例えばシステムコールが割り込み禁止で実行されてころとか。 <br>  <br> <a href="../test/read.cgi/os/1076216434/29" target="_blank">&gt;&gt;29</a> <br> セオリーを押さえた上で独自の工夫をするのが面白いと思うんだが。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:34<> <a href="../test/read.cgi/os/1076216434/30" target="_blank">&gt;&gt;30</a> <br> &gt; waitListでそのプロセスの次に入っていたプロセスはとばされる事に成ると思われ。 <br> ああやっちゃってました。申し訳ないです。 <br> 完全なバグですね。ありがとうございます。 <br> ループを逆回りすればよさそうですね。 <br>  <br> &gt; &gt; 具体的にどのような点で上記強く感じられましたでしょうか? <br> &gt; 例えばシステムコールが割り込み禁止で実行されてころとか。 <br> システムコール詳細仕様が決まっていないので現在は行われていません。 <br> (どこで割り込みを許可するかの検討がまだ行われておりません) <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?%B5%C4%CF%C0%2F%A5%B7%A5%B9%A5%C6%A5%E0%A5%B3%A1%BC%A5%EB%BB%FE%A4%CB%B3%E4%A4%EA%B9%FE%A4%DF%A4%F2%B5%F6%B2%C4%A4%B9%A4%EB <br>  <br> ただし上記のように検討は済ませてあり、実験がうまくいっているので <br> 技術的には可能です。 <>
508<>sage<>04/02/08 16:35<> <a href="../test/read.cgi/os/1076216434/31" target="_blank">&gt;&gt;31</a> <br> 上記のページを見た感想ですが、 <br> カーネル内における同期の方法などもっと検討しなければいけないのではないでしょうか。 <br> 例えばいまのところ見た感じカーネルはプリエンプト可能のようですが、 <br> カーネル内のデータ構造をどうやって保護するのかとか。 <br> それと、タイマ割り込み以外でもプロセススイッチが起こる方が自然です <br> （今のところビジーウェイトで同期を取っているようですが）。 <br> 割り込みとシステムコールの同期も大きな問題です。 <br> こういうところはカーネルの根幹ですから、 <br> もうすこし検証を重ねる必要があると思います。 <br> そのためにももう少し定石を学んでみるのも良いのでは？とわたしなどは思ってしまうわけです。 <br> 現状楽しんでやっているのであれば、とやかく言う事でもないのですが、 <br> 定石がわかればもっと楽しくなるかも、という可能性もちょっと考えていただければ幸いです。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:37<> <a href="../test/read.cgi/os/1076216434/32" target="_blank">&gt;&gt;32</a> <br> &gt; こういうところはカーネルの根幹ですから、 <br> &gt; もうすこし検証を重ねる必要があると思います <br> 全く持っておっしゃるとおりです。 <br> うすうす気づいていたのですがずばり指摘されて <br> 重大さに気づいた次第です。(特にカーネルデータ構造保護) <br>  <br> &gt; そのためにももう少し定石を学んでみるのも良いのでは？とわたしなどは思ってしまうわけです。 <br> &gt; 現状楽しんでやっているのであれば、とやかく言う事でもないのですが、 <br> &gt; 定石がわかればもっと楽しくなるかも、という可能性もちょっと考えていただければ幸いです。 <br> カーネル(しょぼいですが）を作っているものとして508さんのOS関係の知識･経験が <br> 私よりはるかに勝っていることは頂いたアドバイスの内容からも感じられました。 <br> そういった方からのアドバイスは大変貴重で非常に参考になります。 <br> 本当にありがとうございます。 <br>  <br> 実際問題、定石はどのように学ぶかが最近の悩みどころであったりします。 <br> ここ1年ほどは他のOSのソースをほとんど見ないように心がけていました。 <br>  <br> どうしても読んだソースと似たようなものしか書けなくなるからです。 <br> (一度方法を知ってしまうと自分で考えなくなる性格のようです。) <br>  <br> ソースを見ない代わりにAPIドキュメント等を読んで中身の実装は自分で <br> 考えるなどしています。 <br>  <br> 508さんは定石はどのように学ばれたのでしょうか? <br> ソースを読む?実際にOSを作る等。 <>
Be名無しさん<>sage<>04/02/08 16:39<> MIT/X採用は偉いけど、こういうときに困るね。 <>
Be名無しさん<>sage<>04/02/08 16:42<> <a href="../test/read.cgi/os/1076216434/33-34" target="_blank">&gt;&gt;33-34</a> <br> 必ずしもソースを見る必要はないです。 <br> OS関連に限ったことではないですが、機能的にどのように変わっているかを把握することがポイントかと。 <br> めったに変わらない部分、すぐに変わる部分。その理由。 <br>  <br> チューニングなど、実装的な面だとソースを読む事も必要かもしれませんけどね。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:43<> <a href="../test/read.cgi/os/1076216434/35" target="_blank">&gt;&gt;35</a> <br> &gt; 必ずしもソースを見る必要はないです。 <br> ソース以外ではどのような情報源で情報を取得されていらっしゃるのでしょうか? <br>  <br> 実際にそのOSを使ってみてプログラマの立場(APIを使うものの立場)からみる。 <br>  <br> OSの設計の書籍(ex Solarisインターナル)や、Webで公開されているドキュメントでしょうか。 <>
Be名無しさん<>sage<>04/02/08 16:44<> MINIX本とか。 <br> 古いかな… <>
Be名無しさん<>sage<>04/02/08 16:44<> Webで見つけるなら、論文やプロジェクトの成果報告、公開仕様書など <br> 大学系のものがころがってる。ほとんど英語だけど。 <br> ぐぐるなら、filetype:pdf　をつけると、結構みつけやすい。世の中便利になったものだ。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:45<> <a href="../test/read.cgi/os/1076216434/37" target="_blank">&gt;&gt;37</a> <br> MINIX本は基礎的なことを学ぶのに役立ちました。 <br> 排他とかページングアルゴリズムとか。 <br>  <br> <a href="../test/read.cgi/os/1076216434/38" target="_blank">&gt;&gt;38</a> <br> filetype:pdfは知りませんでした。 <br> ありがとうございます。 <br> 日本語の研究成果資料なら多少読んだことがあります。 <>
508<>sage<>04/02/08 16:46<> <a href="../test/read.cgi/os/1076216434/33" target="_blank">&gt;&gt;33</a> <br> わたしの場合は、本とソース読みと自作が平行していました。 <br> 本やLinuxや*BSDのソースから得られた知識を自作カーネルで試してみたり、 <br> カーネルを自作する過程で出てきた疑問点を本やソースで解消したりといった感じでした。 <br>  <br> ソースを見る事によって影響されてしまうのを心配していらっしゃるようですが、 <br> 個人的にはそれほど心配する事も無いように思います。 <br> 私の習作カーネルの場合、もちろん細かいところで似てしまう事も多々ありましたが、 <br> ソースの雰囲気や具体的なアルゴリズム、全体としてのアーキテクチャ（無謀にもマイクロカーネル風！！）などは、 <br> 参考にしたLinuxや*BSDとは似ても似つかないものとなり、 <br> 十分独自色が出ていたと思っています。 <br>  <br> ま、どうするかは最終的には個人の問題ですけどね。 <br> ひげぽんさんにとって一番良い方法を見つけて、 <br> それで楽しくプログラミングできるのが一番ですから。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:52<> 現在VESA調査中です。 <br> mode105hで動作確認をしているのですが <br> VirtualPCで画面切り替えまではうまくいくのですが <br> その後VRAMアクセスしても画面に何も描画されません。 <br> 手持ちの実機2台、bochs、VMWAREでは描画されます。 <br>  <br> VESAの手順等に自信がないためよい資料・サイト等ありましたらご教授いただけると幸いです。 <br> なお使用している資料は <br> ぐりぽんさんの翻訳資料などです <br>  <br> 詳細はこちら <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?%B5%C4%CF%C0%2FVESA%C2%D0%B1%FE <>
Be名無しさん<>sage<>04/02/08 16:53<> <a href="../test/read.cgi/os/1076216434/41" target="_blank">&gt;&gt;41</a> <br> パレットの設定を I/O で叩くのではなくて、プロテクトモードインターフェースを使用したらどうだろうか？ <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 16:54<> <a href="../test/read.cgi/os/1076216434/42" target="_blank">&gt;&gt;42</a> <br> ありがとうございます。 <br> 現在プロテクトモードインターフェース勉強中です。 <br> vbe3.pdfやVBE2.0の資料を斜め読みましたが <br> コードがないとつらいですねぇ。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:00<> VESAのリニアフレームバッファが使用できる見込みがついたので(VPCはまだ) <br> bitbltを実装してみました。 <br>  <br> いろいろ探したのですがbitblt関数のI/F例は見つかるのですが <br> 実装例が1つもなかったので無理やり自分で考えて実装しました。 <br>  <br> 速度が多少速くなるように悪あがきをしましたが <br> 所詮描画系は門外漢なのでよしあしが分かりません。 <br>  <br> ちなみに悪あがきは <br> inline関数を使う。 <br> メンバ変数をループに使わない(Auto変数で) <br>  <br> などでアルゴリズムとかでなし・・・ <br>  <br> ttp://cvs.sourceforge.jp/cgi-bin/viewcvs.cgi/mona/mona_v1.0/src/test_higepon.cpp?rev=1.90&content-type=text/vnd.viewcvs-markup <br>  <br> ユーザー側に公開するときはbitbltの引数はScreenではなくScreenHandleとするべきでしょうね。 <br> ポインタを公開するわけにも行かないので。 <br>  <br> 相変わらずプロテクトモードインターフェースの資料が見つからないですねぇ。 <>
Be名無しさん<>sage<>04/02/08 17:00<> <a href="../test/read.cgi/os/1076216434/44" target="_blank">&gt;&gt;44</a> <br> &gt; 相変わらずプロテクトモードインターフェースの資料が見つからないですねぇ。 <br> Linux kernel　ソースのdrivers/video/vesafb.c が参考にならんか？ <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:01<> <a href="../test/read.cgi/os/1076216434/45" target="_blank">&gt;&gt;45</a> <br> ありがとうございます。 <br> まだ少ししか読んでみていないですがどうやらそれっぽいですね。 <br> １歩進みました。ありがとうございます。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:04<> 800 * 600の画面サイズに対応したり、jpegが表示できたりといろいろと <br> 有志の方のコードに大変助かっています。 <br> そろそろユーザー側APIの整備をしなくてはならないと考えています。 <br>  <br> 割とカーネル側に機能が追加されてきているのに対して <br> ユーザーアプリがそれを使うことが出来ないのは無駄なので。 <br>  <br> ただこれはドライバインターフェースにも関わるところなので <br> 設計が難しいですねぇ <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:04<> ユーザーアプリ環境構築・ドライバインターフェースの検討の第一弾として <br> キーボードドライバのユーザーモードへの追い出しをしています。 <br>  <br> キーボードドライバの役割はキーのscancodeを実際のキー情報に分解して <br> キー情報を欲しがっているプロセスにそれを送信するイメージです。 <br> (キー情報を扱うサーバのようなイメージ) <br>  <br> 処理事態はカーネルモードでなくても動くものなので追い出しは割りと簡単かと <br> ふんでいましたが。そうでもないようです。。。 <br>  <br> 以下困ったこと <br> (1)KeyBoardManagerのメンバ変数(キー情報配列) const int []が初期化されて <br> いなかった。本来であれば'a' 'b'などが入るべきなのに全部ゼロだった。 <br> 　　　⇒ <br> elfローダーでelfセクションのmemory上のサイズとファイル上のサイズが <br> 等しくないものはゼロクリアすべきと思っていてその領域をゼロクリア <br> していたのが原因??? <br>  <br> (2)keyInfoList_-&gt;add(kinfo);時にNULLポインタアクセスを起こす。 <br> 　　　⇒原因調査中。 <br>  <br> 簡単な「hello world」よりも少し複雑になっただけで潜在的な <br> バグが見えてきました。どうもELFローダー周りが怪しいです。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:05<> キーボードドライバのユーザーモードへの追い出しが成功しました。 <br> キーボードサーバの機能をもう少し洗練する必要がありますが <br> ひとまず動きました！！ <br>  <br> 原因：elfプログラムセクションのmemorySizeとfileSizeが異なる場合に <br>  <br> (誤)その領域をmemorySize分ゼロクリアしていた(bssセクション) <br> (正)memorySizeがゼロ以上のときはメモリにロードする <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:07<> キーボードサーバーはユーザープログラム開発環境でコンパイル･リンクされます。 <br> /src/user/KeyBoardServer.cppがソースファイルになります。 <br>  <br> その後makeとすると。 <br> /bin/KEYBDMNG.SVRというELF形式の実行ファイルが作成されます。 <br>  <br> こいつを <br> /tools/fat_write.exeで <br> mona.imgに書き込みます。詳細は/src/Makefile参照 <br>  <br> こいつをカーネルのどこかから。 <br> loadProcess(".", "KEYBDMNG.SVR", true); <br> ３つ目の引数=trueだとユーザーモードプロセスになります。 <br>  <br> として読み込むとサーバーが起動されます。 <br>  <br> 以下キーボードサーバーのソースを張ります。 <br> 長くなりますが現在のMonaでどの程度のプログラムなら <br> 動くかという参考になれば幸いです。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:08<> int main() <br> { <br> &nbsp;&nbsp;/* initilize KeyBoardManager */ <br> &nbsp;&nbsp;KeyBoardManager* manager = new KeyBoardManager(); <br> &nbsp;&nbsp;manager-&gt;init(); <br>  <br> &nbsp;&nbsp;/* initilize destination list */ <br> &nbsp;&nbsp;List&lt;char*&gt;* destList = new HList&lt;char*&gt;(); <br>  <br> &nbsp;&nbsp;/* Message loop */ <br> &nbsp;&nbsp;for (;;) { <br> &nbsp;&nbsp;&nbsp;&nbsp;MessageInfo info; <br>  <br> &nbsp;&nbsp;&nbsp;&nbsp;/* receive */ <br> &nbsp;&nbsp;&nbsp;&nbsp;if (!Message::receive(&info)) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(info.header) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case MSG_KEY_SCANCODE: <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sendKeyInformation(manager, destList, &info); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; <br>  <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case MSG_KEY_REGIST_TO_SERVER: <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regist(destList, &info); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; <br>  <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default: <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* igonore this message */ <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;} <br> } <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:09<> int sendKeyInformation(KeyBoardManager* manager, List&lt;char*&gt;* destList, MessageInfo* info) <br> { <br> &nbsp;&nbsp;MessageInfo message; <br> &nbsp;&nbsp;KeyInfo keyinfo; <br>  <br> &nbsp;&nbsp;/* scan code to key information */ <br> &nbsp;&nbsp;byte scancode = info-&gt;arg1; <br> &nbsp;&nbsp;manager-&gt;setKeyScanCode(scancode); <br> &nbsp;&nbsp;manager-&gt;getKeyInfo(&keyinfo); <br>  <br> &nbsp;&nbsp;/* create message */ <br> &nbsp;&nbsp;memset(&message, 0, sizeof(MessageInfo)); <br> &nbsp;&nbsp;message.arg1 = keyinfo.keycode; <br> &nbsp;&nbsp;message.arg2 = keyinfo.modifiers; <br>  <br> &nbsp;&nbsp;/* send message */ <br> &nbsp;&nbsp;for (int i = destList-&gt;size() - 1; i &gt;= 0; i--) { <br> &nbsp;&nbsp;&nbsp;&nbsp;if (Message::send(destList-&gt;get(i), &message)) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("send error to %s", destList-&gt;get(i)); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destList-&gt;removeAt(i); <br> &nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;} <br>  <br> &nbsp;&nbsp;return 0; <br> } <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:10<> int regist(List&lt;char*&gt;* destList, MessageInfo* info) <br> { <br> &nbsp;&nbsp;char* source = (char*)(info-&gt;arg1); <br> &nbsp;&nbsp;printf("message is %s", source); <br> &nbsp;&nbsp;char* target = new char[strlen(source) + 1]; <br> &nbsp;&nbsp;strcpy(target, source); <br> &nbsp;&nbsp;destList-&gt;add(target); <br> &nbsp;&nbsp;return 0; <br> } <br>  <br> ただこれを書いていて前から気になっていたことが <br> やはりまずいことが分かりました。 <br> sendのあて先はchar*だと全然ダメです。 <br> やはりポートがよいですかね。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:11<> <a href="../test/read.cgi/os/1076216434/53" target="_blank">&gt;&gt;53</a>は <br> プロセス名からpidをlookupするサービスを作って解決しました。 <br>  <br> ユーザーモード用に描画の仕組みを用意しました。 <br> APIはC++で用意されていて、cygwinがインストールされていれば <br> プログラミングが可能です。 <br>  <br> 今現在下記のようなプログラムが実際にディスクから読み込まれ <br> 動作しています。 <br> Screen screen; <br> printf("user mode screen (x, y) = (%x, %x)\n", screen.getXResolution(), screen.getYResolution()); <br> printf("you can draw from user mode!! and also use multi thread \n"); <br>  <br> word color = Color::bpp24to565(Color::rgb(0x7A, 0x7A, 0xC4)); <br>  <br> screen.fillRect16(0, 200, 800, 400, color); <br>  <br> color = Color::bpp24to565(Color::rgb(0x63, 0x63, 0x9F)); <br>  <br> for (int x = 0; x &lt; screen.getXResolution(); x++) { <br>     screen.putPixel16(x, 0.5 * x + 300, color); <br> } <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:12<> Monaで動作するプログラムを作成するには以下の手順をふみます。 <br> ※サンプルプログラムは(mona_v1.0/src/user/ディレクトリにあります。) <br>  <br> (1)C++でプログラムのソースを書きます。必ずuserlib.hというヘッダファイルをincludeしてください。 <br> 　　printf, Screen::putPixel16, fillRect16や。スレッド作成・メッセージsend/receive,string.h系 <br> 　　どんどん増えています。 <br>  <br> (2) MakeFileに自分の書いたプログラムを追加してあげます。 <br> user/MakeFile <br> hello.cpp用の記述を真似するとよいでしょう。 <br>  <br> (3) makeとするとコンパイル・リンクが行われます。 <br>  <br> (4) 成功するとELF形式のファイル(Monaでそのまま実行可能)が作成されます。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:13<> 簡易シェルを実装しました。 <br> コマンドラインでコマンドを受け付けて <br> FDのFAT12からELF形式のファイルを読み込んで実行することが出来ます。 <br>  <br> このシェルからJPEG表示プロセス(ユーザーモード)を実行することに <br> 成功しました。 <br>  <br> なおMonaのブート後以下のようにプロセスがカーネルでロードされます。 <br>  <br> ブート <br> ビデオモード切替 <br> プロテクトモード移行 <br> キーボードサーバ起動(ユーザーモード)：キーボード割込み後の処理・仮想キーコード送信 <br> シェルサーバ起動(ユーザーモード)：コマンド受付・プロセス生成 <br>  <br> 関連ソースは <br> mona_v1.0/src/user/ShellServer.cpp <br> mona_v1.0/src/user/KeyBoardServer.cpp <br> mona_v1.0/src/user/hello.cpp <br> mona_v1.0/src/user/jpegdemo.cpp <br>  <br> ユーザーモードではScreenクラスを使用することにより <br> VRAMのアドレスを取得することが出来ます。 <br>  <br> またキーボードサーバに自分自身のプロセスを登録することにより <br> キー情報を取得できます。 <br>  <br> がんばればゲームが動きそうですね。 <br> （その前にカーネルのバグをつぶさなければなりませんが) <>
Be名無しさん<><>04/02/08 17:13<> おめ。 <br> もう「起動するだけ」とは言わせないｗ <br>  <br> ageとこ。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:23<> <a href="../test/read.cgi/os/1076216434/57" target="_blank">&gt;&gt;57</a> <br> ありがとうございます。 <br> 簡易シェルはBSキーがきかない、プロセスを非同期で起動するので <br> 表示位置がおかしい。 <br> すぐ落ちる(Access Deniedなど) <br> ﾊﾞｸﾞがいっぱいなので徐々に改善していきます。 <>
Be名無しさん<>sage<>04/02/08 17:24<> MONAで遊べば <br> シェルもあるしファイルも読める絵も出せるしJPEGも表示できる。 <br> キー入力も取得できるようだし。 <br> 簡単なゲームや、スクリプトエンジンなら動くと思う。 <>
Be名無しさん<>sage<>04/02/08 17:27<> 最近進むの早くない？ <br> 爆発傾向？ <>
Be名無しさん<>sage<>04/02/08 17:29<> いあ。前からこんなペースだろ。 <br> ユーザ側に実装が踏み込んできただけ。 <>
Be名無しさん<>sage<>04/02/08 17:29<> しかし一時期からここいらの人口は増えんなあ。 <br> monaとかmegの最近の動きから人が増えると面白いんだが。 <>
60<>sage<>04/02/08 17:30<> <a href="../test/read.cgi/os/1076216434/61" target="_blank">&gt;&gt;61</a> <br> そうか。 <br> 地味なところの作業が終わって派手さが出てきた感じかな。 <br> もう少ししたら触ってみようかな。 <>
Be名無しさん<>sage<>04/02/08 17:30<> おお、さっそく増えそうだ。 <>
61<>sage<>04/02/08 17:32<> <a href="../test/read.cgi/os/1076216434/63" target="_blank">&gt;&gt;63</a> <br> いや。どうかなぁ。 <br> とりあえず、機能を提供して、ライブラリで上と区切った後に <br> また下側を直し始めるぽいからなぁ。派手さ、は微妙。 <>
60<>sage<>04/02/08 17:33<> <a href="../test/read.cgi/os/1076216434/65" target="_blank">&gt;&gt;65</a> <br> サンクス <br> 一通りそろってきた感じに思えて遊べそうかな。 <br> 派手さはmegの方があるからね。 <>
Be名無しさん<>sage<>04/02/08 17:33<> あまりの荒れようで、このスレもう終わりかと心配してました。 <br> 久しぶりに活気が出てきて嬉しい限りです。 <br> ひげぽんガンガレ！ <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 17:35<> <a href="../test/read.cgi/os/1076216434/67" target="_blank">&gt;&gt;67</a> <br> ありがとうございます。 <br>  <br> 今日(※2004.02.06)はマウスドライバを書いていました。 <br> マウスの初期化と、マウス割込み、座標の取得らしきものが <br> 出来ました。 <br>  <br> ユーザ−モードでのアクセス違反調査中。 <>
Be名無しさん<>sage<>04/02/08 18:00<> なんだここ <br>  <>
Be名無しさん<>sage<>04/02/08 18:03<> マウスサポートということはいよいよGUIかな。 <br> 最近進歩がめざましいな。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 18:05<> マウスドライバがほぼ完成しました。 <br> 割込みとI/O以外はユーザーモードで処理して <br> ユーザーモードのプロセスがメッセージングによって情報を受けて <br> 座標計算とマウスカーソルの描画(今は■)を行うことが出来ました。 <br>  <br> ただ懸念点があってマウス情報の1, 2, 3byte目のうちのどれかが <br> 割込み禁止などで通知が欠けてずれる可能性があるということです。 <br>  <br> 某ななしさん情報だと1byte目は特定パターンのデータしか来ないので <br> byte & 0xC8 == 0x08というチェックを入れて <br> これを1byte目とすればとのことでした。 <br>  <br> 他のOSはどうしているんだろう？ <>
Be名無しさん<>sage<>04/02/08 18:06<> マウスデータを取りこぼす程の長時間割り込みを禁止する方が問題ではないかと。 <>
ひげぽん ◇Ngzcp/NZpA<>sage<>04/02/08 18:06<> <a href="../test/read.cgi/os/1076216434/72" target="_blank">&gt;&gt;72</a> <br> ご返答ありがとうございます。 <br> おっしゃるとおり長時間割込み禁止するのは問題外です。 <br>  <br> Monaでは今のところマウスの割り込みの取りこぼしは一度も発生していません。 <br> システムコール中も基本的には割込み禁止ではないので。 <br>  <br> ただ可能性としては取りこぼすことも考えられるので <br> どのようにチェックをすべきかを悩んでいる状態です。 <>
Be名無しさん<><>04/02/08 18:08<> サルベージ完了あげ <>
Be名無しさん<>sage<>04/02/08 18:08<> コピペ大杉。 <>
Be名無しさん<>sage<>04/02/08 18:11<> <a href="../test/read.cgi/os/1076216434/75" target="_blank">&gt;&gt;75</a> <br> サルベージです。ご容赦ください。 <>
Be名無しさん<><>04/02/08 20:04<> 皇位継承記念あげ <>
Be名無しさん<>sage<>04/02/08 20:12<> <a href="../test/read.cgi/os/1076216434/76" target="_blank">&gt;&gt;76</a> <br> 乙カレ <>
Be名無しさん<>sage<>04/02/08 20:38<> でMonaとやらはどこから取ってこれるんだ？ <>
Be名無しさん<>sage<>04/02/08 20:45<> ・Mona PJ wiki 開発議論の中心 <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?FrontPage <br>  <br> ・公式サイト 情報鮮度がWikiよりは落ちる <br> http://mona.sourceforge.jp/ <br>  <br> ・今までのリリース <br> https://sourceforge.jp/projects/mona/files/ <br>  <br> ・CVSより最新のソースをダウンロード <br> http://cvs.sourceforge.jp/cgi-bin/viewcvs.cgi/mona/mona_v1.0/mona_v1.0.tar.gz?tarball=1 <br> ./configure <br> make <br>  <br> ・Monacrosoft <br> http://mona.s31.xrea.com:8080/modules/news/ <br>  <br> ・osdev-j <br> http://wiki.osdev.info/index.php <>
Be名無しさん<>sage<>04/02/08 21:27<> <a href="../test/read.cgi/os/1076216434/73" target="_blank">&gt;&gt;73</a> <br> ハードからの割り込みでは割り込み禁止にはせずに、 <br> 基本的にドライバのI/O部分ではキューの操作しかせずデータの解釈などは行わない。 <br> マウスの場合はマウスサーバ（gpmdみたいなやつ）がデータを解釈する。 <br> キューが変更されたかどうかは通知する必要があるが、 <br> その部分は割り込みに対するクリティカルセクションではない。 <br>  <br> マウスサーバがポインタの描画までする必要はない。 <br> 座標を描画サーバ（Xみたいなやつ）に通知するだけ。 <br> 描画サーバにマウスサーバの描画オブジェクトを登録しておいて <br> 実際の描画処理を返させても構わない。 <br>  <br> これらは全部、取りこぼしがないように非同期に処理するための工夫。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/08 21:40<> <a href="../test/read.cgi/os/1076216434/81" target="_blank">&gt;&gt;81</a> <br> ありがとうございます。 <br> 現在のMonaでは <br> マウス割込み処理でI/O。生の情報をユーザーモードのサーバーに <br> 送信後終了。 <br>  <br> サーバー側でデータの解釈・ついでにカーソル描画をしています。 <br>  <br> &gt; 描画サーバにマウスサーバの描画オブジェクトを登録しておいて <br> &gt; 描画処理を返させても構わない。 <br>  <br> 描画サーバはそろそろ検討しないといけないですね。 <br> Xとやらがどういう仕組みなのかがよく分かっていないです・・・ <>
Be名無しさん<>sage<>04/02/08 21:41<> &gt; monaApp = new myApplication("HELLO.ELF"); <br> つなぎだろうけどこれはまずいね。 <br> pidを取るための苦肉の策なのは分かるけど。 <br>  <br> WindowsではWinMainの引数としてHINSTANCE(pid相当)が渡される。 <br> そういう変態的な特殊起動関数を避けたいという考えものあるだろうけど、 <br> その辺は工夫でどうにでもなるから無問題。 <br> WindowsでもWinMainではなくmainからGUIを起動させるコードを書ける。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/08 21:45<> <a href="../test/read.cgi/os/1076216434/83" target="_blank">&gt;&gt;83</a> <br> &gt; &gt; monaApp = new myApplication("HELLO.ELF"); <br> &gt; つなぎだろうけどこれはまずいね。 <br> &gt; pidを取るための苦肉の策なのは分かるけど。 <br>  <br> そうですね。おっしゃるとおりメッセージループに必要なpidを <br> 取得するための仕組みです。 <br>  <br> &gt;WindowsではWinMainの引数としてHINSTANCE(pid相当)が渡される。 <br>  <br> おっと。これは知りませんでした。いやあ勉強になります。 <br> mainにargc, argv, envpを渡す計画は立てているのですが <br> そことの両立が微妙ですね。 <br>  <br> やはりWinMain相当関数の引数にセットするのが自然でしょうか？ <br> BeOS・OSASKとかはどうなっているのでしょうね。 <>
Be名無しさん<>sage<>04/02/08 21:50<> <a href="../test/read.cgi/os/1076216434/82" target="_blank">&gt;&gt;82</a> <br> マウスならいいけどLANのパケットとかデータ量が膨大なものを統一的に扱うなら <br> データを送信までしてしまうモデルはまずい。 <br> ドライバではひたすらキューにだけ溜める。 <br> サーバに対してはキューが変更されたことだけを通知して、 <br> サーバの側でアイドル時にキューを読むようにする。 <br> 当然キュー操作はクリティカルセクションだけど、 <br> MutexにWaitForMultipleObject的な機能を追加すると簡単になる。 <br> リエントラントを意識するとデッドロックになりがちで難しいけど、 <br> 乗り越えないといけない壁だからね。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/08 22:08<> <a href="../test/read.cgi/os/1076216434/85" target="_blank">&gt;&gt;85</a>さん <br> 早速、目から鱗です。 <br> &gt; ドライバではひたすらキューにだけ溜める。 <br> &gt; サーバに対してはキューが変更されたことだけを通知して、 <br> &gt; サーバの側でアイドル時にキューを読むようにする。 <br>  <br> なるほどこういう方法もあるのですね。 <br> サーバーとドライバの仲立ちにキューが入ると。 <br> キューの仕組み自体はカーネルにあるので <br> 完全なユーザープロセス(サーバー)からキューアクセスできれば <br> 実現できそうですね。 <br>  <br> &gt; 当然キュー操作はクリティカルセクションだけど、 <br> &gt; MutexにWaitForMultipleObject的な機能を追加すると簡単になる。 <br> &gt; リエントラントを意識するとデッドロックになりがちで難しいけど、 <br> &gt; 乗り越えないといけない壁だからね。 <br>  <br> この辺が難しいですね。キュー操作に時間がかかっては <br> 意味がないですし。 <>
Be名無しさん<>sage<>04/02/08 22:12<> <a href="../test/read.cgi/os/1076216434/84" target="_blank">&gt;&gt;84</a> <br> UNIXのような引数のないgetpid()の実装を考えるしかないでしょう。 <br>  <br> &gt; WindowsでもWinMainではなくmainからGUIを起動させるコードを書ける。 <br> というケースでも、GetModuleHandle(NULL)がgetpid()相当の働きをする。 <br>  <br> Xの場合はインスタンスはpidで管理されているわけではなく、 <br> XOpenDisplay()として取得したDisplay*で弁別している。 <br> イベント処理も↓のような感じ。 <br> Display* display = XOpenDisplay(NULL); <br> XEvent e; <br> XNextEvent(*mDisplay, &e); <br> つまりXの側で管理しています。 <>
87<>sage<>04/02/08 22:18<> すみません。昔書いた適当なコードから抜粋したので間違っていました。 <br> 誤：XNextEvent(*mDisplay, &e); <br> 正：XNextEvent(display, &e); <>
Be名無しさん<>sage<>04/02/08 22:25<> <a href="../test/read.cgi/os/1076216434/81" target="_blank">&gt;&gt;81</a> <br> いやー禁止するべきでしょう。 <br> PICの操作があるし。プリエンプションといっても限度がありまつ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/86" target="_blank">&gt;&gt;86</a> <br> 読み書きポインタの管理はアトミック性無くてもなんとかなります。 <br> データの残量はアトミックに管理しないとえらい事になりますが。 <br>  <>
Be名無しさん<>sage<>04/02/08 22:42<> <a href="../test/read.cgi/os/1076216434/89" target="_blank">&gt;&gt;89</a> <br> &gt; いやー禁止するべきでしょう。 <br> 誤解を招く書き方をしてすみません。 <br> すべての処理で一切禁止しないというように読めてしまいますね。 <br> マウスデータの処理までの一連の流れすべてで、というつもりでした。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/08 23:01<> <a href="../test/read.cgi/os/1076216434/87" target="_blank">&gt;&gt;87</a>さん <br>  <br> &gt; UNIXのような引数のないgetpid()の実装を考えるしかないでしょう。 <br>  <br> 早速頂きました。実装します。 <br> 気づかなかったです(´ﾍ｀；) <br>  <br> &gt; &gt; WindowsでもWinMainではなくmainからGUIを起動させるコードを書ける。 <br> &gt; というケースでも、GetModuleHandle(NULL)がgetpid()相当の働きをする。 <br>  <br> Windowsであまりプログラムしたことないので知りませんでした。 <br> ありがとうございます。 <br>  <br> &gt; XOpenDisplay()として取得したDisplay*で弁別している。 <br> &gt; イベント処理も↓のような感じ。 <br>  <br> イメージとしてはpidの場合と一緒ですね。 <br> 一意となるキー(ハンドル)基準の操作ということですね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/89" target="_blank">&gt;&gt;89</a>さん <br> &gt; 読み書きポインタの管理はアトミック性無くてもなんとかなります。 <br> &gt; データの残量はアトミックに管理しないとえらい事になりますが。 <br>  <br> このへんはご自身の経験からの発言と見受けられますが <br> どのようにして何とかされたのでしょうか？ <>
Be名無しさん<>sage<>04/02/08 23:05<> カーネル内でsprintfが必要な状況って例えばどんな場合ですか？ <br> 文字列クラスは重過ぎるので避けるということであれば、 <br> 長さ管理に関してはPASCAL文字列を使った方が良いかもしれません。 <br>  <br> [例] "A" <br> C 文字列 "ABC": 41424300 <br> Pascal 文字列 "\pABC": 03414243 <br>  <br> 同様に文字列以外の配列でも範囲チェックできます。 <br> template &lt;class t&gt; struct Array <br> { <br> &nbsp;&nbsp;int length; <br> &nbsp;&nbsp;t* data; <br> } <br>  <br> 安全性確保のため常に長さをつきまとわせるというだけですが、 <br> Cの関数でも配列と長さを引数で渡すケースは多いのでセットにしてしまうわけです。 <>
92<>sage<>04/02/08 23:07<> すみません。 <br> &gt; [例] "A" <br> の"A"は無視してください。 <>
92<>sage<>04/02/08 23:10<> あと補足ですが、<a href="../test/read.cgi/os/1076216434/92" target="_blank">&gt;&gt;92</a>のArrayはlistやvectorのような可変長のものではなく、 <br> 普通のchar[]とかint[]のような固定長のものを念頭に置いています。 <br> 可変長である必要がないものまでlistやvectorで扱うとオーバーヘッドが大きいので。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/08 23:31<> <a href="../test/read.cgi/os/1076216434/92" target="_blank">&gt;&gt;92</a>さん <br>  <br> &gt;カーネル内でsprintfが必要な状況って例えばどんな場合ですか？ <br>  <br> あれば便利という感じです。 <br> 必須ではないですね。 <br>  <br> カーネル内でも簡単な文字列処理をしたいことがあるので。 <br>  <br> &gt; 長さ管理に関してはPASCAL文字列を使った方が良いかもしれません。 <br>  <br> 文字列長と文字列を同じ配列に入れるところがみそでしょうか？ <br> 初めてしりました。ありがとうございます。 <br> こういうノウハウはなかなか貴重ですね。 <>
Be名無しさん<>sage<>04/02/08 23:49<> UNIX　オフ <br> http://off.2ch.net/test/read.cgi/offevent/1075197039/ <>
Be名無しさん<>sage<>04/02/08 23:54<> <a href="../test/read.cgi/os/1076216434/95" target="_blank">&gt;&gt;95</a> <br> &gt; カーネル内でも簡単な文字列処理をしたいことがあるので。 <br> そのケースに興味があるわけです。 <br>  <br> あと受け流されているArray&lt;&gt;の部分は極めて重要な部分です。 <br> バッファ溢れはどんな一流の人が書いたコードでも根絶できない厄介な問題なので、 <br> すべての配列を<a href="../test/read.cgi/os/1076216434/92" target="_blank">&gt;&gt;92</a>のArrayのようなもので扱うのはかなり有用な方法です。 <br> コンストラクタや[]を定義して、 <br> int* nums = (int*)malloc(sizeof(int) * 3); <br> nums[0] = 1; <br> 　↓ <br> Array&lt;int&gt; nums(3); <br> nums[0] = 1; <br> みたいな感じで。面倒かもしれませんがお勧めしておきます。 <br> listやvectorと違って固定長であるのがミソです。 <br>  <br> 毎回毎回範囲チェックすると遅くなりそうですが、 <br> #ifdefでDEBUGか否かでチェックする・しないを決めて、 <br> DEBUGが定義されていないときの[]のオーバーロードをinlineにすれば <br> 実質オーバーヘッドはないわけです。 <br>  <br> 配列溢れでは例外が補足しきれないことが多いので、 <br> なぜか挙動がおかしい……と悩むことが多いのですが、 <br> DEBUGを有効にしたものでチェックすれば一発で見つかるわけです。 <br> 以前、アプリですが、CからManaged C++に移植してバグに気付いたことがあります。 <br>  <br> &gt; 文字列長と文字列を同じ配列に入れるところがみそでしょうか？ <br> ただ256文字に制限されてしまうので、Array&lt;char&gt;の方が実用的ではありますが。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 00:08<> 87さんから頂いたPID取得ロジックを組み込みました。 <br> System::getPID(); <br> 今日はマウスドライバ・サーバーの実装がひと段落しました。 <br> bochsでカーソルが遅いのが気になりますね。 <br> 原因として考えられるのは <br> ・send/receiveのオーバーヘッド <br> ・スレッドスケジューリングの問題。 <br> &nbsp;描画に時間がかかりすぎる？ <br> &nbsp;タイマ割り込みが実機と違う？ <br> &nbsp;マウスサーバは優先順位を高くしないとダメ？ <br> ・bochsはそういうもの。 <br> &gt;&gt; 97   <br> &gt;&gt; カーネル内でも簡単な文字列処理をしたいことがあるので。 <br> &gt; そのケースに興味があるわけです。 <br> デバッグ出力とかですね。fault・error時に人間にとって <br> 見やすい情報を出力できればよいです。 <br>  <br> &gt; Array&lt;int&gt; nums(3); <br> &gt; nums[0] = 1; <br> &gt; みたいな感じで。面倒かもしれませんがお勧めしておきます。 <br>  <br> ふむ。なるほどだいぶイメージがわいてきました。 <br>  <br> &gt; #ifdefでDEBUGか否かでチェックする・しないを決めて、 <br> &gt; DEBUGが定義されていないときの[]のオーバーロードをinlineにすれば <br> &gt; 実質オーバーヘッドはないわけです。 <br>  <br> うぅ。うまいなぁ。これはすごい。 <br> こういうテクニックはプロの仕事ですねぇ。 <br> すばらしいの一言。 <br> レベル高い。 <br> まねします。。 <>
Be名無しさん<>sage<>04/02/09 00:16<> マジプロジェクトなんだ。びっくり。 <>
Be名無しさん<>sage<>04/02/09 00:25<> MonaApplicationで必ずPIDがいるのなら、プロセスロード時にメンバ変数にセットってのはだめなの？ <>
Be名無しさん<>sage<>04/02/09 00:37<> &gt;97 <br> カーネル内の文字列処理ですが、Monaはまだ初期段階の開発中OSですから、 <br> 開発者の環境や、ユーザの環境で実行したときのログ取りに使うというのが <br> 一番の目的になると思います。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 00:43<> <a href="../test/read.cgi/os/1076216434/100" target="_blank">&gt;&gt;100</a>さん <br>  <br> ありがとうございます。 <br> mypid_をメンバ変数として用意しました。 <br>  <br> そういえばbochsがマウス初期化のときにaux interfaceテストをすると <br> 死ぬのでコメントアウトしました(感謝某氏) <br>  <br> <a href="../test/read.cgi/os/1076216434/97" target="_blank">&gt;&gt;97</a>さん <br>  <br> 確認なのですがPascal 文字列とArrayには関連ないですよね。 <br> Arrayの要点としては <br>  <br> 固定長配列のかわりにArrayをつかう。 <br> Arrayの[]演算子で範囲チェックする。 <br> ifdefでリリース時は範囲チェックをはずす。 <br>  <br> と理解していますがあっていますでしょうか？ <>
Be名無しさん<>sage<>04/02/09 00:49<> <a href="../test/read.cgi/os/1076216434/98" target="_blank">&gt;&gt;98</a> <br> &gt; 描画に時間がかかりすぎる？ <br> ポインタをただの点にしてしまうことで確認できませんか？ <>
Be名無しさん<>sage<>04/02/09 01:03<> <a href="../test/read.cgi/os/1076216434/98" target="_blank">&gt;&gt;98</a> <br> &gt; デバッグ出力とかですね。fault・error時に人間にとって <br> &gt; 見やすい情報を出力できればよいです。 <br> なるほど。 <br>  <br> <a href="../test/read.cgi/os/1076216434/101" target="_blank">&gt;&gt;101</a> <br> なるほど……って、あれ？ひげさんじゃない？？ <br>  <br> <a href="../test/read.cgi/os/1076216434/102" target="_blank">&gt;&gt;102</a> <br> &gt; 確認なのですがPascal 文字列とArrayには関連ないですよね。 <br> 長さをbyteにしたArray&lt;char&gt;はPASCAL文字列そのもの、という関連性です。 <br> struct pstring <br> { <br> &nbsp;&nbsp;byte length; <br> &nbsp;&nbsp;char* data; <br> } <br> ※この構造体にPASCAL文字列をmemcpyできます。 <br>  <br> 長さをbyteにすると256文字制限が出るので、 <br> Array&lt;char&gt;がお勧めということです。 <br> それは文字列に限らないということで話を続けました。 <>
Be名無しさん<>sage<>04/02/09 01:04<> あとArray&lt;char&gt;を徹底するなら、sprintfなどの引数もchar*ではなく、 <br> Array&lt;char&gt;*を引数に取ることでsnprintfと同じになりますが、 <br> sprintf(Array&lt;char&gt;*, const char*, ...); <br> （第一引数はハードコードがほとんどなのでconst char*のまま） <br> それならいっそ継承してクラスにすると良いかもしれません。 <br>  <br> class string : Array&lt;char&gt; <br> { <br> public: <br> &nbsp;&nbsp;int sprintf(const char*, ...); <br> } <br>  <br> これは単に <br> sprintf(str, "%d", 2); <br> が <br> str.sprintf("%d", 2); <br> と書けるというだけで好みのレベルでどうでもいいかもしれませんが。 <>
Be名無しさん<>sage<>04/02/09 01:05<> あまり関係無いけどWin32のHINSTANCEはプロセス内でしか意味を持たないのでPIDとはちょっと違う <br> Win16の頃はPIDのかわりに使えたが <>
Be名無しさん<>sage<>04/02/09 01:07<> <a href="../test/read.cgi/os/1076216434/98" target="_blank">&gt;&gt;98</a> <br> &gt; こういうテクニックはプロの仕事ですねぇ。 <br> プロと言えば、newやmallocの後に必ずASSERTでチェックしたりもしますが、 <br> そういうチェックもコンストラクタでやって隠蔽できます。 <br>  <br> あと効率上、配列をスタックに作る方が良い場合もあるので、 <br> int __nums[3]; <br> Array&lt;int&gt; nums(&nums_data, 3); <br> のようなコンストラクタを用意すると良いです。 <br>  <br> ただこれだとクラスのインスタンスを作るオーバーヘッドが出てしまうので、 <br> 以下のようなマクロを使うと良いかもしれません。 <br>  <br> #ifdef DEBUG <br> #define STACK_ARRAY(type, name, size) type __##name[size]; Array&lt;type&gt; name(&__##name, size); <br> #else <br> #define STACK_ARRAY(type, name, size) type name[size]; <br> #endif <br>  <br> int buf[3]; <br> 　↓ <br> STACK_ARRAY(int, buf, 3); <br> ※こういうときにうっかりbuf[3]とか書くことがたまにあるので。 <br>  <br> 面倒ですが、それくらいバッファ溢れは用心した方が良いです。 <br> うっとおしくなれば正規表現置換でマクロから戻せるわけですし。 <>
107<>sage<>04/02/09 01:12<> うう、ミスってました。 <br> 誤：Array&lt;int&gt; nums(&nums_data, 3); <br> 正：Array&lt;int&gt; nums(&__nums, 3); <br>  <br> あと↓の最後のセミコロンはいりませんね。 <br> &gt; STACK_ARRAY(int, buf, 3); <br> 体裁的にセミコロンがあった方が収まりが良ければ <br> マクロの方から末尾のセミコロンを消すと言う手もあります。 <br> 好みのレベルでどうでもいいかもしれませんが。 <>
Be名無しさん<>sage<>04/02/09 01:13<> <a href="../test/read.cgi/os/1076216434/106" target="_blank">&gt;&gt;106</a> <br> 補足ありがとうございます。Display*も同じです。 <>
Be名無しさん<>sage<>04/02/09 01:14<> ソース本文中に #ifdef DEBUG の嵐は読みずらいと思うな。 <br> マクロでおきかえってのは良いと思う。 <br>  <br> malloc とかも良く以下みたいな感じにするし。 <br> #define malloc(p) debug_alloc(__FILE__,__LINE__,p) <br>  <br> もちろんデバグコード抜かない方が良い場合は、 <br> チェックコード入れっぱなしにするんだろうけど。 <br>  <>
104<>sage<>04/02/09 01:19<> すみません、↓はウソです。 <br> &gt; ※この構造体にPASCAL文字列をmemcpyできます。 <br>  <br> memcpyできるのは↓でした。 <br> メモリ効率悪いですが。 <br>  <br> struct pstring <br> { <br>   byte length; <br>   char data[256]; <br> } <>
Be名無しさん<>sage<>04/02/09 01:31<> <a href="../test/read.cgi/os/1076216434/102" target="_blank">&gt;&gt;102</a> <br> &gt; 固定長配列のかわりにArrayをつかう。 <br> &gt; Arrayの[]演算子で範囲チェックする。 <br> &gt; ifdefでリリース時は範囲チェックをはずす。 <br> はい、そうです。 <br>  <br> 関数の引数とかもすべてArray&lt;&gt;を前提にしてしまうと（その方が安全）、 <br> STACK_ARRAYのような宣言時のすりかえではきかないので（暗黙にサイズを渡すため）、 <br> #ifdefはArrayクラスのコードの方に書くことを念頭に置いています。 <br> ヒープに確保するのであればオーバーヘッドは大きくないです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/110" target="_blank">&gt;&gt;110</a>さんの指摘の__FILEや__LINEを埋め込む方がデバッグしやすいですが、 <br> その場合は配列の宣言もマクロで行ってASSERTに渡すと良いでしょう。 <>
Be名無しさん<>sage<>04/02/09 01:49<> <a href="../test/read.cgi/os/1076216434/92" target="_blank">&gt;&gt;92</a> <br> Array&lt;&gt;って配列をJavaやC#みたいにサイズ込みにするためのもの? <br> Array&lt;int&gt; a(3); // int[] a = new int[3]; <br> a.length→3 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 01:52<> &gt;103さん <br> 点にすると多少早くなります。 <br>  <br> &gt;104さん <br> &gt; 長さをbyteにしたArray&lt;char&gt;はPASCAL文字列そのもの、という関連性です。 <br>  <br> 理解しました。そういうことですか。 <br> PASCAL文字列よりも固定長配列の扱いの部分に目が行ってしまったのので・・・ <br>  <br> <a href="../test/read.cgi/os/1076216434/106" target="_blank">&gt;&gt;106</a>さん <br> 補足ありがとうございます。 <br>  <br> &gt; あと効率上、配列をスタックに作る方が良い場合もあるので、 <br> &gt; int __nums[3]; <br> &gt; Array&lt;int&gt; nums(&nums_data, 3); <br> &gt; のようなコンストラクタを用意すると良いです。 <br>  <br> あーなるほど。すばらしいですねぇ。 <br> Arrayの実装のときにそのまま流用いたしますです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 01:53<> &gt; ただこれだとクラスのインスタンスを作るオーバーヘッドが出てしまうので、 <br> &gt; 以下のようなマクロを使うと良いかもしれません。 <br>  <br> うわぁ。頭がパンクしてきました。 <br> ぎりぎりついていってます。 <br> 上級テクニック目白押しです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/110" target="_blank">&gt;&gt;110</a> <br>  <br> &gt; debug_alloc <br>  <br> これはユーザーモードで特に使えそうですね。 <br> まだ不安定なので。 <br>  <br> <a href="../test/read.cgi/os/1076216434/112" target="_blank">&gt;&gt;112</a> <br> &gt; はい、そうです。 <br> &gt; 関数の引数とかもすべてArray&lt;&gt;を前提にしてしまうと（その方が安全）、 <br>  <br> すばらしいです。Arrayを実装する気です。 <br> ところでArrayにすることでのオーバーヘッドは微々たるものという <br> イメージなので(範囲チェックを除けば) <>
Be名無しさん<>sage<>04/02/09 01:53<> おまいら早く寝なさい <br> 明日の仕事に障りますよ <>
Be名無しさん<>sage<>04/02/09 01:54<> <a href="../test/read.cgi/os/1076216434/113" target="_blank">&gt;&gt;113</a> <br> そうですね。 <br> JavaやC#を知っている人はそう考えた方が分かりやすいかもしれません。 <br> main(int argc, char* argv[])とmain(string[] args)の違いですね。 <br> あ、でもmainはあまり例として良くなかったかも。 <br> 文字列クラスを作らないとstring[]はArray&lt;Array&lt;char&gt; &gt;になるから……。 <>
Be名無しさん<>sage<>04/02/09 01:56<> <a href="../test/read.cgi/os/1076216434/116" target="_blank">&gt;&gt;116</a> <br> 仕事中です……。 <br> 今日は椅子の上で3時間くらい寝れば上出来かな。(泣) <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 14:14<> template &lt;class T&gt; class Array { <br> &nbsp;public: <br> &nbsp;&nbsp;Array(dword length) : length_(length), alloc_(true) { <br> &nbsp;&nbsp;&nbsp;&nbsp;array_ = new T[length]; <br> &nbsp;&nbsp;} <br>  <br> &nbsp;&nbsp;Array(T* array, dword length) : array_(array), length_(length), alloc_(false) { <br> &nbsp;&nbsp;} <br>  <br> &nbsp;&nbsp;virtual ~Array() { <br> &nbsp;&nbsp;&nbsp;&nbsp;if (alloc_) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete array_; <br> &nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;} <br>  <br> &nbsp;public: <br> &nbsp;&nbsp;inline T operator [](dword index) { <br> #ifdef DEBUG_MODE <br> &nbsp;&nbsp;&nbsp;&nbsp;if (index &lt; 0 || index &gt; length_ - 1) { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_console-&gt;printf("array index outof range %d\n", index); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(;;); <br> &nbsp;&nbsp;&nbsp;&nbsp;} <br> #endif <br> &nbsp;&nbsp;&nbsp;&nbsp;return array_[index]; <br> &nbsp;&nbsp;} <br>  <br> &nbsp;private: <br> &nbsp;&nbsp;T* array_; <br> &nbsp;&nbsp;dword length_; <br> &nbsp;&nbsp;bool alloc_; <br> }; <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 14:20<> ↑でっち上げてみました。 <br> さてどこで使おうかな。 <>
Be名無しさん<>sage<>04/02/09 14:58<> ◆Ngzcp/NZpAは、他にも使ってる人間がいるらしいので計算は簡単だと思われ。 <br>  <br> つーか、既存のNewOSも知らないんですか。それで勝手にThe New OSを名乗れるんですよね。無知ですか。そうですか。&gt;某 <br>  <>
Be名無しさん<>sage<>04/02/09 15:07<> 仕方無いから「うにゅうOS」へ改名の方向で。（ぇ <>
名無したん<>sage<>04/02/09 15:11<> <a href="../test/read.cgi/os/1076216434/121" target="_blank">&gt;&gt;121</a> <br> 散々外出の煽りを今更になってわざわざMonaスレでする理由は？ <>
Be名無しさん<>sage<>04/02/09 15:15<> ところでここは結局Monaスレなのか。 <br> そして世の中では今日は休日なのか。 <br> 俺ﾋｷだから（ry <>
Be名無しさん<>sage<>04/02/09 15:31<> <a href="../test/read.cgi/os/1076216434/119" target="_blank">&gt;&gt;119</a> <br> ハンガリー記法って知ってる？ <br> それはともかくサフィックスは流行らないよ。 <br>  <br> もっとも最近はハンガリー記法の反動もあってか <br> あまりメンバ変数にプレフィックスを付けたりしない。 <br>  <br> ↓のように記号を使わないのが最近の流行。 <br>  <br> private: <br> &nbsp;&nbsp;int length; <br>  <br> public: <br> &nbsp;&nbsp;inline int getLength() { return length; } <br>  <br> &gt; delete array_; <br> これはまずい。delete[]を使わないとダメ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 15:37<> &gt; ハンガリー記法って知ってる？ <br> いや知らないです。。 <br> &gt; それはともかくサフィックスは流行らないよ <br> そうなのですか。メンバ変数とローカル変数を区別するために <br> 付けていたのですが、もうふるいのですね。 <br>  <br> &gt; delete array_; <br> &gt; これはまずい。delete[]を使わないとダメ。 <br>  <br> うわっ。やってますねぇ。ご指摘ありがとうございます。 <>
Be名無しさん<>sage<>04/02/09 15:46<> <a href="../test/read.cgi/os/1076216434/126" target="_blank">&gt;&gt;126</a> <br> &gt; いや知らないです。。 <br> ハンガリー記法はMicrosoftが昔推奨していた命名規則。 <br> Win32プログラミングすると最初に面食らう。 <br> [例] m_nLength: m_(メンバ), n(整数←iNt) <br>  <br> だけど、今は推奨されていない。 <br> .NETを逆コンパイルするとハンガリー記法と他の記法が混ざってる。 <br>  <br> &gt; メンバ変数とローカル変数を区別するため <br> メンバであることを明示したいときはわざとthis-&gt;を付けるのが流行。 <br> return this-&gt;length; <br>  <br> これはIDEの補完機能から広まったとも言える表記法。 <br> とりあえずメンバを出したいときにthis-&gt;と打てば漢字変換の候補みたいに出てくるので。 <br> ハンガリー記法が廃れたのも補完で型まで出てきて必要性が薄れた面もある。 <>
Be名無しさん<>sage<>04/02/09 15:57<> 他国産OSに比べてmonaのメリットって何？ <br>  <br> 2chで好き勝手に文句言ったり要望垂れ流したりマンセーできることくらい？ <>
Be名無しさん<>sage<>04/02/09 16:06<> <a href="../test/read.cgi/os/1076216434/128" target="_blank">&gt;&gt;128</a> <br> 日本語で作者と会話できる。それに尽きる。 <br> OSASKに犬糞崩れの厨房が大挙して押し寄せた理由の1つ。 <>
Be名無しさん<>sage<>04/02/09 16:09<> <a href="../test/read.cgi/os/1076216434/119" target="_blank">&gt;&gt;119</a> <br> Arrayを実際に使う場合、引数でポインタ渡しをすると混乱するので、 <br> （インスタンスを直接扱う型とポインタで扱う型を区別するべき） <br> operator=を定義してコピーできるようにしておいた方が良いです。 <br>  <br> その場合にコピーをどういう挙動にするか考えてみましょう。 <br> JavaやC#で <br> int[] a = new int[1]; <br> int[] b = a; <br> b[0] = 3; <br> としたらa[0]も3になりますよね。 <br>  <br> 同様に <br> Array&lt;int&gt; a(1); <br> Array&lt;int&gt; b = a; <br> b[0] = 3; <br> としたらa[0]も3にすることをお勧めします。 <br>  <br> 中身までコピーするSTLのlistやvectorとは挙動が違いますが、 <br> 言語的な仕様としては最近の流行だからです。 <br>  <br> （続く） <>
130<>sage<>04/02/09 16:20<> そうなると重大な問題が発生します。 <br>  <br> Array&lt;int&gt; GetArray() <br> { <br> &nbsp;&nbsp;Array&lt;int&gt; ret(3); <br> &nbsp;&nbsp;ret[0] = ret[1] = ret[2] = 0; <br> &nbsp;&nbsp;return ret; <br> } <br>  <br> という関数があったとして、 <br> this-&gt;array = GetArray(); <br> （↑明示的にthisを使うと流儀に関係なくメンバと分かるのが利点ですね） <br> などとしたらバグります。理由は分かりますよね？ <br> この手のバグはその場でアクセス違反が起きないことが多くて厄介です。 <br> バグを減らすつもりがバグを増やしては本末転倒です。 <br>  <br> かと言ってGetArray()の中で <br> Array&lt;int&gt; ret(new int[3], 3); <br> などとすると、古いCのライブラリみたいに、 <br> 返り値は必ず解放してくださいということになって、 <br> 時代遅れの上面倒くさいことになります。 <br>  <br> これを避けるためSTLではインスタンスをコピーする仕様だと思われます。 <br> 確かにC++的にはスマートですが、オーバーヘッドが大きいです。 <br> もともとカーネルでSTLを避けたのもその辺が一因ですよね？ <br>  <br> （続く） <>
130<>sage<>04/02/09 16:38<> さてどうしたものでしょう？ <br> もともとJavaやC#の真似をしたということは、 <br> 解決策まで真似をするということです。つまりGCです。 <br>  <br> STLのlist&lt;int&gt;などではスコープで破棄させて代入ごとにコピーするため <br> GCがなくてもリークしませんがオーバーヘッドがあります。 <br> 引数では参照で回避できますが、効率のため参照を考え始めると面倒です。 <br> かと言ってポインタ渡しをするのは使い方に統一性がありません。 <br> オーバーヘッドもリークもなくすにはGCが必要です。 <br>  <br> と言ってもGCには実装がたくさんあって、 <br> Mark & Sweepなんかやっていたらオーバーヘッドが大きくなります。 <br> カーネルがGCでストールするのは論外です。 <br> それを考えると現実的なのはReference Countでしょう。 <br>  <br> もともとC++ではスタックに作ればスコープで破棄されますし、 <br> Reference Countでも理想的な手動deleteとほとんど同じ効率です。 <br> 循環参照のような問題はありますが、 <br> 削除したオブジェクトにアクセスすることがないのと引き換えです。 <br>  <br> （続く） <>
130<>sage<>04/02/09 16:54<> 簡単なリファレンスカウントの実装。 <br> private: int* refCount; <br> というのを用意します。 <br> alloc_は不要になります。 <br>  <br> コンストラクタごとに分類します。 <br>  <br> 1. Array(int length) <br> this-&gt;refCount = new int(); <br>  <br> 2. Array(T* array, int length) <br> this-&gt;refCount = NULL; <br>  <br> 3. Array(Array&lt;T&gt;& src) ← コピーコンストラクタ <br> this-&gt;refCount = src.refCount; <br> (*this-&gt;refCount)++; <br> ※operator=()も同じ。 <br>  <br> （続く） <>
130<>sage<>04/02/09 17:10<> virtual ~Array() <br> { <br> &nbsp;&nbsp;if (this-&gt;refCount == NULL) return; <br> &nbsp;&nbsp;if (*this-&gt;refCount == 0) { <br> &nbsp;&nbsp;&nbsp;&nbsp;delete this-&gt;refCount; <br> &nbsp;&nbsp;&nbsp;&nbsp;delete [] this-&gt;array; <br> &nbsp;&nbsp;} else { <br> &nbsp;&nbsp;&nbsp;&nbsp;(*this-&gt;refCount)--; <br> &nbsp;&nbsp;} <br> } <br>  <br> ここまで出来れば引数は参照やポインタではなく値渡しでOKです。 <br> void Func(Array&lt;int&gt; arg); <br>  <br> 実戦投入する前にテストコードをよーく書いて、 <br> ちゃんと機能しているかを確認してください。 <br> この手のものはWindows上でデバッグできます。 <br> うまくいけば <br> 1. 配列溢れ <br> 2. delete忘れ（メモリリーク） <br> 3. deleteしたオブジェクトへのアクセス（自分でdeleteしないため） <br> の3大バグから解放されます。（やや誇張） <br> 目に見えるほどのオーバーヘッドもないはずです。 <br>  <br> 配列でないオブジェクト用のものも作ればほとんどJava気分です。 <br> （boostではshared_ptrと配列用のshared_arrayの区別があるのを参照） <br> Javaでカーネルを書くのが当初の夢だったんですよね？ <br> 工夫でC++をJavaに近付けているわけです。（パチもんですが……） <br>  <br> 以上 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 22:18<> <a href="../test/read.cgi/os/1076216434/127" target="_blank">&gt;&gt;127</a>さん <br> &gt; return this-&gt;length; <br> &gt; これはIDEの補完機能から広まったとも言える表記法 <br>  <br> なるほど。メンバ変数が多いとthis-&gt;だらけになりそうなのをのぞけば <br> 一番分かりやすいかも知れませんね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/128" target="_blank">&gt;&gt;128</a>さん <br> &gt; 他国産OSに比べてmonaのメリットって何？ <br>  <br> 現時点では特にメリットはないかと思われます（笑） <br>  <br> <a href="../test/read.cgi/os/1076216434/130" target="_blank">&gt;&gt;130</a>さん <br>  <br> 大変有用な書き込みありがとうございました。 <br> 勉強不足ゆえ消化中ですが。 <br> しっかりと生かしたいとおもいます <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/09 22:35<> 今日はいろいろとバグ修正をしていました。 <br>  <br> 130さんも書かれている通り例えカーネルのコードであっても <br> 実は部品としてうまく切り出せばWindows上での開発・デバッグが可能です。 <br> その方が断然効率もよく。ある程度汎用性のあるコードを <br> 書く勉強にもなったりします。 <br>  <br> さて最近のMonaはユーザーアプリ用にAPIが少しずつそろってきました。 <br>  <br> ・FDC直接操作open/read/write/close <br> ・ファイル読み込みFileInputStream <br> ・文字列描画printf <br> ・描画(四角形とか点) Screen::bitblt <br> ・VRAM直接操作 <br> ・仮想VRAMクラス <br> ・スレッドcreate/join Mutex <br> ・汎用メッセージング機構(プロセス間で通信が可能) <br> ・メッセージングを利用してマウス・キーボード入力情報が取得可能 <br> ・プロセス間に共有ページ(メモリウィンドウ)を作成可能 <br> ・新規プロセス生成 <br> ・簡易シェルから自分の作成した実行形式のファイルを実行可能 <br>  <br> 実はいろいろと簡単なアプリが作れたりするのかなとは思っているのですが <br> なかなか手を付けられないですねぇ。 <br> cygwin/linux のgcc, objcopy, ld等のツールがあれば今すぐ <br> Monaのアプリがかけます。 <br>  <br> 簡単なサンプル(ゲームなど)を見せられたりしたらよいのでしょうか（多少派手めに) <br> それとも何か有名なものを移植？ <>
Be名無しさん<>sage<>04/02/09 22:39<> そりゃあもちろんRogueCloneを <>
Be名無しさん<>sage<>04/02/09 22:40<> マインスイーパをキボンヌとか言ってみる <>
89<>sage<>04/02/09 22:49<> やたら伸びてるなあ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/91" target="_blank">&gt;&gt;91</a> <br> 文字だけだとうまいこと説明できないので、 <br> リングバッファでぐぐって下さい。 <br>  <br> 基本的に読む方と書く方には依存関係がないので、 <br> アトミックである必要がないだけです。 <br> 当然複数の場所から同時に書き込まれる・読み込まれる場合は <br> そこの排他制御は必要になります。 <br>  <>
Be名無しさん<>sage<>04/02/09 23:09<> ちゃんとソースを見たわけではないけど。 <br> 移植とか結構いけるんでないかな。VRAM開放されているのが <br> 大きい。 <>
Be名無しさん<>sage<>04/02/10 00:27<> アプリはC言語で書くのですか？ <>
Be名無しさん<>sage<>04/02/10 00:38<> 今のところCかC++を想定してると思われ。 <br> 詳しくはWikiを参照の事。 <br> オブジェクト指向のAPIを提供する事と、 <br> C言語ライブラリの整備が行われている途中。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/10 01:37<> <a href="../test/read.cgi/os/1076216434/89" target="_blank">&gt;&gt;89</a>さん <br> ありがとうございます。＞リングバッファ <br>  <br> <a href="../test/read.cgi/os/1076216434/141" target="_blank">&gt;&gt;141</a>さん <br> C++言語を想定しています。 <br> C言語でも可能ですがオブジェクト指向APIを <br> 提供して行く予定ですのでC++をお勧めします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/142" target="_blank">&gt;&gt;142</a>さん <br> フォローありがとうございました。 <br>  <br> うむ。材料がそろっていても何らかの起爆剤が必要なのですかねぇ。 <>
Be名無しさん<>sage<>04/02/10 18:59<> この時期にMONAでゲームでも作ってレポート書けば神だと思うんだけどな。 <br>  <>
Be名無しさん<>sage<>04/02/11 00:17<> strtodとかstrtoulとか。その辺に落ちてるの使ってもイーのに。 <br> University of Californiaのはよく見るけど、あれ元々何からのコードなんだろ。 <>
Be名無しさん<>sage<>04/02/11 00:52<> ライセンスさえ解決すれば、ぱくってきていいと思う。 <br> でも、ライセンスの制限がつくけどライブラリが増えるってのは、 <br> Monaプロジェクト的には、うれしいのかどうかわからない。 <br>  <br> このスレ的には、 <br> NICドライバ＋TCP/IPプロトコルスタック＋2chブラウザをMona上で実現したら神認定 <br> ではないでしょうか。 <>
Be名無しさん<>sage<>04/02/11 00:52<> こんなのができている <br>  <br> アプリ登録所 <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%A5%A2%A5%D7%A5%EA%C5%D0%CF%BF%BD%EA <>
Be名無しさん<>sage<>04/02/11 01:55<> <a href="../test/read.cgi/os/1076216434/145" target="_blank">&gt;&gt;145</a> <br> UCBのだったら何も無い所から作ってるはずだが。 <br>  <br> BSDLか(L)GPLならそこらからさくっともらえるが、 <br> MIT/Xつーのはこういうとき不便やね。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/11 02:44<> <a href="../test/read.cgi/os/1076216434/144" target="_blank">&gt;&gt;144</a>さん <br> <a href="../test/read.cgi/os/1076216434/146" target="_blank">&gt;&gt;146</a>さん <br> どちらも神ですねぇ。 <br>  <br> &gt; でも、ライセンスの制限がつくけどライブラリが増えるってのは、 <br> &gt; Monaプロジェクト的には、うれしいのかどうかわからない。 <br>  <br> カーネルではなくてユーザー側のライブラリであればあまりライセンスにこだわるつもりはありません。 <br> もちろん議論は必要ですが・・・ <br> あとMona APIの背後にそれらのライブラリが隠れている場合は複雑ですかね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/147" target="_blank">&gt;&gt;147</a>さん <br> 是非登録してください。 <br> 作者の私が言うのは変な話ですが敷居は割りと低めなので <br> たくさんの人がチャレンジしてくれるとうれしいです。 <br>  <br> 今日は某氏からMonaのレスポンスが悪いとの指摘を受けて <br> チューニングを開始。 <br>  <br> 当面の課題は３つ <br> ・gcc最適化オプションで動くようにする <br> 　　- O2まではOK(volatileにすべきところが見つかったりしてよかった) <br> ・FDからの読み込みの高速化 <br> 　　- 詳しい人のサポートがあるとうれしいかも。 <br> ・メッセージreceive時にスレッドをブロックするなどのスケジューラ周りの改善。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/11 02:50<> あと。gccインラインアセンブラのマニュアルを紛失してしまいました。 <br>  <br> "p"ってどういう意味かわかる人いたら教えてください。 <br> asm volatile("lidt (%0)\n": :"p"(temp)); <br>  <br> 最適化時にこの辺が怪しいので <>
Be名無しさん<>sage<>04/02/11 09:17<> <a href="../test/read.cgi/os/1076216434/148" target="_blank">&gt;&gt;148</a>ﾀﾝ <br> &gt; UCBのだったら何も無い所から作ってるはずだが。  <br> いんや、UCBが他からパクってるって意味でなく。 <br> ｵﾘが見た事あるのは全部、特定の関数のソースだけをUCBから拝借してる奴で。 <br> 元々UCBがライブラリや他のアプリを作る為にそれらの関数を作ったのか、 <br> それともそれらの関数自体を作りたかったのか。 <br> 前者だとして元ネタが何なのかを知らないという意味。 <>
Be名無しさん<>sage<>04/02/11 09:24<> アセンブリなんてくっさいもの使わないで全部C++にしようYO <>
148<>sage<>04/02/11 11:53<> <a href="../test/read.cgi/os/1076216434/150" target="_blank">&gt;&gt;150</a> <br> メモリアドレスらしい。 <br> mとの違いがよくわからん。 <br>  <br> -O2で通ればいいんでないかと思ふ。 <br> あとは-fomit-flame-pointer使って、レジスタを有効利用するとか。 <br>  <br> <a href="../test/read.cgi/os/1076216434/151" target="_blank">&gt;&gt;151</a> <br> AT&Tのライセンスに縛られないlibcを作るために書き下ろしたはず。 <br> 歴史の本を読めばそのへんの話が書いてある。 <br>  <br> <a href="../test/read.cgi/os/1076216434/152" target="_blank">&gt;&gt;152</a> <br> では手始めにsetjmp/longjmpをC++だけで書いて見てくれ。 <br> 漏れには難しすぎて出来ない。 <br> とか言ってみる。 <br>  <>
Be名無しさん<>sage<>04/02/11 12:26<> <a href="../test/read.cgi/os/1076216434/153" target="_blank">&gt;&gt;153</a>ﾀﾝ <br> 歴史の本ね。ありがとー。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/11 15:05<> <a href="../test/read.cgi/os/1076216434/152" target="_blank">&gt;&gt;152</a>さん <br> &gt; アセンブリなんてくっさいもの使わないで全部C++にしようYO <br>  <br> そうですねぇ。私もアセンブラを極力使わない派です。 <br> 使わなければいけないところだけで使います。 <br>  <br> <a href="../test/read.cgi/os/1076216434/148" target="_blank">&gt;&gt;148</a> <br> &gt; メモリアドレスらしい。 <br> &gt; mとの違いがよくわからん <br>  <br> ありがとうございます。私もそのような状況です。 <br> mだとコンパイルとおるのですが割込み時に死んでしまうので <br> lidtがうまく動いてないのかも。 <br>  <br> &gt; -O2で通ればいいんでないかと思ふ。 <br> &gt; あとは-fomit-flame-pointer使って、レジスタを有効利用するとか。 <br>  <br> とりあえず-O2はとおりました。(カーネル・アプリともに) <br>  <br> FDCドライバの最適化が難しそうですねぇ。 <br>  <br> そういえばMonaのユーザーアプリでmain関数にあたるものに <br> Shellから引数を渡せるようになりました。 <br>  <br> アプリ登録お待ちしています！ <>
Be名無しさん<>sage<>04/02/11 16:12<> バイナリ配布汁。 <br>  <>
Be名無しさん<>sage<>04/02/11 17:11<> <a href="../test/read.cgi/os/1076216434/148" target="_blank">&gt;&gt;148</a> <br> &gt; BSDLか(L)GPLならそこらからさくっともらえるが、 <br> &gt; MIT/Xつーのはこういうとき不便やね。 <br> BSDLとMIT/Xを混ぜるのは何の問題もない。実質同じだから。 <br> 実際、以前FreeBSDのlibcから持ってきたコードがMonaに入ってたことがあった。 <br> GPL系を混ぜても構わないけど作られたバイナリはGPLになってしまう。 <br> それが嫌なら混ぜられない。 <>
Be名無しさん<>sage<>04/02/11 19:05<> 神待ち <>
Be名無しさん<>sage<>04/02/11 21:42<> そういやnewlibってBSDライセンスじゃなかったっけ？ <br>  <>
Be名無しさん<>sage<>04/02/11 22:07<> ./Jで鳥取砂丘祭りがある。 <br> 負けじとMONAネタ投稿したら面白いかも。 <br> それなりにできているわけだし。 <>
Be名無しさん<>sage<>04/02/11 22:57<> <a href="../test/read.cgi/os/1076216434/160" target="_blank">&gt;&gt;160</a> <br> その前にリリースしないと。 <>
Be名無しさん<>sage<>04/02/11 23:05<> /.にはあくまでプレスリリースを出す気持ちでいかないと。過度の期待は禁物 <>
Be名無しさん<>sage<>04/02/12 00:47<> 技術的ネタは食いつき悪いので、 <br> おもろくないと思う。 <br>  <>
Be名無しさん<>sage<>04/02/12 01:04<> OS板&gt;&gt;/. <br>  <br> 結構スラドの記事って引用されるから、まともな形になってからリリースしたほうが。 <>
Be名無しさん<>sage<>04/02/12 01:11<> <a href="../test/read.cgi/os/1076216434/135" target="_blank">&gt;&gt;135</a> <br> &gt; 勉強不足ゆえ消化中ですが。 <br> http://up.isp.2ch.net/up/5bcb3ecbd622.zip <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/12 11:24<> <a href="../test/read.cgi/os/1076216434/156" target="_blank">&gt;&gt;156</a>さん <br> &gt; バイナリ配布汁。 <br>  <br> 非公式版ですが下記からどうぞ。 <br>  <br> ttp://wiki.osdev.info/index.php?cmd=read&page=%5B%5BDiskImage%2FMona%5D%5D <br>  <br> <a href="../test/read.cgi/os/1076216434/157" target="_blank">&gt;&gt;157</a>さん <br> <a href="../test/read.cgi/os/1076216434/159" target="_blank">&gt;&gt;159</a>さん <br>  <br> 以前書いたとおりユーザーモード用のライブラリであれば <br> 特にライセンスにこだわりはありません。 <br>  <br> <a href="../test/read.cgi/os/1076216434/165" target="_blank">&gt;&gt;165</a>さん <br> ソース拝見させていただきました。 <br> 私なんかより全然進んでいらっしゃるようです。 <br> こちらこそ勉強不足。。。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/12 11:25<> &gt; 当面の課題は３つ <br> &gt; ・gcc最適化オプションで動くようにする <br> &gt; 　　- O2まではOK(volatileにすべきところが見つかったりしてよかった) <br>  <br> -O3も通りました。これからはデフォルトO3でビルドするようにいたします。 <br> インラインアセンブラのエラーの件は某氏のご協力により解決しました。 <br>  <br> &gt; ・FDからの読み込みの高速化 <br> &gt; 　　- 詳しい人のサポートがあるとうれしいかも。 <br>  <br> 未解決です。FDCDriverのソースを眺めているのですが <br> 全く分かりません。たかだか数十`バイトのELFの読み込みに時間がかかりすぎです。 <br>  <br> ソースは↓の通りです。どなたか詳しい方の突込みをお待ちしております。 <br>  <br> ttp://cvs.sourceforge.jp/cgi-bin/viewcvs.cgi/mona/mona_v1.0/src/FDCDriver.cpp?rev=1.78&content-type=text/vnd.viewcvs-markup <br>  <br> &gt; ・メッセージreceive時にスレッドをブロックするなどのスケジューラ周りの改善 <br>  <br> 改善しました。 <br> 今まではメッセージreceiveを発行したときにメッセージキューがからだった場合 <br> ビジーウェイトしていたのですが、スレッドをブロックするようにしました。 <br> メッセージが到着次第起こされる仕組みです。 <br>  <br> これによりCPUが無駄に消費されない＆メッセージ受信時に素早く反応できるようになったと思います。 <>
Be名無しさん<><>04/02/12 14:33<> バイナリキターーーーーーーー <>
Be名無しさん<>sage<>04/02/12 14:45<> スクリーンショット希望。 <br>  <>
Be名無しさん<>sage<>04/02/12 17:15<> ひげー QEMUビルドのその後はどうなった？SDL入れたらうまくいったのかね？ <>
Be名無しさん<>sage<>04/02/12 18:08<> <a href="../test/read.cgi/os/1076216434/167" target="_blank">&gt;&gt;167</a> <br> FDトロイのは1sector毎に読んでるからじゃないの？ <br>  <>
鳥取砂丘&rlo;ｺｯﾞﾀｺｯﾞﾀ&lro; </b>◆Dream/3P/. <b><>sage<>04/02/12 18:23<> 毎回シークしてるからじゃね？(´・ω・｀) <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/12 18:51<> <a href="../test/read.cgi/os/1076216434/170" target="_blank">&gt;&gt;170</a> <br> qemu@cygwinはあきらめました。 <br> Vine Linux上で環境を以前作りました。 <br> VBE対応版はまだ入れていないです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/171" target="_blank">&gt;&gt;171</a>さん <br> &gt;&gt;鳥取砂丘さん <br>  <br> &gt; FDトロイのは1sector毎に読んでるからじゃないの？ <br>  <br> &gt; 毎回シークしてるからじゃね？(´・ω・｀) <br>  <br> ありがとうございます。 <br> なるほど。毎回シークしないというのは連続していたら <br> シーク省略ですかね。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/12 19:10<> カレントトラックが次の読み込み対象トラックと一緒だったらseek省略 <br> でやってみようかな。 <>
165<>sage<>04/02/12 20:05<> <a href="../test/read.cgi/os/1076216434/166" target="_blank">&gt;&gt;166</a> <br> &gt; 私なんかより全然進んでいらっしゃるようです。  <br> &gt; こちらこそ勉強不足。。。  <br> 延々とArrayの話をした本人だもん。 <br> 実装を差し上げるよってことなんですが。 <br> Javaみたいで便利とか思えば使い方も分かるかと。 <>
Be名無しさん<>sage<>04/02/12 20:57<> &gt;int MonaMain(List&lt;char*&gt;* pekoe); <br> こういうのこそArrayにすると良い。可変長である必要はない。 <br> ユーザープログラミングではメモリ管理を極力排除できるような構成を意識すべき。 <br> その意味ではSTLやboost的なC++よりManaged C++の方が参考になる。 <>
Be名無しさん<><>04/02/12 22:35<> きたーーMONA <>
Be名無しさん<>sage<>04/02/12 22:56<> <a href="../test/read.cgi/os/1076216434/174" target="_blank">&gt;&gt;174</a> <br> 前回時のトラックを覚えさせておいて、 <br> 前回と同じトラックだったらシークを省略なのでは？ <br> あと、最低限DOSでいうところのFILES相当のディスクキャッシュを <br> 実装してみては？ <br>  <>
178<>sage<>04/02/12 23:01<> <a href="../test/read.cgi/os/1076216434/178" target="_blank">&gt;&gt;178</a> <br> ミスった。FILESじゃなくて、BUFFERSね。 <br>  <>
Be名無しさん<>sage<>04/02/12 23:46<> <a href="../test/read.cgi/os/1076216434/178" target="_blank">&gt;&gt;178</a> <br> それはFDCの方で管理していたような気がする。 <br> 765じゃなくてMB8877だったかな？ <br>  <br> ぐぐったらデータシート見付けたので参考に。 <br> ttp://paginas.terra.com.br/informatica/brlivre/minix/docs/outros/uPD765.pdf.gz <br>  <>
Be名無しさん<>sage<>04/02/13 01:04<> <a href="../test/read.cgi/os/1076216434/180" target="_blank">&gt;&gt;180</a> <br> 実際にヘッドをシークさせるパルス信号を出すかどうかというのとは <br> 別の話で、ドライバなりがFDCにSEEKコマンドを発行するかどうかと <br> いう話ね。 <br> 物理的にシークしなかったとしても、いちいちSEEKコマンドを発行したら、 <br> 次のREADなりWRITEコマンドの発行が次のセクタのID部にヘッドがかかかる <br> 前までに完了しなくて、1回転するのを待つことになりかねないと思うん <br> だけどね。 <br> #インターバルにセクタ番号を振る物理フォーマットをすれば間に合う <br> #かな？ <br>  <>
Be名無しさん<>sage<>04/02/13 02:34<> <a href="../test/read.cgi/os/1076216434/181" target="_blank">&gt;&gt;181</a> <br> そりゃシーク関係ないとおもわれ。 <br> いくらCPU早くても1セクタ毎にリード出していたら <br> FDCついてこれなくて一回転待たされるぞ。 <br>  <br> そのへんの問題を回避するためにセクタ番号飛び飛びにするつーのは実際あった。 <br> 読み方によってはかえって遅くなるという… <br>  <>
Be名無しさん<>sage<>04/02/13 07:01<> <a href="../test/read.cgi/os/1076216434/183" target="_blank">&gt;&gt;183</a> <br> 現時点では主に連続読み込みするのはカーネル側っぽいから間に合うかな <br> と思ったけど、きついかな？ <br> SEEKコマンドの最適化しても遅かったら、マルチセクタ対応にするしか <br> ないんだろうね。効果的に利用するようにするのは、今のMonaでは簡単 <br> ではないかもしれないけどね(上位層にFDの特性に特化したコードを <br> 入れればそうでもないだろうけど…)。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/13 14:29<> <a href="../test/read.cgi/os/1076216434/165" target="_blank">&gt;&gt;165</a>さん <br> 失礼いたしました。 <br> 熟読させていただきます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/176" target="_blank">&gt;&gt;176</a>さん <br> 突っ込まれると思っていました（笑） <br> すいません。手を抜きました。 <br> カーネルに引数を渡す実装がしたくて <br> 型自体では手を抜きました。 <br> Stringクラスを作ったら改善します。m(__)m <br>  <br> <a href="../test/read.cgi/os/1076216434/178" target="_blank">&gt;&gt;178</a>さん <br> &gt; 前回時のトラックを覚えさせておいて、 <br> &gt; 前回と同じトラックだったらシークを省略なのでは？ <br> ありがとうございます。実装しましたが <br> まだ遅いようです。 <br> LBA=1〜10の連続読み込み × 10回で12秒ほどかかります。 <br> 50KBに12秒は遅すぎですよね <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/13 14:30<> &gt; ミスった。FILESじゃなくて、BUFFERSね。 <br> ディスクキャッシュですか。 <br> FDCDriverの読み込み速度の改善には <br> 直接はつながらないですよね。 <br> ファイルシステム側のほうがいいですかね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/180" target="_blank">&gt;&gt;180</a>さん <br> &gt; ぐぐったらデータシート見付けたので参考に。 <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/183" target="_blank">&gt;&gt;183</a>さん <br> &gt; SEEKコマンドの最適化しても遅かったら、マルチセクタ対応にするしか <br> &gt; ないんだろうね。効果的に利用するようにするのは、今のMonaでは簡単 <br>  <br> マルチセクタですか。うーむ。OSASKとかはFDアクセスが早いので <br> その辺のテクニックを使っているのですかね。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/13 14:34<> 最近の成果 <br>  <br> ・RTCにより日付・時刻が取得できるようになりました(Dateクラス) <br> 　　詳細はsrc/user/clock.cppをご覧ください。 <br>  <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%A5%A2%A5%D7%A5%EA%C5%D0%CF%BF%BD%EA <br> アプリ登録所に登録がありました。 <br> 割と本格的にMonaでプログラミングしたよい例といえると思います。 <br> しかもFSサーバなので自分としても大変参考になります。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 00:29<> アプリ登録所にサンプルとしてオセロを登録しました。 <br> むかしjavaで書いたやつの移植版です。 <br>  <br> 制限・特徴 <br> ・マウスを用いて人同士の対戦ができます。(コンピュータ対戦部は今回は移植しませんでした。) <br> ・クラスMonaApplicationの実装例です。(Monaではこういうことが出来るよの見本のような感じ) <br> ・GUI部品がないので終了・リセット・UNDO・勝敗表示は出来ません。(機能としてはあるのですが) <br> ・オセロのロジック部と表示部をオブザーバーパターンで分離しているのでC++をサポートしている <br> 　ほかのOSにも割りと簡単に移植できそう。 <br> ・描画にはダブルバッファを用いて変更箇所のみ描画しなおしているのでちらつきもありません。 <br>  <br> 今後カーネルコーディングの暇を見て少しずつパワーアップしていく予定です。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 00:37<> 2月中はユーザーアプリの作成のサポートと。 <br> サーバー間のメッセージプロトコルを決めるあたりを中心に <br> 作業を進める予定です。 <br>  <br> ↑で書き忘れたのですがオセロのソースは日本語でコメントを <br> いっぱい書いたので多少は分かりやすいと思います。 <br>  <br> 皆様のアプリ登録をお待ちしております。m(__)m <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 08:33<> 無駄なseekをなくして改良したFDCDriverですがまだ遅いようです。 <br>  <br> Mona起動時のBIOS利用のカーネル読み込み時とFD読み込みの音が違うなあ <br> と気づきました。 <br>  <br> BIOS利用時は「ｸﾞｯｸﾞｯ」と読み込みが連続している感じなのですが <br> FDCDriverの方がたまに「ｸﾞｯ」となるだけです。 <br> なんだか「待ち」をしているような感じです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 09:37<> RDTSC命令を使用してどの部分が遅いか調べてみました。 <br>  <br> seek:0x56 ロジックによりコマンド発行せず <br> dma setup:0x29FB <br> read command発行:0x129CC <br> 完了割込み待ち:0x9BB8294 <br> result引き取り:0xE532 <br> stop dma:0x4AD <br> memcpy:0x87B <br> total:0x9BDCAF1 <br>  <br> これにより分かったことはreadコマンドを発行後、完了割込みがくるまで <br> が大半の時間であるということです。 <br>  <br> readコマンドのパラメータの問題なのでしょうか。 <br> うーん。 <>
Be名無しさん<>sage<>04/02/14 10:44<> つーか、VESAは16bitで十分です。 <br>  <>
Be名無しさん<>sage<>04/02/14 12:09<> <a href="../test/read.cgi/os/1076216434/187" target="_blank">&gt;&gt;187</a> <br> &gt;・オセロのロジック部と表示部をオブザーバーパターンで分離しているので <br> 昔pantora(hajimetyan)が/.で公開して弱くて顰蹙だったオセロと同じこと言ってるな。 <br> ひょっとして「ひげぽん＝平初」か？と思ったけど年齢が違うね。 <br> ひげぽん: 25 or 26歳 <br> 平初: 22歳 <br> Java厨の思考回路は似てるってことか。 <>
Be名無しさん<>sage<>04/02/14 13:46<> <a href="../test/read.cgi/os/1076216434/190" target="_blank">&gt;&gt;190</a> <br> そりゃ、いまどきのCPUならドライブから1sec分のデータを読み込んでくる <br> のを待っている間が大半になるんじゃないかな？ <br> 連続読み込みして、前回の完了割込みから今回のREADコマンド発行まで <br> の時間が、十分に短いかどうかが問題だと思います。 <br> # ソースをもうちょっとよく読んだら、ちょっときついかもしれない。 <br> # 下請けのプロシージャはインライン展開になっているのかな？ <br> # ローカル変数の配列初期化定義もいくら今どきのCPUでもGAP3通過時間 <br> # との闘いという面では、だいぶ不利かも知れないね。 <br>  <>
193<>sage<>04/02/14 13:54<> <a href="../test/read.cgi/os/1076216434/193" target="_blank">&gt;&gt;193</a> <br> ローカル変数→ローカル自動変数 <br>  <>
193<>sage<>04/02/14 15:07<> <a href="../test/read.cgi/os/1076216434/193" target="_blank">&gt;&gt;193</a> <br> 必要以上に完了割込み待ちをしているかどうかいう問題もありえるか。 <br> 普通の1.44Mドライブの回転速度は、360rpmだったかな？ <br> 360rpmだとすると、大雑把には、 <br> (READ待ち時間[s]) = 60/360 / 18 <br> で、9.2592... ms <br> まぁ、実際にはGAP4などがあるからもうちょっと短いと思うけど…。 <br>  <>
Be名無しさん<>sage<>04/02/14 15:10<> <a href="../test/read.cgi/os/1076216434/187" target="_blank">&gt;&gt;187</a> <br> &gt; #include&lt;OthelloBoard.h&gt; <br> &lt;&gt;はインクルードパスにあるヘッダを指定するのに使う。 <br> ソースのパスと同じ、または相対参照できるものは""を使う。 <br> あと空白を空けといて。 <br> → #include "OthelloBoard.h" <br>  <br> &gt; monaApp = new myApplication("OTHELLO.ELF"); <br> &gt; dword myPid   = Message::lookup("OTHELLO.ELF"); <br> getpid()を実装したんじゃなかったの？ <br> 自分自身の名前をハードコードするようなのは良くない。 <br> サーバのようなものだったらハードコードしても実害ないだろうけど、 <br> そういうのはシステムヘッダに定数として書いておくべきだろう。 <br> #define MOUSE_SERVER "MOUSE.SVR" <br>  <br> サービス名がファイル名そのままなのは考え物。 <br> RegisterClass()みたいに文字列で名前を付けられるようにするべき。 <br>  <br> あとothello.cppとOthelloBoard.cppの文字コードや改行コードがまちまちなのも気持ち悪い。 <br> 犬糞と行き来してるからか？ <br> 改行コードは趣味に合わせるとしか言えないが、文字コードは中立でUTF-8が良い。 <br> どうせ文字列クラスと絡んでUnicodeは避けられないんだから。 <>
Be名無しさん<>sage<>04/02/14 15:20<> <a href="../test/read.cgi/os/1076216434/196" target="_blank">&gt;&gt;196</a> <br> &gt;犬糞と行き来してるからか？ <br> eucJPなんか犬糞ですら時代遅れになってる。 <br> Fedoraはja_JP.UTF-8に移行してるぞ。 <br> Kondaraが何年も前にやろうとしてはいたがね。 <br> Solarisだとja_JP.UTF-8はとうの昔にサポートされてる。 <br> Windows 2000からはメモ帳ですらUTF-8をサポートしている。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 15:49<> <a href="../test/read.cgi/os/1076216434/191" target="_blank">&gt;&gt;191</a>さん <br> &gt; つーか、VESAは16bitで十分です。 <br>  <br> 現在のMonaは稼動中にビデオモードを変更することは出来ません。 <br> そのため起動時にある優先順位でいくつかのビデオモードがサポート <br> されているかを調べて行き、最初に見つかったビデオモードに <br> 切り替えるようになっています。 <br>  <br> 多色が良いという方もいれば16bitで十分という方もいらっしゃって <br> 難しいですね。 <br> 稼動中に切り替えることが出来ればこの問題は解決しそうですね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/193" target="_blank">&gt;&gt;193</a>さん <br> &gt; そりゃ、いまどきのCPUならドライブから1sec分のデータを読み込んでくる <br> &gt;のを待っている間が大半になるんじゃないかな <br>  <br> なるほど。そのまっている時間が実際に何msなのかが問題なのですね。 <br>  <br> &gt; 前回の完了割込みから今回のREADコマンド発行まで <br> &gt;の時間が、十分に短いかどうかが問題だと思います <br>  <br> そういうことですか。なんだか納得しました。 <br>  <br> &gt; 360rpmだとすると、大雑把には、 <br> &gt; (READ待ち時間[s]) = 60/360 / 18 <br>  <br> そうすると結局。最適化してread間の時間を <br> 短くすればよいってことですよね。 <br> スケジューリングとあわせると複雑になりそうですねぇ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 15:50<> <a href="../test/read.cgi/os/1076216434/196" target="_blank">&gt;&gt;196</a>さん <br> ご確認・ご指摘ありがとうございます。 <br>  <br> &gt; → #include "OthelloBoard.h" <br>  <br> 修正しました。 <br>  <br> &gt; monaApp = new myApplication("OTHELLO"); <br> &gt; dword myPid = System::getPID(); <br>  <br> &gt; そういうのはシステムヘッダに定数として書いておくべきだろう。 <br> &gt; #define MOUSE_SERVER "MOUSE.SVR" <br>  <br> これはサーバー間のプロトコルが決まり次第ルールを決めたいと思います。 <br>  <br> &gt; あとothello.cppとOthelloBoard.cppの文字コードや改行コードがまちまちなのも気持ち悪い。 <br>  <br> euc-jp-unixで統一しました。(エディタの都合です) <>
Be名無しさん<>sage<>04/02/14 16:24<> <a href="../test/read.cgi/os/1076216434/199" target="_blank">&gt;&gt;199</a> <br> &gt;euc-jp-unixで統一しました。(エディタの都合です) <br> エディタというのがEmacsのことだったら、最近のだと <br> * Editing -&gt; I18n -&gt; Mule -&gt; utf-translate-cjk-mode <br> ってやればUTF-8使えるよ。 <br> そんなの出ない古〜いやつを使ってるならMule-UCS必須だけどね。 <br>  <br> 文字コードの話を避けているようだけど、 <br> 避けるためにこそUTF-8を推薦してるんだけどね。 <br> ロカールとか言語ごとの文字コードとか考えたくないでしょ？ <br> 今の段階で考える内容じゃないからね。 <br>  <br> char*はUTF-8、文字列クラス内部ではUCS-4というのが最も簡単な実装。 <br> SJISとかEUCだとsubstringで漢字を扱うときにDOS時代に逆行しちゃうぞ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 16:37<> <a href="../test/read.cgi/os/1076216434/200" target="_blank">&gt;&gt;200</a>さん <br> &gt; エディタというのがEmacsのことだったら、最近のだと <br> &gt; * Editing -&gt; I18n -&gt; Mule -&gt; utf-translate-cjk-mode <br> &gt; ってやればUTF-8使えるよ。 <br> set-buffer-file-codingsystemで <br> utf-8は選択できるのですがc-x sの保存時にエラーになったので <br> euc-jp-unixにしました。(view cvsの都合もよいかなあと) <br>  <br> &gt; 文字コードの話を避けているようだけど、 <br> &gt; 避けるためにこそUTF-8を推薦してるんだけどね。 <br>  <br> すいません。避けているわけではないのですが <br> まだ何も考えていません。 <br>  <br> いつの段階で文字コードのことを考えればよいのか <br> 迷うところです。 <>
Be名無しさん<>sage<>04/02/14 16:48<> <a href="../test/read.cgi/os/1076216434/201" target="_blank">&gt;&gt;201</a> <br> &gt; 保存時にエラーになったので <br> ↓は試しましたか？ <br> &gt;&gt; * Editing -&gt; I18n -&gt; Mule -&gt; utf-translate-cjk-mode <br>  <br> &gt; view cvsの都合もよいかなあと <br> HTMLのソースで文字コードは指定されていませんよね。 <br>  <br> &gt; いつの段階で文字コードのことを考えればよいのか <br> &gt; 迷うところです。 <br> 文字列クラスを作るとき。 <br> new String("漢字")-&gt;getLength() <br> とか <br> new String("漢字")-&gt;substring(1, 1) <br> がどういう結果になるのが望ましいでしょうか？ <br>  <br> ソースが何であれ内部でwcharにしないと自然に扱えませんし、 <br> 今から定義するならwchar=UCS-4というのが簡単です。 <br> EUCとかだと変換テーブルとかロカールとか絡んで面倒くさいですよ。 <br> というわけで何も考えなくて済むのはUTF-8。 <>
Be名無しさん<>sage<>04/02/14 16:56<> 少なくともEUC-JPはSJISよりはましだけどね。 <br> gccでSJISだと"表\示"みたいなことになっちゃうからね。 <>
Be名無しさん<>sage<>04/02/14 18:11<> gcc って L"日本語" とかやってもだめじゃなかったっけ？  <br>  <>
Be名無しさん<>sage<>04/02/14 18:16<> <a href="../test/read.cgi/os/1076216434/204" target="_blank">&gt;&gt;204</a> <br> ダメ。 <br> APIをwchar_t*で扱うようにするのは無謀だから、 <br> 全部文字列クラス経由にして隠蔽しないと厳しい。 <br> ソースはchar*で書くにしても文字列クラスのコンストラクタやoperator=とかで <br> 代入時に変換しないとワイドキャラクタは自然に扱えない。 <>
Be名無しさん<>sage<>04/02/14 18:43<> <a href="../test/read.cgi/os/1076216434/205" target="_blank">&gt;&gt;205</a> <br> 結局変換するんだったらEUCでもUTF8でも同じなんじゃねーの? <>
Be名無しさん<>sage<>04/02/14 19:00<> <a href="../test/read.cgi/os/1076216434/206" target="_blank">&gt;&gt;206</a> <br> 内部的には固定長文字列が良くて、今選ぶなら UCS4 だろ。 <br> したら UTF-8 で入力するのが楽でない？ <br>  <br> という話だと思う。 <br> 今作ってる辺りなら ASCII だけで良いと思うけどね。 <br>  <>
Be名無しさん<>sage<>04/02/14 19:08<> UCS信者うざいよ <br> UCSとUTFを同一視すんな <>
Be名無しさん<>sage<>04/02/14 19:13<> <a href="../test/read.cgi/os/1076216434/207" target="_blank">&gt;&gt;207</a> <br> でも既に半角カナでAAしてるからね。 <br> AAをハードコードするとSJISになってしまう。 <>
Be名無しさん<>sage<>04/02/14 19:16<> UTF-8を採用するか否かで勝ち組になるか負け組になるかの瀬戸際だからな。 <br> それは譲れない。 <>
Be名無しさん<>sage<>04/02/14 19:26<> <a href="../test/read.cgi/os/1076216434/209" target="_blank">&gt;&gt;209</a> <br> MS仕様Unicodeみたいに半角カナ用の文字コードを互換領域に <br> 定義してしまえばSJISになってしまうとは限らない。 <br>  <>
Be名無しさん<>sage<>04/02/14 19:43<> どうでもいいけど、ロケールって言わないですか？ <br>  <br> UTF-8を採用しないと、負け組みなのですか。 <br> OSが文字コードに依存しないようにしておけばいいだけじゃないのですか？ <>
Be名無しさん<>sage<>04/02/14 20:04<> <a href="../test/read.cgi/os/1076216434/212" target="_blank">&gt;&gt;212</a> <br> &gt; OSが文字コードに依存しないようにしておけばいいだけじゃないのですか？ <br> 文字列を単に表示にしか使用しないのなら別だけど、 <br> ファイルのパス名などカーネルオブジェクトの名前を表現するために <br> 文字を使用すれば通常は文字列操作が必要になるから文字コードに依 <br> 存しないようにするのは無理かと。 <br>  <>
Be名無しさん<>sage<>04/02/14 20:30<> <a href="../test/read.cgi/os/1076216434/212" target="_blank">&gt;&gt;212</a> <br> &gt;どうでもいいけど、ロケールって言わないですか？ <br> それではシュミレーションなんかと同じ <br> ロカール <>
Be名無しさん<>sage<>04/02/14 20:51<> <a href="../test/read.cgi/os/1076216434/213" target="_blank">&gt;&gt;213</a> <br> &gt;ファイルのパス名などカーネルオブジェクト <br> ファイル操作は全部カーネル外のサーバに押し出したらカーネルとは関係なくなるけどね。 <br> カーネル内部でコード変換とかやったらカーネルが一気に肥大化してしまう。 <br> FATだけ扱うにしてもSJISだからソースをEUCにしたらコード変換が発生してしまう。 <br> そろそろ考えないと、その辺の問題が出てくるよ。 <>
Be名無しさん<>sage<>04/02/14 21:01<> <a href="../test/read.cgi/os/1076216434/211" target="_blank">&gt;&gt;211</a> <br> 今のMonaの実装では、という話。 <br> 昔のPCみたいにフォントは1バイトに単純にマップしてあるからね。 <br> ともかくFATにしてもAAにしてもソースEUCではコード変換必須。 <br> SJISとEUCの変換は基本的に計算で出来るがIBM拡張領域とかでテーブル必須だし <br> 3バイトEUCとかを実装しないと不可逆変換になってしまう。 <br> UTF-8にしてもFATでコード変換が発生するのは避けられないけどね。 <br> 手抜きするなら当面SJISになるけどgccだと"表\示"みたいな問題は覚悟しないといけない。 <>
Be名無しさん<>sage<>04/02/14 21:06<> $ find /path/to/mona_v1.0 -exec qkc -e {} \; <br> OK <br>  <>
Be名無しさん<>sage<>04/02/14 21:11<> <a href="../test/read.cgi/os/1076216434/217" target="_blank">&gt;&gt;217</a> <br> カーネルのコメント全部英語だし。 <br> それに文字コードに依存するような処理はカーネル外に出すべきだからあまり関係ない。 <br> ユーザーアプリとか作るときに影響がある。 <br> WideStudioではMakefileでソースにプリプロセッサかまして避けている。←sjisfix <>
Be名無しさん<>sage<>04/02/14 21:13<> ＞カーネルのコメント全部英語だし。 <br> 外人に見せるために英語にしてるなら尚更SJIS決め打ちはまずいだろ <>
Be名無しさん<>sage<>04/02/14 21:16<> <a href="../test/read.cgi/os/1076216434/214" target="_blank">&gt;&gt;214</a> <br> モノシリック <>
Be名無しさん<>sage<>04/02/14 21:18<> モノリシック <br> 物知りっ９ <br> by Canna <br> <a href="../test/read.cgi/os/1076216434/219" target="_blank">&gt;&gt;219</a> <br> 卑下の英語って変だろw <br> TRISPLANよりマシだが。 <br>  <br>  <>
Be名無しさん<>sage<>04/02/14 21:22<> VFATも扱うとなると、ロングファイル名はUnicodeで格納されている <br> から、どっちみちコード変換の機能は必要だね。 <br> N:N対応だとコード変換の種類がN*(N-1)通りになるから、 <br> ネイティブともいえる文字コードを1つ決めて、1:N対応になるように <br> すればコード変換の種類がN通りですむという話なのではと思う。 <br> で、そのネイティブ文字コードの地位をめぐる争奪戦が繰り広げられよう <br> としていると。 <br>  <>
Be名無しさん<>sage<>04/02/14 21:27<> 多数決をとろう。 <>
Be名無しさん<>sage<>04/02/14 21:27<> <a href="../test/read.cgi/os/1076216434/222" target="_blank">&gt;&gt;222</a> <br> MSの特許問題でVFATまずくない？ <br> そうなるとUDFかUFS2かext2辺りが必要になるだろうね。 <br> UDFだとUnicodeだし、UFS2やext2だと特に決まりはないけど <br> 普通はEUC-JPで使ってるだろうから、 <br> マウント時にコードを指定して変換するしかないね。 <>
Be名無しさん<>sage<>04/02/14 21:29<> <a href="../test/read.cgi/os/1076216434/223" target="_blank">&gt;&gt;223</a> <br> あせるな。ひげぽんの降臨を待て。 <>
222<>sage<>04/02/14 21:34<> <a href="../test/read.cgi/os/1076216434/222" target="_blank">&gt;&gt;222</a> <br> ミスった。5行目のN通り→(N-1)*2通り <br>  <>
Be名無しさん<>sage<>04/02/14 22:08<> ↓の状況から、ひげぽんは本当に何も考えてなかったんだろうね。 <br> ＞othello.cppとOthelloBoard.cppの文字コードや改行コードがまちまち <br> 今は他のことがやりたいのに突然畳み掛けられて当惑してるんだろう。 <br>  <br> だけど今後ますます「今まで考えたこともなかった」ことがどんどん出てくるし <br> 知らないから後回しにすると修正が面倒になるようなことも多くなる。 <br> OSを作るというのは全方位の知識を総動員しないといけないくらい広いから。 <br> ここをどう乗り切るかで今後が占えるとも言える。 <br>  <br> 刮　目　し　て　待　て　！　！ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 22:11<> <a href="../test/read.cgi/os/1076216434/202" target="_blank">&gt;&gt;202</a> <br> &gt;&gt; * Editing -&gt; I18n -&gt; Mule -&gt; utf-translate-cjk-mode <br>  <br> Meadow2を使っています。 <br> utf-から始まるコマンドは見つかりませんでした。 <br> 私の力不足の可能性濃厚かも。 <br>  <br> &gt;&gt; view cvsの都合もよいかなあと <br> &gt;HTMLのソースで文字コードは指定されていませんよね。 <br>  <br> そのむかしview cvs上でchangeLogが文字化けしたので <br> eucにした記憶があったのですが勘違いかも知れません。 <br>  <br> &gt; new String("漢字")-&gt;substring(1, 1) <br> &gt; がどういう結果になるのが望ましいでしょうか？ <br>  <br> 文字コードに関しては詳しくないですが。 <br> それはユーザーモード側の話と認識しています。 <br> 正確にはライブラリですかね？カーネルと関わるところも <br> あるかもしれませんが、できるだけユーザーモードに <br> 押し戻したい感じです。(Monaのポリシーとして) <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 22:11<> 文字コード問題ですが。以下のように考えています。 <br> 1.カーネルが貧弱なので文字コードを議論する段階ではない。当分ASCIIでよいのでは。 <br> 2.ただし将来的にMonaのネイティブ文字コードを考えるのは絶対必要。 <br> 3.感触としてはUTF-8かなぁ。 <br> 4.ライブラリ等UTF-8のものをどなたか担当していただけるならば大歓迎です。 <>
Be名無しさん<>sage<>04/02/14 22:16<> <a href="../test/read.cgi/os/1076216434/228" target="_blank">&gt;&gt;228</a> <br> 頑張ったところ悪いけどピントがズレまくってますよ。 <br>  <br> ＞それはユーザーモード側の話と認識しています。  <br> カーネルの話はしてないよ。もともとオセロの話だったでしょ。 <>
Be名無しさん<>sage<>04/02/14 22:20<> <a href="../test/read.cgi/os/1076216434/229" target="_blank">&gt;&gt;229</a> <br> ＞2.ただし将来的にMonaのネイティブ文字コードを考えるのは絶対必要。 <br> ＞3.感触としてはUTF-8かなぁ。 <br> この辺、全然分かってない感じ。 <br> ソースを何で書くのかというのと、内部処理に何を使うかは別問題。 <br> 極端な話、前者はコンパイル前にプリプロセッサを通せば <br> Mona側で何もしなくても解決する問題だから。 <br>  <br> 内部処理にUTF-8みたいな可変長コードを使うのは最悪。 <br> Unicode 3.1でサロゲートが出てきた現在UTF-16でも同じ問題になる。 <br> 固定長ならUCS-4しかない。 <>
Be名無しさん<>sage<>04/02/14 22:21<> &gt; カーネルの話はしてないよ。 <br> それいっちゃ、話の流れ自体がピンとずれまくりじゃない？ <br> Mona って今カーネル作ってるところやん。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/14 22:23<> &gt; ＞それはユーザーモード側の話と認識しています。 <br> &gt; カーネルの話はしてないよ。もともとオセロの話だったでしょ。 <br>  <br> なるほど失礼いたしました。 <br> では。主にユーザーモードでの文字コードの扱いを <br> 決めるということが主題でしょうか。 <br>  <br> 現在のカーネル作成状況と割ける事件を考えると <br> 文字コード対応したStringやライブラリを用意するよりも <br> カーネルの機能の増強の方が優先されてしまう時期だと思います。 <br> (直近ではドライバインターフェースなど) <br>  <br> それを受けて以下のまとめになりました。 <br>  <br> &gt; 1.カーネルが貧弱なので文字コードを議論する段階ではない。当分ASCIIでよいのでは。 <br> &gt; 2.ただし将来的にMonaのネイティブ文字コードを考えるのは絶対必要。 <br> &gt; 3.感触としてはUTF-8かなぁ。 <br> &gt; 4.ライブラリ等UTF-8のものをどなたか担当していただけるならば大歓迎です。 <>
Be名無しさん<>sage<>04/02/14 22:27<> <a href="../test/read.cgi/os/1076216434/232" target="_blank">&gt;&gt;232</a> <br> アプリ募集してて、なおかつ、こんなの出来たよ〜って言ったのはひげぽん自身なんだけど <>
232<>sage<>04/02/14 22:29<> <a href="../test/read.cgi/os/1076216434/234" target="_blank">&gt;&gt;234</a> <br> 日本語扱えないとアプリ組むのもメンドイよ。 <br> つー話？ <br> なら、なんとなく分かる気もする。 <br>  <>
Be名無しさん<>sage<>04/02/14 22:32<> <a href="../test/read.cgi/os/1076216434/233" target="_blank">&gt;&gt;233</a> <br> ＞現在のカーネル作成状況と割ける事件を考えると  <br> ＞文字コード対応したStringやライブラリを用意するよりも  <br> ＞カーネルの機能の増強の方が優先されてしまう時期だと思います。  <br> ＞(直近ではドライバインターフェースなど)  <br> それはみんな分かってるんじゃ？ <br> たとえば <br> <a href="../test/read.cgi/os/1076216434/227" target="_blank">&gt;&gt;227</a> <br> ＞今は他のことがやりたいのに突然畳み掛けられて当惑してるんだろう <br>  <br> だけどJavaを使っているのにUTF-8とかUCS-4のことを知らないのは <br> 勉強不足と言われても仕方ないよ。 <br> Javaでは内部がUTF-16だしcharはuint16_tだってことは知ってるよね？ <br>  <br> コード変換のことを知っておかないとDBとのやり取りで文字化けしたりするし、 <br> そんな人の作ったWebサービスとか怖くて使えない。 <br> 煽りじゃなくてマジだよ。 <>
Be名無しさん<>sage<>04/02/15 01:25<> 本当に文字コードのことを全然知らないみたいなんで気の毒になって来た。 <br> ググっても小難しい英語の資料とかが多いから簡単に説明しておくか。 <br>  <br> もともと各国で別々の文字コードが使われていたけど、 <br> それだと処理を文字コードごとに作りこまないといけなくなるので、 <br> 主要な文字コードを単一の文字コードに入れた。これがUnicode。 <br> その際に文字コードは16bitで表現された。つまり65536種類の文字。 <br> 1文字2バイトの固定長で表現されるためUCS-2と呼ばれる。 <br>  <br> しかし文字単位を16bitにしてしまったため <br> 従来のchar*を使う関数では処理できなくなってしまった。 <br> そのためWin32では同じ関数をA系とW系のペアで提供する羽目になった。 <br>  <br> これでは扱いにくいので8bitのcharでUnicodeを扱えるようにしたのがUTF-8。 <br> UCSはコード体系で、UTFは符号化方式を表す。 <br> 7bitしか使えないメール用にUTF-7なんてのもある。 <br> つまり本当の体系はUCS-2で、UTF-8は便宜的に作られたもの。 <br>  <br> ただしUTF-8は可変長であるため文字列処理には向かない。 <br> 文字列処理自体は1文字16bitの固定長配列に変換して行う。 <br> Javaもその考え方に基づいてUCS-2を採用した。 <>
Be名無しさん<>sage<>04/02/15 01:36<> しかしUCS-2は無理矢理世界中の文字を1つのコード表に詰め込んだため <br> 色々と無理が出てきてしまった。 <br> それにビルマ文字などはみ出してしまった文字も残ってしまった。 <br> そのためコードを32bitに拡張して対応することになった。これがUCS-4。 <br> つまりUCS-2は過去のものになってしまった。 <br>  <br> しかし既にUCS-2を採用してしまった処理系は多かったので、 <br> サロゲートという拡張方法でUCS-4を16bit可変長に押し込めたのがUTF-16。 <br> UTF-8は理論上31bitまでの拡張に対応できるようになっているので無問題。 <br> ※実際には32bitを使い切るようなことはあり得ないため。 <br>  <br> UCS-4登場以降に実装された処理系はUCS-4を採用している。 <br> たとえばglibcがそう。 <br> ただUCS-2からはみ出すような文字は現実的にほとんど使われないので <br> UTF-16と言ってもUCS-2としてしか使われないのが現状ではある。 <br>  <br> ともかくUCSがコード体系でUTFが符号化方式なのは最低限理解しないと、 <br> まともにUnicodeについて考えることは不可能ってこと。 <>
Be名無しさん<>sage<>04/02/15 02:09<> うにこーどは合成文字とか面倒臭いんだよなあ。 <br> 文字コードの問題は考えれば考えるほど面白くないｗ <br> interfaceでも文字コードの話してた事無いっけ？ <>
Be名無しさん<>sage<>04/02/15 02:23<> <a href="../test/read.cgi/os/1076216434/239" target="_blank">&gt;&gt;239</a> <br> 合成文字だけじゃなくてbidiなんかも超面倒くさい。 <br> 同じ文字コードでも結合状態で字体が変わったりする文字もあるし。 <br> だけどSJISとかEUC-JPだとそもそも表現できる可能性自体もないから、 <br> それよりはましってだけで欠点とかそういうことではない。 <br>  <br> もっともそんなの今の段階で考えることではまったくない。 <br> 8bitのフォントのコードページを16bitにするだけと考えるべき。 <br> それだけならSJISやEUC-JPでも漢字を表示する部分は大差ないので。 <>
Be名無しさん<>sage<>04/02/15 02:50<> <a href="../test/read.cgi/os/1076216434/235" target="_blank">&gt;&gt;235</a> <br> 日本語を使わなくたって、文字列をOS側と受け渡しするアプリは作りに <br> くいね。将来、作り直しを迫られるかも知れないからね。 <br> コンパイルし直すだけですむ場合もあるでしょうけど。 <br>  <>
Be名無しさん<>sage<>04/02/15 10:20<> つまりは、UCS-4を主張する人が、 <br> 　UCS-4&lt;-&gt;EUC-jp(or SJIS)の変換コード <br> 　UCS-4を表示するコード <br> を書けば、採用されるんじゃないの？ <br>  <>
Be名無しさん<>sage<>04/02/15 11:02<> <a href="../test/read.cgi/os/1076216434/241" target="_blank">&gt;&gt;241</a> <br> どうせ今のMonAPIは仮だからってことで <br> その辺の問題をあまり深刻に考えてないんだろうね。 <br> アプリ募集のための呼び水のはずのオセロが <br> 逆に「待ち」を推奨してしまう結果になったのは分かってるかな? <br>  <br> <a href="../test/read.cgi/os/1076216434/242" target="_blank">&gt;&gt;242</a> <br> 中身ブラックボックスで意味が分からないものを採用するわけないから、 <br> ひげぽんがUTF-8とUCS-4の関係を理解しないと無理かと。 <br> Arrayみたいに勝手にやると飼い殺しになりかねない。 <>
Be名無しさん<>sage<>04/02/15 11:33<> 今の API ってあまりに仮過ぎてバシバシ変わってるやん。 <br> 自分で勝手に作くる覚悟で API 変わるって分かってるやつしかアプリなんか作っちゃ駄目だって。 <br>  <br> API 変えてる状況で ASCII ってのは悪くない選択だと思うけど。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/15 16:31<> 知らないものはしょうがないですがそのままなのもアレなので <br> ちょっと文字コードについて勉強しました。 <br> 以下つけやきばかもしれませんがご容赦ください。 <br>  <br> <a href="../test/read.cgi/os/1076216434/231" target="_blank">&gt;&gt;231</a> <br> &gt; 内部処理にUTF-8みたいな可変長コードを使うのは最悪。 <br> &gt; Unicode 3.1でサロゲートが出てきた現在UTF-16でも同じ問題になる。 <br> &gt; 固定長ならUCS-4しかない。 <br>  <br> <a href="../test/read.cgi/os/1076216434/238" target="_blank">&gt;&gt;238</a>さんも書かれている通り <br> UCS4は文字コードセットの集合でUTF-16はエンコーディングではないでしょうか？ <br>  <br> <a href="../test/read.cgi/os/1076216434/236" target="_blank">&gt;&gt;236</a>さん <br>  <br> &gt; だけどJavaを使っているのにUTF-8とかUCS-4のことを知らないのは <br> &gt; 勉強不足と言われても仕方ないよ。 <br> &gt; Javaでは内部がUTF-16だしcharはuint16_tだってことは知ってるよね？ <br>  <br> その通りですね。確かに勉強不足だったので遅まきながら <br> 勉強しました。Java DOCの国際化のところも軽く目を通しました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/237" target="_blank">&gt;&gt;237</a> <br> <a href="../test/read.cgi/os/1076216434/238" target="_blank">&gt;&gt;238</a>さん <br> 丁寧なご説明ありがとうございます。 <br> 別資料でも勉強しましたがより理解が深まりました。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/15 16:32<> 浅い勉強で思ったのは。 <br> 文字コードセットはUCS-4を採用。 <br> エンコーディングは要検討(UTF-8, UTF-16など) <br> 内部で扱う場合は4byte固定がよいかなあと。 <br>  <br> 今後Monaで考えるべきことは <br>  <br> 4byte固定の体系 <br> エンコーディング決定 <br> ライブラリ開発というところでしょうか？ <br>  <br> あとは時期の問題もありますね。方針が決まっていれば <br> 急ぐことではないような気がします。 <br> また作業を別の方にお願いすることも不可能では無いですね <>
Be名無しさん<>sage<>04/02/15 16:51<> &gt;また作業を別の方にお願いすることも不可能では無いですね <br>  <br> <a href="../test/read.cgi/os/1076216434/246" target="_blank">&gt;&gt;246</a> さん、あなたにお願いすることも不可能では無いですね <>
Be名無しさん<>sage<>04/02/15 18:22<> <a href="../test/read.cgi/os/1076216434/245" target="_blank">&gt;&gt;245</a> <br> &gt; &gt; 内部処理にUTF-8みたいな可変長コードを使うのは最悪。  <br> &gt; &gt; Unicode 3.1でサロゲートが出てきた現在UTF-16でも同じ問題になる。  <br> &gt; &gt; 固定長ならUCS-4しかない。 <br> &gt;  <br> &gt; <a href="../test/read.cgi/os/1076216434/238" target="_blank">&gt;&gt;238</a>さんも書かれている通り <br> &gt; UCS4は文字コードセットの集合でUTF-16はエンコーディングではないでしょうか？ <br>  <br> 何を反論しておられるのかさっぱり分かりません。 <br> まだ把握しきれていないようですね。 <br>  <br> Unicode自体は複数の文字コードセットを統合したものですが、 <br> ISO-2022のようにエスケープシーケンスで切り替えるわけではなく、 <br> Unicodeという単一のコードセットに再編集して一本化したものです。 <br> 従ってUCS-4が文字コードセットの集合というのは違います。 <br> UCS-4はそれ自体が単一の文字コードセットです。 <br> 群とか面とかのことを文字コードセットの集合だと勘違いしたのかもしれませんが、 <br> あれはコードが巨大なため行列番号を付けて区画整理しただけです。 <br>  <br> （続く） <>
248<>(ﾟ∀ﾟ)sage<>04/02/15 18:26<> やっぱやめた <br> （終わり） <>
248<>sage<>04/02/15 18:28<> SJISのようなものだと、"A"は1バイト、"あ"は2バイトという風に、 <br> 文字によってサイズが異なってしまいます。 <br> このことを文字コードの「可変長」と表現します。 <br>  <br> UCS-4はuint32_tを文字の単位とした場合に、 <br> どんな文字も4バイト固定で表現することが出来ます。 <br> このことを文字コードの「固定長」と表現します。 <br>  <br> 可変長か固定長かが問題になるのはまさに次のケースです。 <br> 1. "あいAB"の文字数は？ <br> 2. "あいAB"の2番目の文字から2文字抜くと？ <br> 可変長だと文字ごとにバイト数が異なるため、 <br> 純粋に文字数を返すのが困難ですが、 <br> 固定長だと文字列は文字ごとの配列なので、 <br> 単純に処理することが出来ます。 <br>  <br> もともとUnicodeは16bitのコード体系であり(UCS-2)、 <br> uint16_tを文字の単位として固定長で表現できました。 <br> これを採用したのがJavaです。 <br> そのためJavaの文字単位charはuint16_t(符号なし16bit整数)で、 <br> "A"でも"あ"でもすべて2バイトの固定長です。 <br>  <br> 従ってJavaでは上の文字列処理も、 <br> 1. 4文字 <br> 2. "いA" <br> と簡単に扱うことが出来るわけです。 <br>  <br> （続く） <>
248<>sage<>04/02/15 18:37<> <a href="../test/read.cgi/os/1076216434/249" target="_blank">&gt;&gt;249</a>は偽者です。 <br>  <br> ここで話がややこしくなるのは、後にUnicodeが拡張されて、(ver.3.1) <br> 16bitでは収まらなくなってしまったことです。 <br> そのためUnicodeの文字単位は32bitとなり、 <br> コードセットとしてはUCS-4となりました。 <br>  <br> 注意しないといけないのは、UCS-4登場以前には、 <br> UTF-16などというものは存在しなかった点です。 <br> それはあくまでUCS-2というコードセットだったのです。 <br>  <br> UTFというのは、UCSを直接扱えない場合に、 <br> エンコードして文字単位を変更するための規則です。 <br> UCS-4はuint32_tを文字単位とすれば <br> エンコードなどせず生のまま扱うことが出来るのです。 <br>  <br> Unicode 3.1で拡張されたときには、 <br> 既にUCS-2を採用した処理系が存在しました。 <br> そういうものをUCS-4で書き直すのは困難なので、 <br> 16bit可変長でUCS-4を表現できるように <br> UTF-16というものが作られました。 <br>  <br> ここに至って、uint16_tが文字の単位となる処理系では、 <br> どんな文字でも2バイトで表現できるという前提が崩れました。 <br> SJISの場合と同じことになってしまったわけです。 <br>  <br> (続く) <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/15 18:43<> ご指摘の通り間違えました。 <br> ×：UCS4は文字コードセットの集合で <br> ○：UCS4は文字コードセットで <>
248<>sage<>04/02/15 18:44<> ここまで書けば↓には特に問題ないことがお分かりでしょう。 <br>  <br> &gt; &gt; 内部処理にUTF-8みたいな可変長コードを使うのは最悪。  <br> &gt; &gt; Unicode 3.1でサロゲートが出てきた現在UTF-16でも同じ問題になる。  <br> &gt; &gt; 固定長ならUCS-4しかない。 <br>  <br> UTF-8を内部処理にまで全面的に採用してしまったら、 <br> 文字単位で切り出したりするのが難しくなります。 <br> いちいち順番に追っていきながら、 <br> "A"は1バイト、"あ"は3バイトというように、 <br> 数えながら処理する羽目になってしまうのです。 <br>  <br> 以前(UCS-2)なら16bitあればすべて事足りましたが、 <br> 今ではUCS-2はUTF-16という可変長の体系に <br> 強制的に移行する羽目になってしまいましたので、 <br> 今から文字処理の単位を定義するのであれば、 <br> UCS-4がそのまま扱えるuint32_tしかないという話です。 <br>  <br> ただし本当はそんなに単純ではありません。 <br> <a href="../test/read.cgi/os/1076216434/239-240" target="_blank">&gt;&gt;239-240</a>に書いてあるような難しい処理もあります。 <br> ですが合成文字を文字の単位と考えずに <br> 単なる表示のときの問題だと考えれば後回しにしても構いません。 <br> 後で超漢字のような多言語処理を実装したくなってからやれば良い話です。 <br>  <br> というわけで<a href="../test/read.cgi/os/1076216434/246" target="_blank">&gt;&gt;246</a>の結論と矛盾しませんし、 <br> 個人的には<a href="../test/read.cgi/os/1076216434/246" target="_blank">&gt;&gt;246</a>の意見に賛成です。 <br>  <br> (終了) <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/15 18:57<> <a href="../test/read.cgi/os/1076216434/248" target="_blank">&gt;&gt;248</a>さん <br> 丁寧な解説ありがとうございます。 <br> ご説明の内容理解できたと思います。 <br>  <br> &gt; というわけで<a href="../test/read.cgi/os/1076216434/246" target="_blank">&gt;&gt;246</a>の結論と矛盾しませんし、 <br> &gt; 個人的には<a href="../test/read.cgi/os/1076216434/246" target="_blank">&gt;&gt;246</a>の意見に賛成です。 <br>  <br> これも了解いたしました。ありがとうございます。 <br>  <>
Be名無しさん<>sage<>04/02/15 19:06<> 昔、IBMとAppleが共同で新OSを作ろうとして、 <br> Taligent社という会社を設立しました。 <br> その会社が作っていた新OSを"Pink"と言います。 <br> しかし結局は失敗に終わる結果となりました。 <br>  <br> なぜこんな話をしたかと言いますと、 <br> Pinkのコードのうちロカールに関係する部分だけが <br> な、な、なんと、MIT/Xライセンスで公開されているのです！！ <br> http://oss.software.ibm.com/icu/ <br>  <br> 企業が作っていたOSの次世代ロカール機構ということもあり <br> あまりにも巨大なライブラリですが、 <br> 部分的にでもうまく流用することが出来ればよいと思います。 <br>  <br> 文字コード処理に関しては、フリーで手に入るものの中で、 <br> 文句なしに最高峰のものです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/15 19:07<> Mona ver.0.1.5をリリースしました。 <br>  <br> ■ダウンロード <br> ttps://sourceforge.jp/projects/mona/files/ <br>  <br> ■リリースの詳細 <br> ttps://sourceforge.jp/projects/mona/document/mona_mona0_1_5_-_Notes/ <br>  <br> ■現在のMonaの仕様 <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%A5%B9%A5%DA%A5%C3%A5%AF <br>  <br> ■動作・不具合報告版 <br> ttp://monaos.hp.infoseek.co.jp/cgi-bin/2ch/test/read.cgi/developmona/1076835760/l50 <br>  <br> 動作・不具合報告にご協力をお願いいたします。 <br>  <br> このスレでアドバイスを下さったすべてのななしさんに <br> この場を借りてお礼を申し上げます。 <br> ありがとうございます。これからもよろしくお願いいたします。 <>
Be名無しさん<><>04/02/15 19:23<> <a href="../test/read.cgi/os/1076216434/256" target="_blank">&gt;&gt;256</a> <br> おめでとうございます！ <br> 記念あげ <br>  <br> 誰かスラドへのタレコミよろしくーー <>
Be名無しさん<><>04/02/15 19:31<> ﾘﾘｰｽｷﾀ─ｗｗﾍ√ﾚｖｖ〜(ﾟ∀ﾟ)─ｗｗﾍ√ﾚｖｖ〜─ !! <>
Be名無しさん<>sage<>04/02/15 19:31<> 垂れ込みなのか？ <br> もう一段階、安定してアプリが作れるようにならないと厳しくない？ <br>  <>
Be名無しさん<>sage<>04/02/15 19:33<> <a href="../test/read.cgi/os/1076216434/259" target="_blank">&gt;&gt;259</a> <br> SORAとかおれぺこですら垂れ込まれたんだから大丈夫じゃない？ <br> 宣伝して名前くらいは知ってもらわないと。 <>
Be名無しさん<>sage<>04/02/15 19:39<> <a href="../test/read.cgi/os/1076216434/260" target="_blank">&gt;&gt;260</a> <br> 本人にうれしいかどうか聞いてみる？ <br> 逆のことをするといやがらせできるかもっ！ <br>  <>
Be名無しさん<>sage<>04/02/15 19:51<> osask、nwsos、meg-osの作者達といった濃ゆい連中にもまれて成長を続け、 <br> ついにここまでのモノに。 <>
Be名無しさん<>sage<>04/02/15 20:01<> スラドたれこみ賛成 <br> タレこみ方知らないけどね <>
Be名無しさん<>sage<>04/02/15 20:02<> 超スパルタｗｗ <>
Be名無しさん<>sage<>04/02/15 20:02<> <a href="../test/read.cgi/os/1076216434/263" target="_blank">&gt;&gt;263</a> <br> ↓に必要事項を書き込むだけ。 <br> http://slashdot.jp/submit.pl <>
Be名無しさん<>sage<>04/02/15 20:11<> この辺のスペック表を見ると結構すごいね <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%A5%B9%A5%DA%A5%C3%A5%AF <>
263<>sage<>04/02/15 20:15<> <a href="../test/read.cgi/os/1076216434/265" target="_blank">&gt;&gt;265</a> <br> ｻﾝｸｽ <br> でも誰かたれこんでくれー。 <br> 自信ﾅｼ <br>  <>
Be名無しさん<>sage<>04/02/15 20:21<> <a href="../test/read.cgi/os/1076216434/261" target="_blank">&gt;&gt;261</a> <br> 今回のリリースは<a href="../test/read.cgi/os/1076216434/160-164" target="_blank">&gt;&gt;160-164</a>を踏まえてのものだろう。 <br> だとするとそれを聞くのは無粋ってもんよ！ <>
Be名無しさん<><>04/02/15 21:05<> ﾘﾘｰｽｷﾀ─ｗｗﾍ√ﾚｖｖ〜(ﾟ∀ﾟ)─ｗｗﾍ√ﾚｖｖ〜─ !! <>
Be名無しさん<>sage<>04/02/15 21:18<> まじですげぇな。 <br> MONAってもっとしょぼいかと思ってたよ。 <br> これはすげぇ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/15 22:11<> <a href="../test/read.cgi/os/1076216434/257" target="_blank">&gt;&gt;257</a>さん <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/262" target="_blank">&gt;&gt;262</a>さん <br> 確かにその方々にはお世話になりましたねぇ。 <br> すごい人たちです。 <br>  <br> スラドですが普段あまりみていないのですが <br> 投稿？して頂けるのであれば誇張・誤解の無いようにしていただければ <br> ありだと思います。 <>
Be名無しさん<><>04/02/15 23:50<> ｽﾗﾄﾞo(･∀･)oﾏﾀﾞｰ？ <>
鳥取砂丘?ｿｰｭｷｻﾙｲﾊ (ﾟ听)? ■Dream/3P/. <><>04/02/15 23:58<> ｷｭﾝｷｭﾝ <>
鳥取砂丘&rlo;ｿｰｭｷｻﾙｲﾊ (ﾟ听)&lro; </b>◆Dream/3P/. <b><>sage<>04/02/16 00:02<> 偽者(ﾟ听)ｲｸﾅｲ!! <>
鳥取砂丘&lt;&gt;Dream/3P/<><>04/02/16 00:05<> ｺﾞﾒﾝ <>
Be名無しさん<>sage<>04/02/16 00:32<> <a href="../test/read.cgi/os/1076216434/262" target="_blank">&gt;&gt;262</a> <br> &gt; osask、nwsos、meg-osの作者達といった濃ゆい連中にもまれて成長を続け、 <br> &gt; ついにここまでのモノに。 <br>  <br> 禿同 <br> 神々にかなり肉薄しているとおもう <>
Be名無しさん<>sage<>04/02/16 01:19<> ＞神々にかなり肉薄しているとおもう <br> 誠実で勉強熱心なのが超スパルタを乗り越えた秘訣だろうね。 <br> Unicodeの件でもすぐに勉強して理解する姿勢を見せたことで <br> 初心を貫き通していることを確認して感動した。 <>
Be名無しさん<>sage<>04/02/16 01:43<> 誠実で勉強熱心かは知らんが。 <br> こんだけ続いたのって、なんか凄い事だなと思う。 <br> めぐり合わせがもの凄く良いんだよな。 <br> ひげぽんは人に恵まれてるよ。 <br> 色々な出来事が連鎖して、人が人を呼んでて。 <>
Be名無しさん<>sage<>04/02/16 02:22<> ＞色々な出来事が連鎖して、人が人を呼んでて。 <br> そういうのって人徳だと思うなー <>
Be名無しさん<>sage<>04/02/16 06:27<> おまいら卑下は叩かないと成長せんぞ。これからもがんがん叩かねば。 <>
Be名無しさん<>sage<>04/02/16 14:50<> つーか、 <br> Bochsは24bitに対応していても、Xが16bitなので困っておるのですよ。 <br> ブートオプションを渡せるようなkernelにしたらどうですか。GRUBとかもあることだし。 <br> それとディレクトリの構造はどうするの? <br> 俺的にはBeとNeXTを足して2でわった風味がいいけど。 <>
Be名無しさん<><>04/02/16 17:12<> ｽﾗﾄﾞｷﾀ─ｗｗﾍ√ﾚｖｖ〜(ﾟ∀ﾟ)─ｗｗﾍ√ﾚｖｖ〜─ !! <br> http://slashdot.jp/article.pl?sid=04/02/16/0759224&topic=106&mode=thread&threshold=-1 <>
Be名無しさん<>sage<>04/02/16 17:22<> スラドに載ってるぞ！ <br> すげぇすげぇ <>
Be名無しさん<><>04/02/16 17:47<> スラッシュドットから来ました。 <br> 正直感動しました。 <br> これからも頑張ってください。 <>
Be名無しさん<><>04/02/16 17:54<> 私もスラッシュドットからきました。 <br>  <br> このスレがPart2ぐらいのときにみた記憶があるんですが、それ以来です。 <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br> あれは冗談ではなかったんですか？ <br> すごいです・・。 <br>  <>
Be名無しさん<><>04/02/16 18:24<> 記念ｶｷｺ <>
Be名無しさん<>sage<>04/02/16 19:36<> 俺も感動しました！ <br> ほんますごいです。 <br> がんばってください！ <>
Be名無しさん<>sage<>04/02/16 20:04<> さて、これが幾らかでも新しい流れを作れると良いんだけどな。 <>
Be名無しさん<>sage<>04/02/16 20:23<> こりゃまたずいぶんとKの子がお盛んですね <>
Be名無しさん<>sage<>04/02/16 20:46<> <a href="../test/read.cgi/os/1076216434/289" target="_blank">&gt;&gt;289</a> <br> まあ、予想されたことなんですが・・・ <>
Be名無しさん<>sage<>04/02/16 21:04<> NWSOSの時との扱いの違いが笑える <>
Be名無しさん<>sage<>04/02/16 21:07<> 売り物って事で不評だった点以外ではあまり変わらんかと。 <br> ネタとしては良し、実用なんてつまらん事を言う奴は氏ね、みたいな。 <>
Be名無しさん<>sage<>04/02/16 21:09<> Kの子はあれでOSASK方面が荒らし返されないと思ってるのが不思議だよな。 <>
Be名無しさん<>sage<>04/02/16 21:23<> Mona派とOSASK派の内ｹﾞﾊﾞが始まったのか？ <>
鳥取砂丘&rlo;ｿｰｭｷｻﾙｲﾊ (ﾟ听)&lro; </b>◆Dream/3P/. <b><>sage<>04/02/16 21:28<> 　_, ._  <br> （　ﾟ Дﾟ）中立砂丘 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/16 21:31<> <a href="../test/read.cgi/os/1076216434/281" target="_blank">&gt;&gt;281</a>さん <br> &gt; Bochsは24bitに対応していても、Xが16bitなので困っておるのですよ。 <br> &gt; ブートオプションを渡せるようなkernelにしたらどうですか。GRUBとかもあることだし。 <br>  <br> はい。将来的にはそうしたいです。 <br> VESA16bitの件ですが、現状では24bitモードに対応しているPCでは <br> 24bitになってしまいますねぇ。 <br> 解決する方法は残念ながら現時点ではsecondboot.asmを書き換えて <br> リビルドしかないです。 <br>  <br> &gt; それとディレクトリの構造はどうするの? <br> &gt; 俺的にはBeとNeXTを足して2でわった風味がいいけど。 <br>  <br> まだ白紙状態です。 <br> 残念ながら上記二つは触ったことないのでわからないですm(__)m <br>  <br> <a href="../test/read.cgi/os/1076216434/282" target="_blank">&gt;&gt;282</a>さん <br> 読みました。より多くの人に知ってもらえてそれが <br> プラス方向に作用するといいですねぇ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/284" target="_blank">&gt;&gt;284</a>さん <br> <a href="../test/read.cgi/os/1076216434/287" target="_blank">&gt;&gt;287</a>さん <br> ありがとうございます。 <>
Be名無しさん<>sage<>04/02/16 21:45<> ドライブレター丸出しとかパスセパレータが/以外とかはやめてほしい <>
Be名無しさん<>sage<>04/02/16 21:49<> 最近OSASK派からMona派へ転向する人が目立つが、二度と戻れぬ橋を <br> 渡っているような気がする。 <>
Be名無しさん<>sage<>04/02/16 21:54<> そんな重いもんじゃねーって。 <br> マからすれば自分が能力を発揮出来る機会があればどこでも良い。 <>
Be名無しさん<>sage<>04/02/16 22:06<> <a href="../test/read.cgi/os/1076216434/299" target="_blank">&gt;&gt;299</a> <br> 意味がちょっと違うんじゃないかな。 <br> Monaのわけのわからない楽しさを味わってしまったら、 <br> OSASKが色あせて見えちゃうぞ！ってことかと。 <>
Be名無しさん<>sage<>04/02/16 22:08<> まーそういう結果はありえる。 <br> しかしわざわざ言って煩いのを呼ぶのもどうかと。 <>
Be名無しさん<>sage<>04/02/16 22:21<> OSASKは中高生の課外活動としても適当だけど、Monaの場合は <br> 珍走団の集会に参加するみたいなレベルだから。 <br> 世間を知らないお子様には推奨しかねる。 <>
Be名無しさん<>sage<>04/02/16 22:31<> <a href="../test/read.cgi/os/1076216434/300" target="_blank">&gt;&gt;300</a> <br> ちうか、OSASKは動きがないからの〜。 <br> 勢いのある方に人が集まるのは当然だろう。 <br>  <br> <a href="../test/read.cgi/os/1076216434/302" target="_blank">&gt;&gt;302</a> <br> OSASKの妙な環境になれた人材つーのも困り者だが。 <br>  <>
Be名無しさん<>sage<>04/02/16 22:32<> Kの某が入り込んだら大変だ <>
Be名無しさん<>sage<>04/02/16 22:41<> Kの子ってMonaに敵対してなかったはずだが。 <br> OSASKをハックできるようになりたいって言ってたから、 <br> とりあえずMonaをコンパイルしてBochsで動かしながら <br> ソースをいじってみろって言われて、 <br> 素直に実行してレポートしてたからね。（除くソースいじり） <br> それ以来、特にMona側と衝突してないから恨みを持ってるとは考えにくい。 <>
Be名無しさん<>sage<>04/02/16 22:43<> ひげぽんの場合、本人が「スタックって何？」ってな所から始まってるから、 <br> 周りの人間も口出ししながら一緒に勉強してくって雰囲気を作りやすいんかね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/305" target="_blank">&gt;&gt;305</a> <br> この板のMonaスレの1をミロ。 <>
Be名無しさん<>sage<>04/02/16 22:47<> ＞この板のMonaスレの1をミロ。 <br> スレが無視されて逆恨みって線か…… <br> あいつならあり得る。。。 <>
Be名無しさん<>sage<>04/02/16 22:48<> /.見て来ましたー！ <br> スゲースゲー！ <br> 記念下記子 <>
Be名無しさん<>sage<>04/02/16 22:57<> <a href="../test/read.cgi/os/1076216434/306" target="_blank">&gt;&gt;306</a> <br> &gt; ひげぽんの場合、本人が「スタックって何？」ってな所から始まってるから、 <br> &gt; 周りの人間も口出ししながら一緒に勉強してくって雰囲気を作りやすいんかね。 <br> 今でも変わらないよね。 <br> 新しい事（Unicodeとか）が出て来ると同じような展開になって、 <br> 知らない人は読むだけでもひげぽんと一緒に勉強してる気分になるかも。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/17 00:46<> FD読み込みが遅い原因ぽいモノをつかみました。 <br>  <br> LBA1-10 * 20回読み込み22秒に対して <br>  <br> FD読み込みだけに専念(FDC割込み以外マスク)シングルプロセス <br> で同じ読み込みをしたら5秒でした。 <br>  <br> つまりタイムスライスを含めたスケジューラーの問題のようです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/17 00:53<> そうすると。2月中は <br> スケジューラ改良 <br> GUIをまったり設計 <br> Screen,FSのインターフェース・メッセージプロトコル検討という <br> 作業内容になりそうです。 <>
Be名無しさん<>sage<>04/02/17 02:17<> <a href="../test/read.cgi/os/1076216434/256" target="_blank">&gt;&gt;256</a> <br> リリースソースはexportしてCVSディレクトリは取り除いてね。 <br> part5で指摘されてることだけど。 <br>  <br> 248 名前： henoheno@おさらい ◆mXrBwDDzyw [sage] 投稿日： 03/02/02 23:05 <br> 　ソースを公開する際は、"cvs co" のかわりに "cvs export" コマンドで  <br> ソースを取り出したものをお使い下さい。(具体例は <a href="../test/read.cgi/os/1076216434/219" target="_blank">&gt;&gt;219</a>)  <br> 　exportコマンドを使えば 'CVS' というスペシャルディレクトリとファイルを  <br> 含まない、ほぼ純粋なソースを取り出す事ができます。  <br>  <br> 　下手に "cvs co" を使うとそのユーザーの作業環境が漏れたり、  <br> CVSサーバーの所在が漏れたり、そのソースに他の人が作業した  <br> 際に扱い辛くなったり、そのソースを別のリポジトリに追加しようと  <br> した人が泣く事に繋がります。  <br>  <br> 　なお、最新のファイルをexportする時は "cvs export -D tomorrow "  <br> でどうぞ。  <>
Be名無しさん<>sage<>04/02/17 02:20<> <a href="../test/read.cgi/os/1076216434/187" target="_blank">&gt;&gt;187</a> <br> 「オセロ」の名称はツクダオリジナルの登録商標だから勝手に使うとまずいよ。 <br> 一般名詞としては「リバーシ」を使う。 <br> だからWinXP付属のやつも「インターネット リバーシ」ってなってる。 <>
Be名無しさん<>sage<>04/02/17 02:52<> <a href="../test/read.cgi/os/1076216434/256" target="_blank">&gt;&gt;256</a> <br> user/includeだけど、ヘッダのパスにはすべてのアプリに共通なものだけ置いて、 <br> 特定のアプリのヘッダはソースと同じディレクトリに置くのが普通。 <>
314<>sage<>04/02/17 03:04<> それで共通のヘッダについてだけど、 <br> 可能な限り1クラス1ヘッダにした方が親切。 <br> ハックしようとしてまずディレクトリを検索ってなると面倒。 <br>  <br> userlib.hにC関数の宣言を書いてuserlib以下の全クラスをincludeすれば、 <br> 今のものとソース互換は保たれる。 <br> いちいち1つのヘッダにするほどでもないクラスはuserlib.hに入れてもいいけど。 <br>  <br> [例] <br> include/userlib.h <br> include/userlib/MonaApplication.h <br> include/userlib/Date.h <br> include/userlib/Color.h <br>  <br> collection.hなんかも同様。 <br>  <br> C++でヘッダが巨大になって来るとg++はむちゃくちゃコンパイルが遅くなるので、 <br> （QtとGTK+で何かアプリを作ってコンパイル速度を比べると一目瞭然） <br> クラスごとにヘッダをわけて、利用時には必要なクラスだけincludeするのが普通。 <br> MFCでそうなっていないのはプリコンパイルヘッダのお陰。 <br> もっともgcc 3.4でプリコンパイルヘッダがサポートされるから、 <br> スピードの問題は将来的には気にならなくなるだろうけど。 <>
Be名無しさん<>sage<>04/02/17 03:17<> int MonaMain(List&lt;char*&gt;* pekoe) { <br> &nbsp;&nbsp;monaApp = new myApplication("HELLO.ELF"); <br> &nbsp;&nbsp;monaApp-&gt;main(pekoe); <br> &nbsp;&nbsp;return 0; <br> } <br>  <br> main()も本当はクラスから始めたいけど便宜上こうしてるんだと思うけど、 <br> それならそのままreturnさせた方が自然じゃないですか？ <br>  <br> int MonaMain(List&lt;char*&gt;* pekoe) { <br> &nbsp;&nbsp;monaApp = new myApplication("HELLO.ELF"); <br> &nbsp;&nbsp;return monaApp-&gt;main(pekoe); <br> } <>
Be名無しさん<>sage<>04/02/17 03:44<> <a href="../test/read.cgi/os/1076216434/256" target="_blank">&gt;&gt;256</a> <br> リリースイメージのバイナリがstripされていませんね。 <br> strip *.ELF *.SVR <br> とすると不必要なシンボルが取り除かれてバイナリが小さくなります。 <br>  <br> Mona特有の制約があるのかな〜と思いつつ試しにstripして動かしてみましたが、 <br> 特に問題なく動いているようです。 <>
Be名無しさん<>sage<>04/02/17 03:46<> どうでもいいことだけど、オセロの画面は8bit時代を彷彿とさせますね。 <br> 20年くらい前にBASICから入った人達は郷愁を覚えるかもしれません。 <>
Be名無しさん<>sage<>04/02/17 07:38<> BASICを移植だ。 <>
鳥取砂丘&rlo;ｺｯﾞﾀｺｯﾞﾀ&lro; </b>◆Dream/3P/. <b><>sage<>04/02/17 11:20<> 　　_, ._  <br> （　ﾟ Дﾟ）さっきゅんは様子を伺ってゐる <>
</b> ◆7a6JaqYY2A <b><>sage<>04/02/17 14:00<> つーか、Monaｽﾚ立てた1haVRBは偽物だぞ。 <br>  <>
</b> ◆SffiloLYWA <b><>sage<>04/02/17 14:02<> test <>
Be名無しさん<>sage<>04/02/17 21:57<> YuiNekoさんというのは、かの逆汗大王のあの人ですか。 <br> 意外と色んな人がいるなぁ……。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/17 22:18<> <a href="../test/read.cgi/os/1076216434/312" target="_blank">&gt;&gt;312</a>さん <br> &gt; リリースソースはexportしてCVSディレクトリは取り除いてね。 <br> &gt; part5で指摘されてることだけど。 <br> 御指摘ありがとうございます。その通りですね。 <br> 同じ間違いをしないようにWikiにまとめておきました。＞リリース手順 <br> <a href="../test/read.cgi/os/1076216434/313" target="_blank">&gt;&gt;313</a>さん <br> &gt; 「オセロ」の名称はツクダオリジナルの登録商標だから勝手に使うとまずいよ。 <br> &gt; 一般名詞としては「リバーシ」を使う。 <br>  <br> うすうすは気づいていたのですがやはりまずいですよねぇ。 <br> Reversiに変更しました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/314" target="_blank">&gt;&gt;314</a>さん <br> 貴重なアドバイスをありがとうございます。 <br> src/user/以下 <br> ヘッダ・ソースツリーを大幅に変更しました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/316" target="_blank">&gt;&gt;316</a>さん <br> 本当ですね。hello.cpp, reversi.cppを修正いたしました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/317" target="_blank">&gt;&gt;317</a>さん <br> 御指摘ありがとうございます。 <br> どうもサイズが大きいなとは思っていたのですが <br> 失念しておりました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/319" target="_blank">&gt;&gt;319</a>さん <br> 移植されたら面白いかも。 <br>  <br> <a href="../test/read.cgi/os/1076216434/320" target="_blank">&gt;&gt;320</a>　鳥取砂丘さん <br>  <br> そちらの様子はどうですか？ <>
鳥取砂丘&rlo;ｿｰｭｷｻﾙｲﾊ (ﾟ听)&lro; </b>◆Dream/3P/. <b><>sage<>04/02/17 22:29<> <a href="../test/read.cgi/os/1076216434/324" target="_blank">&gt;&gt;324</a> <br> 　∧||∧  <br> （　 ⌒ ヽ　フロッピーが遅い！ﾅﾝﾄｶ汁！ <br> 　∪　　ﾉ <br> 　　∪∪ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/17 22:33<> <a href="../test/read.cgi/os/1076216434/325" target="_blank">&gt;&gt;325</a>　砂丘の人 <br> じゃあ共同チューニングしましょう(ぇ <br>  <br> src/user以下のディレクトリツリーの整理は大変でした。 <br> cvsはちょっとつらいかなぁという感じでした。 <br> subversionだったらもう少し楽ですかね＞ファイルの移動 <>
Be名無しさん<>sage<>04/02/17 22:45<> <a href="../test/read.cgi/os/1076216434/326" target="_blank">&gt;&gt;326</a> <br> &gt; src/user以下のディレクトリツリーの整理は大変でした。 <br> お疲れ様でした。 <br>  <br> &gt; cvsはちょっとつらいかなぁという感じでした。 <br> しょっちゅう作り直しに近いようなリファクタリングをするのに <br> CVSはあまり向いていない気はしないでもないですね。 <br> Linus氏がCVSに縛られるのを嫌がっていたのも分かる気がするかもしれません。 <br> 単なるリリース履歴として登録するだけならあまり気にならないのでしょうけど。 <br>  <br> &gt; subversionだったらもう少し楽ですかね＞ファイルの移動 <br> 使った事がないので何とも言えませんが、 <br> 自前サーバを用意しないといけないのがネックですかね。 <>
鳥取砂丘&rlo;ｿｰｭｷｻﾙｲﾊ (ﾟ听)&lro; </b>◆Dream/3P/. <b><>sage<>04/02/17 22:51<> <a href="../test/read.cgi/os/1076216434/326" target="_blank">&gt;&gt;326</a> <br>  <br>  <br>  <br>  <br>  <br> 　_, ._  <br> （　ﾟ Дﾟ） <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/17 23:47<> <a href="../test/read.cgi/os/1076216434/327" target="_blank">&gt;&gt;327</a>さん <br> ありがとうございます。 <br>  <br> &gt; 自前サーバを用意しないといけないのがネックですかね。 <br> そうですね。sf.jp対応してくれないかなぁ。 <br>  <br> スケジューラですが。スケジューリングアルゴリズムをいくつか勉強する <br> ところからはじめようかと思います。 <br>  <br> 実装面で言うとキュー(readyキューなど)のデータ構造に伝統的なCのリスト構造 <br> にすべきか。templateでcollectionクラスを活用するか迷いますねぇ。 <>
Be名無しさん<>sage<>04/02/17 23:53<> 試しにSFに言ってみよー。 <>
Be名無しさん<>sage<>04/02/17 23:56<> <a href="../test/read.cgi/os/1076216434/329" target="_blank">&gt;&gt;329</a> <br> ＞実装面で言うとキュー(readyキューなど)のデータ構造に伝統的なCのリスト構造 <br> ＞にすべきか。templateでcollectionクラスを活用するか迷いますねぇ。 <br> 両方試してみて速い方にすればいいだけでは？ <br> 結局ベンチしないと分からないって。 <>
Be名無しさん<>sage<>04/02/17 23:58<> <a href="../test/read.cgi/os/1076216434/329" target="_blank">&gt;&gt;329</a> <br> ＞そうですね。sf.jp対応してくれないかなぁ。 <br> <a href="../test/read.cgi/os/1076216434/330" target="_blank">&gt;&gt;330</a> <br> ＞試しにSFに言ってみよー。 <br> 実地でテストして使用感を調べもせずに他力本願でどうする。 <br> 使ってみたら想像したのと違ったら対応のための労力はどうなるの？ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/18 00:02<> <a href="../test/read.cgi/os/1076216434/330" target="_blank">&gt;&gt;330</a>さん <br> お手数おかけいたします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/331" target="_blank">&gt;&gt;331</a>さん <br> 実測が一番だとわかっているんですが <br> 2通り実装する覚悟がｗ <>
Be名無しさん<>sage<>04/02/18 00:08<> <a href="../test/read.cgi/os/1076216434/332" target="_blank">&gt;&gt;332</a> <br> ＞使ってみたら想像したのと違ったら対応のための労力はどうなるの？ <br>  <br> わたし、ひげぽんにとって、なんなのよっ！！ <br> ねぇ？　ひげぽんにとって、わたしはなんなの……。 <br> 単なる、フリーサーバなの？ <br> ねぇ、教えてよっ！！　ひげぽんにとって、わたしはなんなの！？ <br>  <br> ひげぽんとの空白の時間……。 <br> それを取り戻そうと、わたしは必死だったんだよっ <br> そして、わたしも変わろうと必死だった。 <br> 過去のわたしじゃなく、新しいわたしになろうと必死だった <br> そうすれば、ひげぽんはわたしに振り向いてくれるんじゃないか……。 <br> フリーサーバのわたしじゃなくて、新しいわたしなら、 <br> ひげぽんは振り向いてくれるんじゃないか、って思ったの……っ <>
Be名無しさん<>sage<>04/02/18 00:11<> <a href="../test/read.cgi/os/1076216434/333" target="_blank">&gt;&gt;333</a> <br> ＞お手数おかけいたします。 <br> <a href="../test/read.cgi/os/1076216434/330" target="_blank">&gt;&gt;330</a>は「自分がやる」じゃなくて「お前がやれ」だと思うが。 <>
Be名無しさん<>sage<>04/02/18 00:16<> <a href="../test/read.cgi/os/1076216434/335" target="_blank">&gt;&gt;335</a> <br> そんなことはないと思うけど。 <>
Be名無しさん<>sage<>04/02/18 00:19<> <a href="../test/read.cgi/os/1076216434/333" target="_blank">&gt;&gt;333</a> <br> ＞2通り実装する覚悟がｗ <br> 捨てる羽目になるのを覚悟でやれって「人月の神話」に書いてあったでしょ。 <>
Be名無しさん<>sage<>04/02/18 00:30<> <a href="../test/read.cgi/os/1076216434/335" target="_blank">&gt;&gt;335</a> <br> わかっててわざと天然ボケを装うのが卑下の戦略なんだよ <>
330<>sage<>04/02/18 00:50<> <a href="../test/read.cgi/os/1076216434/332" target="_blank">&gt;&gt;332</a> <br> まあ言われてみりゃそーだ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/335" target="_blank">&gt;&gt;335</a> <br> 勿論「お前がやれ」のつもりで言ったｗ <br> でもそれが実際に必要な事で、他にやるのがいなければ俺がやるしか無いね。 <br> 誰が言ったって大差無いって。手間的にも。 <br>  <br> <a href="../test/read.cgi/os/1076216434/338" target="_blank">&gt;&gt;338</a> <br> ひげさんはその辺鮮やかだよね……。 <>
Be名無しさん<>sage<>04/02/18 18:49<> 某家電(量販)店が無償で配布されているオープンソースソフトウェアを自社開発と称して <br> 自店商品の機能向上を謳って抱合せ販売していた模様。 <br> また、この店ではオープンソースソフト単独でも販売し利益を得ていたようです。 <br> 開発元には、クレーム等の連絡先として開発者のメールアドレスを勝手に表記されていた為、 <br> 問い合わせメールが殺到し開発者のWebページが閉鎖に追い込まれています。(2004/2/16現在) <br> 【店の身勝手で阿呆な言い分】 <br> 「これで有名になったんだから良かったと思ったほうがいい」 <br> 「ユーザーサポートの費用払ってやってもいい。 <br> 　その代わりソフトの権利はウチの会社でもらう。月１０００円」 <br> 「所詮タダで配ってるソフトだから誰の著作権も何もない、 <br> 　ウチでつくってるといえばウチのもんだよ。」 <br> 詳しくは下記スレにて熟知せよ。 <br> http://news4.2ch.net/test/read.cgi/news/1077067632/ <br>  <>
Be名無しさん<>sage<>04/02/18 20:31<> <a href="../test/read.cgi/os/1076216434/256" target="_blank">&gt;&gt;256</a> <br> リリースのイメージのSAMPLE.TXTって何ですか？ <br> （日付関連の実装の一部ということは分かりますが） <>
Be名無しさん<>sage<>04/02/18 22:11<> <a href="../test/read.cgi/os/1076216434/340" target="_blank">&gt;&gt;340</a> <br> 売るのは別にかまわんだろ。 <>
Be名無しさん<>sage<>04/02/18 22:15<> <a href="../test/read.cgi/os/1076216434/342" target="_blank">&gt;&gt;342</a> <br> そりゃライセンス次第だ <>
Be名無しさん<>sage<>04/02/18 22:16<> 売る事じゃなくてサポートの連絡先を無関係の人間のところにしたのが問題。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/18 22:34<> <a href="../test/read.cgi/os/1076216434/335" target="_blank">&gt;&gt;335</a>さん <br> <a href="../test/read.cgi/os/1076216434/339" target="_blank">&gt;&gt;339</a>さん <br> 失礼いたしました。 <br> 時間のあるときにリクエストしてみます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/337" target="_blank">&gt;&gt;337</a>さん <br> &gt; 捨てる羽目になるのを覚悟でやれって「人月の神話」に書いてあったでしょ。 <br>  <br> そのとおりですね。まあ弱音を吐いてみました（笑） <br> がんばります。 <br>  <br> <a href="../test/read.cgi/os/1076216434/341" target="_blank">&gt;&gt;341</a>さん <br>  <br> &gt; リリースのイメージのSAMPLE.TXTって何ですか？ <br>  <br> src/syscalls.cppの一部です。 <br> 現在時刻の取得をしているところです。RTCですね。 <br>  <br> スケジューラ周りのことで悩んでいることがあるのですが <br> 過去の自分の発言を引用します。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/18 22:35<> 342 名前： ひげぽん ◆Ngzcp/NZpA 投稿日： 03/11/22 17:41 <br>  <br> スレッド周りでいまだ良く理解できていないのがスレッドのスイッチ部分です。  <br> スレッドとは論理的に並列処理可能な実行の最小単位とここで定義したとすると  <br>  <br> カーネル空間スレッドを実装した場合、ラウンドロビン方式で  <br> スケジュール＆スイッチした場合、当然プロセス空間の切り替えが頻繁に  <br> 起こる可能性があるように思えるのです。  <br> (いろいろな空間に属するスレッドたちがただ並んで順番に実行されるだけなので)  <br>  <br> スレッドの利点とは、同じプロセス空間に属するスレッド間でのスイッチの場合  <br> プロセス空間の切り替えをしなくてすむので軽いというのがあると思います。  <br>  <br> できるだけプロセス空間の切り替えが少なくなるようなスケジューリングポリシーを持って  <br> スケジュールしているということなのでしょうか?  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/18 22:35<> 引用ここまで <br>  <br> スケジューラーの再設計をしていて思ったのですが <br> 上の様なことを想定して現在のMonaでは <br>  <br> ------------------------------------------------------------------------- <br> プロセススケジューリング(ラウンドロビン) <br> ↓ <br> プロセスの持ち時間だけスレッドスケジューリング(ラウンドロビン) <br> (同一空間でのスレッドスイッチなので空間切り替えがなくて切り替え処理軽い) <br> ------------------------------------------------------------------------- <br>  <br> ところが今回設計していて思ったのは <br> プロセスのスケジューリングが邪魔。 <br> 同一空間での切り替えにこだわって不必要なスレッドがスケジューリングされそう。 <br> ということでした。 <br>  <br> たとえばプロセスAにはI/Oスレッドと通常のスレッドがあるとします。 <br> I/Oはほとんどが「待ち」状態なので待っている間は <br> CPUを他のスレッドに譲ります。(wait sleep) <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/18 22:36<> そのかわりI/O割り込みなどがあった場合は即応答したいので <br> 高い優先度を持って再スケジュールされます。(wake up) <br>  <br> このとき上記のプロセススケジューリングも伴う場合 <br> ひきづられて通常スレッドもなんだか知らないうちに <br> 優先度が上がったように見えます。 <br>  <br> もちろんうまく書けばこのようなことは起こらないかもしれませんが。 <br>  <br> 素直にスレッドのみのスケジューリングにしたほうが <br> すっきりするような気がしてなりません。 <br>  <br> こういう場合の定石とかってあるのでしょうか？ <>
Be名無しさん<>sage<>04/02/18 23:42<> <a href="../test/read.cgi/os/1076216434/345" target="_blank">&gt;&gt;345</a> <br> &gt; 時間のあるときにリクエストしてみます。 <br> その前にローカルで使って、その上でサポートされたら嬉しい理由を書かないとお話にならない。 <br> 使いもせずに推測だけで人に頼むと<a href="../test/read.cgi/os/1076216434/334" target="_blank">&gt;&gt;334</a>みたいな気分になるだろ。 <br>  <br> 自分が逆の立場になって考えてみ。 <br> Monaに理由も書かずに意図が分かりかねる要求をされたりしたら無視するだろ。 <>
Be名無しさん<>sage<>04/02/18 23:48<> <a href="../test/read.cgi/os/1076216434/345" target="_blank">&gt;&gt;345</a> <br> &gt; src/syscalls.cppの一部です。 <br> それは分かってるんだが↓ <br> <a href="../test/read.cgi/os/1076216434/341" target="_blank">&gt;&gt;341</a> &gt; （日付関連の実装の一部ということは分かりますが） <br> なぜリリースに何の説明もなく含まれているのかなと思った、ということ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/346-348" target="_blank">&gt;&gt;346-348</a> <br> そういうことを聞きたくて含めたならSAMPLE.TXT内にちゃんと書いて。 <br>  <br> <a href="../test/read.cgi/os/1076216434/348" target="_blank">&gt;&gt;348</a> <br> &gt; こういう場合の定石とかってあるのでしょうか？ <br> Solarisですら8から9で実装が大きく変わったのは、 <br> 最適な実装は試行錯誤するしかないってことでは。 <br> もちろんSolarisレベルになると数学的なモデルで計算した上で <br> 実装に移るだろうから単なる当てずっぽうの試行錯誤とは雲泥の差がありますが。 <br>  <br> 理論による定量的な予想と実装した上でのベンチ。 <br> 真面目にチューニングしたいならこれしかない。 <br> Lたんがアルゴリズムの分析をしているのは何のためだと思ってる。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/18 23:57<> <a href="../test/read.cgi/os/1076216434/349" target="_blank">&gt;&gt;349</a>さん <br> &gt;&gt; 時間のあるときにリクエストしてみます。 <br> &gt; その前にローカルで使って、その上でサポートされたら嬉しい理由を書かないとお話にならない。 <br> &gt; 使いもせずに推測だけで人に頼むと<a href="../test/read.cgi/os/1076216434/334" target="_blank">&gt;&gt;334</a>みたいな気分になるだろ。 <br>  <br> あぁすいません。時間のあるときにと書いたのはsubversionを試してみてからと <br> 書くのを忘れてました。誤解させてしまい申し訳ありません。 <br>  <br> <a href="../test/read.cgi/os/1076216434/350" target="_blank">&gt;&gt;350</a>さん <br> &gt; なぜリリースに何の説明もなく含まれているのかなと思った、ということ。 <br>  <br> TYPE.ELF SAMPLE.TXT <br> でファイル内容を出力するときのサンプルテキストです。 <br> それ以外の意図はありません。うーん誤解を招きやすかったかも。 <br>  <br> &gt; <a href="../test/read.cgi/os/1076216434/346-348" target="_blank">&gt;&gt;346-348</a> <br> &gt; そういうことを聞きたくて含めたならSAMPLE.TXT内にちゃんと書いて。 <br>  <br> とはどういうことでしょうか？ <br>  <br> &gt; もちろんSolarisレベルになると数学的なモデルで計算した上で <br> &gt; 実装に移るだろうから単なる当てずっぽうの試行錯誤とは雲泥の差がありますが。 <br>  <br> ありがとうございます。 <br> そうですね。上の方で述べたアドレス空間切り替えの件をどこかの資料で <br> よんだのですが忘れてしまいました。 <br>  <br> とりあえず一般的といわれるアルゴリズムを勉強・選択して実装・計測してみます。 <>
Be名無しさん<>sage<>04/02/19 00:00<> <a href="../test/read.cgi/os/1076216434/348" target="_blank">&gt;&gt;348</a> <br> MonoのOSとしての特性次第じゃないかな。 <br> ITRONやVxWORKSのようなリアルタイムOSにしたいのか、それとも <br> Windows NTや普通のLinuxみたいにリアルタイム性はそこそこに、 <br> 大容量のリソースを扱える汎用OSにするかなどで違ってくると思う。 <br> もちろん、うまくバランスをとってオールマティーなOSを目指す <br> ってのもありだと思うが…。 <br>  <>
Be名無しさん<>sage<>04/02/19 00:01<> <a href="../test/read.cgi/os/1076216434/350" target="_blank">&gt;&gt;350</a> <br> こいついつも偉そう！何様！ <br> 卑下もよく耐える（藁 <>
Be名無しさん<>sage<>04/02/19 00:05<> <a href="../test/read.cgi/os/1076216434/351" target="_blank">&gt;&gt;351</a> <br> &gt; TYPE.ELF SAMPLE.TXT <br> &gt; でファイル内容を出力するときのサンプルテキストです。 <br> &gt; それ以外の意図はありません。うーん誤解を招きやすかったかも。 <br> 最初からこう答えずに、スケジューラで悩んでいると書かれたら、 <br> 誰だって問題点を明示する意図があったと思うでしょう。 <br>  <br> &gt; とはどういうことでしょうか？ <br> 前述のようにスケジューラについて悩んでいて、 <br> それもあってサンプルに選んだのであれば、 <br> SAMPLE.TXTに<a href="../test/read.cgi/os/1076216434/346-348" target="_blank">&gt;&gt;346-348</a>のようなことを書けば良かったということ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/353" target="_blank">&gt;&gt;353</a> <br> &gt; こいついつも偉そう！何様！ <br> ｵﾏｴﾓﾅｰ <>
Be名無しさん<>sage<>04/02/19 00:06<> <a href="../test/read.cgi/os/1076216434/352" target="_blank">&gt;&gt;352</a> <br> &gt; MonoのOSとしての特性次第じゃないかな。 <br> MonoじゃなくてMona。 <br> MonoはNovellに買収されたXimianが作ってる.NET互換実装。 <>
Be名無しさん<>sage<>04/02/19 17:13<> 卑下はいつまで自作自演を続け(ry <>
さ　っ　き　ゅ　ん<>sage<>04/02/19 19:15<> 　　_, ._  <br> （　ﾟ Дﾟ）さっきゅんが自作自演に興味をもっていらっしゃるようです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/20 20:03<> <a href="../test/read.cgi/os/1076216434/352" target="_blank">&gt;&gt;352</a>さん <br> &gt; MonoのOSとしての特性次第じゃないかな。 <br>  <br> ありがとうございます。 <br> Monaはどちらかというと汎用OSを目指しています。 <br>  <br> <a href="../test/read.cgi/os/1076216434/354" target="_blank">&gt;&gt;354</a>さん <br> いろいろ紛らわしくて申し訳ありませんでした。 <br>  <br> アプリ登録所に登録があったMONAFONT.ELFで <br> 勉強していました。 <br>  <br> あまりの内容の濃さにカルチャーショックを受けました。 <br> 現在消化中です。 <>
Be名無しさん<>sage<>04/02/20 23:14<> part2から見ています。 <br> 最近のMonaの爆発ぶりにはただただ驚いています。 <br> ソースを見る限りカーネルの大部分はおひとりで書かれているようですが <br> すごいパワーです。part2を見直すとあんなに素人だったのに（笑） <br>  <br> APIも目を通しましたがまだ進化中ながら <br> オブジェクト指向でわかりやすいと思いました。 <br>  <br> これからもがんばってください。 <br> アプリあたりで貢献できたらと思っていますが。 <br>  <br> アプリケーション作成方法とかが少しでも分かれば良いですね。 <br> ひげさんにはカーネルに注力してもらいたいので当分先かもしれませんが。 <>
Be名無しさん<>sage<>04/02/20 23:33<> このあたりがすごい。 <br> Pointer&lt;Screen&gt; scr = new Screen(); <br> Pointer&lt;Font&gt; mona_12 = new Font(MONA_12_MNF); <>
Be名無しさん<>sage<>04/02/21 00:12<> <a href="../test/read.cgi/os/1076216434/360" target="_blank">&gt;&gt;360</a> <br> C++なのにJavaみたいってのを狙ってるらしい。 <br> newしてるのにdeleteしなくても良くなる、みたいな。 <>
Be名無しさん<>sage<>04/02/21 00:28<> MonaOSにMonaFontっていうネタだろ <>
Be名無しさん<>sage<>04/02/21 00:41<> Monaも気を付けないといけないね <br> http://www.itmedia.co.jp/news/articles/0402/20/news049.html <>
Be名無しさん<>sage<>04/02/21 08:57<> 現状のMONAってユーザランドからのIOとかハードウェア割り込みの <br> ユーザランドへの通知とか可能なのでしょうか？ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/21 12:03<> <a href="../test/read.cgi/os/1076216434/359" target="_blank">&gt;&gt;359</a>さん <br> ありがとうございます。 <br> アプリの作成方法ですが、アプリ登録所のソースを <br> 見ていただくのが良いとおもいます。 <br>  <br> 画面に文字を表示する方法・絵を書く方法 <br> キーやマウス入力を知る方法などソースを読めば <br> なんとなくつかめるかと思います。 <br>  <br> <a href="../test/read.cgi/os/1076216434/360" target="_blank">&gt;&gt;360</a>さん <br> ほんとにすごいですね。良いソースにあうと刺激を受けます。 <br> Pointerクラスはじっくりと眺めてやっと何を意図するもの <br> なのか気づきました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/363" target="_blank">&gt;&gt;363</a>さん <br> そうですね。 <br> 現在のカーネルはセキュリティ的には穴だらけだと思います。 <br> 徐々にふさいでいきます。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/21 12:04<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> &gt; 現状のMONAってユーザランドからのIOとかハードウェア割り込みの <br> &gt; ユーザランドへの通知とか可能なのでしょうか？ <br>  <br> ユーザーランドからのIOは可能です。(ただし全許可) <br> まだシステムコール化していないのでご要望があれば <br> 追加します。 <br>  <br> 将来的には全許可ではなく種々の制限を設ける予定です。 <br>  <br> ハードウェアの割込み通知は可能です。 <br> 現在マウス・キーボード割り込みをMessenger::sendで <br> ユーザーモードサーバに通知して処理しています。 <br> (send部分はカーネルのソースに埋め込まれています) <>
Be名無しさん<><>04/02/21 22:17<> MONAの面白いところは実機よりエミュレータで動かした方が快適だというところ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/21 22:24<> <a href="../test/read.cgi/os/1076216434/360-361" target="_blank">&gt;&gt;360-361</a> <a href="../test/read.cgi/os/1076216434/365" target="_blank">&gt;&gt;365</a> <br> 狙いに気付いていただいてありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/362" target="_blank">&gt;&gt;362</a> <br> それを言ったらおしまいです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/21 23:58<> <a href="../test/read.cgi/os/1076216434/367" target="_blank">&gt;&gt;367</a>さん <br> &gt;&nbspMONAの面白いところは実機よりエミュレータで動かした方が快適だというところ <br>  <br> これは気づきませんでした。 <br> 開発の中心がエミュレータなのが原因ですね。 <br> まあ。いづれ実機でも快適になります（笑） <br>  <br> &gt;&gt;Tinoさん <br> 大変勉強になりましたこれからもよろしくお願いいたします。 <br>  <br>  <br> さて今日はスケジューラのアイデアがいまいち湧いてこないので <br> 実装の材料をそろえていました。 <br>  <br> イメージとしてはスレッドのキューが優先度の種類分あります。 <br> で、それぞれのキューは双方向リストで実装。 <br> そのキューたちをArray&lt;Queue&gt;で保持という形になります。 <br>  <br> Queueクラスを実装してThreadはそれを継承する形にしました。 <br>  <br> 全てのキューの全てのスレッドに対して何らかの操作を順番にしたいときは <br> Tinoさんのマクロとそれのまねをした双方向リスト用のマクロで以下のように <br> 書けるようにしました。 <br>  <br> FOREACH(Thread,&nbspqueue,&nbspall) <br> { <br> &nbsp&nbsp&nbsp&nbspFOREACH_Q(queue,&nbspThread*,&nbspthread) <br> &nbsp&nbsp&nbsp&nbsp{ <br> &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspthread-&gt;getThreadInfo(); <br> &nbsp&nbsp&nbsp&nbsp} <br> } <>
364<>sage<>04/02/22 02:36<> <a href="../test/read.cgi/os/1076216434/366" target="_blank">&gt;&gt;366</a> <br>  <br> 全許可なのは、現状を考えるとありがたいです。 <br> 何か作ったりしましたら報告します。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 03:13<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> I/O全許可用のシステムコールを作成しました <br> (いまいち動作確認できておりませんが・・・) <br>  <br> system_call_get_io(); これを一度呼ぶとI/O全許可されます。 <br> CVS最新版のカーネルで使用可能です。 <br>  <br> src/user以下のディレクトリ構成がアプリケーション毎にディレクトリを分けるように <br> いたしましたので念のためお知らせいたします。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 03:19<> 補足です。 <br> &gt; 全許可なのは、現状を考えるとありがたいです。 <br> &gt; 何か作ったりしましたら報告します。 <br>  <br> 仕様が多少流動的であったりして、分かりづらいところもあると思いますが <br> ここ、もしくはWikiで聞いていただければ出来る限り答えますので <br> よろしくお願いいたします。 <br>  <br> たくさんの方にMonaに触れていただくことでカーネルやAPIのダメなところが <br> 見えると思います。皆様ご協力をお願いいたします。 <>
Be名無しさん<>sage<>04/02/22 15:16<> ＆nbspうざい。 <>
Be名無しさん<>sage<>04/02/22 17:39<> <a href="../test/read.cgi/os/1076216434/228" target="_blank">&gt;&gt;228</a> <br> &gt; Meadow2を使っています。 <br> &gt; utf-から始まるコマンドは見つかりませんでした。 <br> Meadow2は知りませんが、Meadow1ではMule-UCSが必要です。 <br> なお、Mule-UCSの作者はMeadowと同じ宮下さんです。 <br> http://kawacho.don.am/win/meadow/mule-ucs/mule-ucs.html <>
Be名無しさん<>sage<>04/02/22 17:45<> ひげぽんってJavaでもC++でもEclipseを使ってるのかと思ってた。。。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 17:49<> <a href="../test/read.cgi/os/1076216434/373" target="_blank">&gt;&gt;373</a>さん <br> 私の張ったソースでしょうか？ <br>  <br> <a href="../test/read.cgi/os/1076216434/374" target="_blank">&gt;&gt;374</a>さん <br> ありがとうございます。 <br> .emacsでコメントアウトされている <br> (require 'un-define) <br> (setq bitmap-alterable-charset 'tibetan-1-column) <br> (require 'jisx0213) <br>  <br> を生かしたらUTF-8なども使えるようになりました。 <br> netinstallしたときにデフォルトで入っていたようです。 <br> ありがとうございました！！ <>
375<>sage<>04/02/22 17:51<> <a href="../test/read.cgi/os/1076216434/376" target="_blank">&gt;&gt;376</a> <br> 単純な興味なんだけど、どうしてEclipseを使わないの？ <br> 仕事でEclipseとか使うんじゃ？ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 18:04<> <a href="../test/read.cgi/os/1076216434/375" target="_blank">&gt;&gt;375</a>さん <br> 仕事ではjavaはやらないですねぇ（笑） <br>  <br> eclipseへの移行も考えましたがマシンパワーと <br> eclipseがでたのが、秀丸→Meadowの移行した直後だったので <br> なんとなくMeadowのままです。 <>
Be名無しさん<>sage<>04/02/22 18:10<> <a href="../test/read.cgi/os/1076216434/378" target="_blank">&gt;&gt;378</a> <br> 布教してみるテスト <br> http://www-6.ibm.com/jp/developerworks/opensource/030620/j_os-ecc.html <>
Be名無しさん<>sage<>04/02/22 18:18<>    相互リンク <br>  <br> OSを作ろうpart9（本スレ） <br> http://pc2.2ch.net/test/read.cgi/tech/1076217479/l50 <br>  <br> 【集え!!】OSを作ろうpart9【低学歴】（オチスレ） <br> http://pc2.2ch.net/test/read.cgi/tech/1076215520/l50 <br>  <br> OSを作ろうpart8（OS板出張所） <br> http://pc.2ch.net/test/read.cgi/os/1076216434/l50 <>
Be名無しさん<>sage<>04/02/22 18:21<> OS作りで得た知識とかってリアルの方では役立ってんの？ <br>  <>
Be名無しさん<>sage<>04/02/22 18:36<> アセンブラの知識くらいは役に立つんじゃない？ <>
Be名無しさん <>age<>04/02/22 19:24<> XBOX風の外見のOS作って <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 22:26<> <a href="../test/read.cgi/os/1076216434/379" target="_blank">&gt;&gt;379</a>さん <br> 改宗は徐々に行われると思いますｗ <br>  <br> <a href="../test/read.cgi/os/1076216434/381" target="_blank">&gt;&gt;381</a>さん <br> コンスタントにコードを書くということで多少は技量が <br> 上がったという程度くらいしか直接は役にはたたないですね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/383" target="_blank">&gt;&gt;383</a>さん <br> 外見は自由に変えられるようにしたいですね。 <br>  <br> 今日もだらだらとスケジューラについて考えていました。 <br>  <br> 全然関係ないですが、タイマ割込み間隔を設定するときに <br>     outportb(0x43, 0x36);とやってから値をレジスタに書き込むのですが <br>  <br> outportb(0x43, 0x34);とやっているソースを見たことがあります。 <br> これって何か違うのでしょうか。 <br> 本当にMonaって10ms毎に割込み来ているのかなぁ。 <>
381<>sage<>04/02/22 22:37<> <a href="../test/read.cgi/os/1076216434/384" target="_blank">&gt;&gt;384</a> <br> 「OS作り始めてから女の子にモテモテです」 <br> ってんなら試してみようかと思ったんだけどなぁ。 <br> やっぱやめとこ。 <br> 長続きもしないだろうし。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 22:38<> 夢のまた夢ですが。 <br> Monaでネットワークが使えるようになったらいろいろ広がるでしょうねぇ。 <br>  <br> NICのドライバをどなたかが書いてくれたりしたら一気にいろいろと加速して <br> Monaからここに書き込みができるようになったらいいなぁ。 <br>  <br> 万が一ドライバを書いても良いと思う方がいた場合、Monaのどういう部分が <br> 障害になるのかなあと考えたりします。 <br>  <br> 動的にモジュールをロードできない。 <br> カーネルとドライバの標準インタフェースが決まっていない。 <br>  <br> とかですかね。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 22:46<> <a href="../test/read.cgi/os/1076216434/381" target="_blank">&gt;&gt;381</a>さん <br> &gt; 「OS作り始めてから女の子にモテモテです」 <br>  <br> そりゃもう。。。。ノーコメントです。 <>
ひげぽんの彼女<>sage<>04/02/22 23:03<> ひげぽんOS作り始めてからかっこよくなった <br> マジおすすめ <>
Be名無しさん<>age<>04/02/22 23:17<> ひげぽんさんOS作るのって難しいですか？ <br> OS作るのに興味はあるんですが… <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/22 23:21<> <a href="../test/read.cgi/os/1076216434/389" target="_blank">&gt;&gt;389</a>さん <br> &gt; ひげぽんさんOS作るのって難しいですか？ <br> &gt; OS作るのに興味はあるんですが… <br>  <br> まだ作り上げたわけではないのですが難しくはないと思います。 <br> ブートコードは他のOSのをとりあえず借用していけば <br> いろいろと遊べるようになると思います。 <br>  <br> OSを作るにはいろいろと部品を作らなければいけなくて <br> 地味な作業が続く時期があると思いますがそれを乗り越えれば <br> すごく楽しいですよ。 <>
Be名無しさん<>sage<>04/02/22 23:34<> <a href="../test/read.cgi/os/1076216434/389" target="_blank">&gt;&gt;389</a> <br> 勝手に連載/16BitOS作り <br> ttp://wiki.osdev.info/index.php?%5B%5B%BE%A1%BC%EA%A4%CB%CF%A2%BA%DC%2F16BitOS%BA%EE%A4%EA%5D%5D <br> OS作りの最初の一歩 の紹介ページ  <br> ttp://community.osdev.info/index.php?FirstStep <br> CORONのブートまわり  <br> ttp://www.ncfreak.com/cecilia/yiki.cgi?CORON%a4%ce%a5%d6%a1%bc%a5%c8%a4%de%a4%ef%a4%ea <br>  <br> このあたりがよさげ <>
Be名無しさん<>sage<>04/02/23 02:45<> <a href="../test/read.cgi/os/1076216434/384" target="_blank">&gt;&gt;384</a> <br> mode2と3か。 <br> ATでインターバルタイマとして使うならほとんど同じ。 <br> PICに食わせるので0x34の方がいいと思うが。 <br> とりあえず明確な違いは、出力の波形が違うので、 <br> 一回目の割り込みが入るタイミングが違う。 <br>  <br> 不安ならTSCで割り込み周期計ってみればいいのでは？ <br> 基準が正確にわからんので、多少の誤差が出るけど。 <br>  <>
Be名無しさん<>sage<>04/02/23 08:54<> 多言語対応の話が出ていたので、なんとなくはってみる。 <br> http://www.aist.go.jp/aist_j/press_release/pr2004/pr20040219/pr20040219.html <>
Be名無しさん<>sage<>04/02/23 13:52<> 駄レスでごめん。 <br> たまたまブラっとこの板覗いたら、あんたらこんな事してたんだね？ <br> 俺はさっぱり判らんけど、何だか凄そうなんで開発頑張ってください。 <br> 期待してます。 <>
Be名無しさん<>age<>04/02/23 17:19<> 高級感ある外見がいいんじゃない？Mac的なグラフィックだと嬉しい。 <br>  <>
Be名無しさん<>sage<>04/02/23 17:27<> ｴ~　シンプルなほうがいい... <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 20:10<> <a href="../test/read.cgi/os/1076216434/392" target="_blank">&gt;&gt;392</a>さん <br> &gt; mode2と3か。 <br> &gt; ATでインターバルタイマとして使うならほとんど同じ。 <br>  <br> なるほど。ありがとうございます。 <br>  <br> &gt; 不安ならTSCで割り込み周期計ってみればいいのでは？ <br> &gt; 基準が正確にわからんので、多少の誤差が出るけど。 <br>  <br> RDTSCの事だと思うのですが。おっしゃるとおり時間の <br> 基準が分からないのですよね。 <br>  <br> タイマのほうですが0x34で設定した時ハングする実機があったように <br> 思うのですが、もう一度実験してみます。 <br> ハングしたのは <br> ttp://cvs.sourceforge.jp/cgi-bin/viewcvs.cgi/mona/mona_v1.0/src/pic.cpp?rev=1.13&content-type=text/vnd.viewcvs-markup <br>  <br> のvoid setTimerInterval(dword ms) を呼び出したときです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 20:37<> MonaのCVS最新版をダウンロードしてビルドする可能性がある方々に <br> お知らせいたします。 <br>  <br> スケジューラ再構築とそれに伴うシステムコール群の書換のため <br> 当分の間にカーネルがまともに動かなくなります。 <br>  <br> ユーザー側のAPIは、変更がないように進めますので <br> 当分の間は先日リリースした0.1.5をご使用いただきますようお願いいたします。 <>
Be名無しさん<>sage<>04/02/23 22:19<> <a href="../test/read.cgi/os/1076216434/397" target="_blank">&gt;&gt;397</a> <br> 少なくてもIntelのCPUなら、内部クロックに同期しているはずです。 <br> つまり、例えば3.2GHzのPen4なら、約3200000000進みます。 <br> Intelのマニュアル Vol.3 15.7を参照してみてください。 <br>  <>
Be名無しさん<>sage<>04/02/23 22:21<> ネットワークドライバの開発って難しいのかな？ <br> 俺には無理だけど・・・ <br> 誰か手を挙げたらがぜん盛り上がると思われ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 22:32<> <a href="../test/read.cgi/os/1076216434/399" target="_blank">&gt;&gt;399</a>さん <br> ありがとうございます。 <br> マニュアル読んでみます。 <br>  <br> スケジューラにArrayを組み込んでみたがどうも根本的に <br> 何かを間違っている予感がしてきました。 <br> Arrayに格納する中身と[]演算子の関係を勘違いしているっぽいです。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/23 22:44<> <a href="../test/read.cgi/os/1076216434/401" target="_blank">&gt;&gt;401</a> <br> -- src/include/collection.h <br> &gt; inline T operator [](dword index) <br> []演算子の返り値をT&にしないと代入できなくなります。 <br> 意図的に読み取り専用にしているのであれば値返しで構わないですけど。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 22:51<> &gt;&gt;Tinoさん <br> ありがとうございます！！ <br>  <br> ご指摘の通りでした。 <br> 恥ずかしながら参照型をきちんと理解できていないのが原因でした。m(__)m <br>  <br> コンパイラが一時アドレスを使用しています的なwaringを吐いていたの <br> ずっと悩んでいました。 <br> 一歩進みました。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/23 23:01<> <a href="../test/read.cgi/os/1076216434/403" target="_blank">&gt;&gt;403</a> <br> 参照型は結構ハマります。以下余談。 <br>  <br> たとえば定石として、関数に引数として値をセットしたい変数を渡す場合、 <br> 参照型ではなくポインタで渡すことが推奨されます。 <br> △ void change_value(int& v); … (1) <br> ◎ void change_value(int* v); … (2) <br> なぜかというと、呼び出している部分を見ても <br> 引数が変更されることが分からないからです。 <br> (1)の場合: int a; change_value(a); <br> (2)の場合: int a; change_value(&a); <br>  <br> そのためC#では参照型の引数に渡すときは、 <br> 呼び出し側でも参照を明示するようになっています。 <br> void change_value(ref int v); <br> (呼び出し側) int v; change_value(ref v); <br>  <br> 引数に参照型を使うときはconstのときだけです。 <br> これは巨大なクラスを渡す場合のオーバーヘッドを避けるためです。 <br> constなので、当然、引数の値は変更されないことが前提です。 <br>  <br> constと言えば、引数で渡す文字列を変更しない場合は、 <br> char*ではなくconst char*にしておくべきです。 <br> たとえば以下のようにするのが定石です。 <br> char* strcpy(char* dest, const char* src); <br> 意識的にconst char*が使われていないようなので、 <br> 総洗いしてみることをお勧めします。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/23 23:06<> はっきり言って参照とかポインタとかconstとかの使い分けは面倒くさいので、 <br> それらをPointer, Array, Stringに押し込めて、 <br> 他の部分で意識しなくて済むようなスタイルを考えています。 <br> MONAFONT.ELFは実験的にそういう方針で書いてみました。 <br> shadowさんにMonaged C++と言われたものです。(w <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 23:14<> &gt;&gt;Tinoさん <br> &gt; そのためC#では参照型の引数に渡すときは、 <br> &gt; 呼び出し側でも参照を明示するようになっています。 <br>  <br> なるほど。確かにconst以外ではあまり見かけませんね。 <br>  <br> &gt; char* strcpy(char* dest, const char* src); <br> &gt; 意識的にconst char*が使われていないようなので、 <br> &gt; 総洗いしてみることをお勧めします。 <br>  <br> ご指摘ありがとうございます。 <br> ユーザーライブリ・カーネル側どちらも見てみます。 <br>  <br> スケジューラもWin上でテストしてからやればよかったと後悔気味・・・ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 23:16<> &gt; はっきり言って参照とかポインタとかconstとかの使い分けは面倒くさいので、 <br> &gt; それらをPointer, Array, Stringに押し込めて、 <br> &gt; 他の部分で意識しなくて済むようなスタイルを考えています。 <br>  <br> 確かに面倒ですよね。気をつけているつもりでも・・・ <br> TinoさんのMONAFONT.ELFは、私の知るC++のお作法ではなくて <br> すごく新鮮でした。Monaged C++広めますか？ｗ <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 23:34<> Array&lt;Queue&gt; runq[10]; <br>  <br> Queueはprev,nextをもつ構造体 <br>  <br> runqは内部にQueueの配列を持っている。[]演算子をオーバーロードしているので <br> runq[n]とやれば内部のQueueの配列のn番目の要素にアクセスできる。 <br>  <br> Queueを操作する場合、Queueへのポインタでアクセスすることがあります。 <br> Queue a; <br> a.next = &a; <br> ↑こんな感じで <br>  <br> では &(mona[3])とした場合、内部の配列の３番目のQueueへのポインタを返すように <br> したい場合は&演算子をオーバーロードすればよいのでしょうか？ <br> 混乱中・・・ <br>  <br> C++の入門書でも読むべきか・・・ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 23:46<> とりあえずWin32で実験してみます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/400" target="_blank">&gt;&gt;400</a> <br> &gt; ネットワークドライバの開発って難しいのかな？ <br> &gt; 俺には無理だけど・・・ <br> &gt; 誰か手を挙げたらがぜん盛り上がると思われ。 <br>  <br> そうですね。難しさは想像できないですねぇ。 <br> 割り込みがシビアで取りこぼしたらまずいとかはありそうですねぇ。 <br>  <br> ドライバは他のOSのが流用で来たらいいんですがそれなりに <br> NICに関して知識がないと厳しいですよね。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/23 23:47<> <a href="../test/read.cgi/os/1076216434/408" target="_blank">&gt;&gt;408</a> <br> ArrayにQueueを入れるのは変です。 <br> Queueそれ自体がコレクションクラスだからです。 <br>  <br> Queueは先入れ先出しなので、 <br> 配列中の任意の場所にアクセスする必要があるのは、 <br> Queueを使う場所ではないと思われます。 <br>  <br> 任意の場所にアクセスするためにはキューをフリーズさせます。 <br> 具体的にはtoArray()のような関数を用意して、 <br> その時点のキューの内容をArrayにコピーするというような、 <br> コレクションの変換を伴うべきです。 <br>  <br> [イメージ] <br> Queue&lt;int&gt; q; <br> q.enqueue(2); <br> q.enqueue(5); <br> Array&lt;int&gt; a = q.toArray(); <br>  <br> 同様に可変長のListをフリーズさせるときに、 <br> toArray()でArrayに吐き出させると良いでしょう。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/23 23:56<> すいません説明不足だったようです。以下のようなことを狙っています <br>  <br> class Thread : public Queueとしておいて <br>  <br> Array&lt;Thread&gt; runq(4);// 優先度の数は一定 <br>  <br> runq[0]: 優先度0のRun Queue <br> runq[1]: 優先度1のRun Queue <br> runq[2]: 優先度2のRun Queue <br> runq[3]: 優先度3のRun Queue <br>  <br> つまりカーネルは優先度の数だけRun Queueをもちます。 <br> 各Run Queueはスレッドを任意個保持できます。（そのため双方向リンクリストにしてあります) <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/24 00:37<> <a href="../test/read.cgi/os/1076216434/411" target="_blank">&gt;&gt;411</a> <br> 名前的にQueueというのは先入れ先出し汎用コレクションを連想するのが普通なので、 <br> そのものずばりQueueという名前はコレクション用に取っておいて、 <br> 差し出がましいようですが名前を変えた方が良いように思います。 <br> nextとprevで管理されているリンクリストの要素ならNodeとかが普通かと思います。 <br> 繰り返しますがQueueというのは先入れ先出しのものなので、 <br> 任意の要素を上から扱うようなことはしません。 <br>  <br> それはともかく、この場合、参照をポインタに変更できないのが問題というわけですね。 <br> src/Process.cppを見たところ、 <br> &gt; void Queue::remove(Queue* p) <br> のように操作はポインタが基本になっているので、 <br> Array&lt;Thread*&gt; runq(4); <br> のようにしてはいかがでしょうか。 <br>  <br> Monaged C++の絡みでWikiに書きましたが、型の段階で使用法を限定して、 <br> 自動変数でしか扱わないものと、ポインタでしか扱わないものとに分けると、 <br> この手の混乱が少なくなると思います。 <br>  <br> またこういった場合、removeされたQueue*が宙ぶらりんになる危険性があるので <br> Pointerによる参照カウントが絡んできますが、それはまあ、先走りでしょう……。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/24 00:38<> Array, Queueそれぞれの単体でのテストをcygwin上で行って <br> 意図する動作であることを確認できました。 <br>  <br> 組み合わせたらSegment faultしたので、その辺で間違っているのでしょう。 <br> 今日は力尽きたので明日がんばります。 <br> tools/arrayqueuetest/aq.cpp <>
Be名無しさん<>sage<>04/02/24 01:38<> <a href="../test/read.cgi/os/1076216434/397" target="_blank">&gt;&gt;397</a> <br> PICのIMR設定してからPITさわった方がよろしいのではないかと。 <br> 初期状態のIMRがどうなってるか忘れたけど、そこでハングするということは <br> 変なタイミングで割り込みが来ているような気がする。 <br>  <>
Be名無しさん<>sage<>04/02/24 01:51<> <a href="../test/read.cgi/os/1076216434/326" target="_blank">&gt;&gt;326</a> <br> &gt;subversionだったらもう少し楽ですかね＞ファイルの移動 <br> ver.1.0.0が出たよ <br> ttp://slashdot.jp/article.pl?sid=04/02/23/154210&topic=104&mode=thread&threshold=-1 <br>  <br> dev-jの人もコメントしてるね <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/24 03:01<> <a href="../test/read.cgi/os/1076216434/413" target="_blank">&gt;&gt;413</a> <br> 問題があるのは以下の部分です。 <br> 61:&nbsp;&nbsp;FOREACH(Queue, value, runq) <br> 62:&nbsp;&nbsp;{ <br> 63:&nbsp;&nbsp;&nbsp;&nbsp;Queue::initialize(&value); <br>  <br> 基本的にFOREACHは代入しているだけです。 <br> Queue value = runq[0]; <br> というのと同じです。 <br> この時点で別インスタンスなので、 <br> &valueに対して操作しても意味がありません。 <br>  <br> 仮にFOREACHが参照を使うようになっているとしても、 <br> Queue& value = runq[0]; <br> 今度はポインタが取れなくなってしまいます。×&value <br>  <br> もともとC#のforeachでイテレータに値型を指定すると <br> 読み取り専用になって代入できない仕様になっているので、 <br> それと同じように値が変えられないようにしてみました。 <br> ※なお、Perlでは参照扱いになるので代入できます。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/24 03:02<> ここで先ほど書いたように、特定の型に対してはポインタだけで扱う、 <br> という方針が意味を持ってきます。（これをMC++風と仮称しておきます） <br>  <br> 57:&nbsp;&nbsp;Array&lt;Queue*&gt; runq(10); <br> と書き換えるとQueueのインスタンスが作られないので <br> 直後にfor (int i = 0; i &lt; 10; i++) runq[i] = new Queue(); <br> を書き加えておきます。 <br>  <br> 61:&nbsp;&nbsp;FOREACH(Queue*, value, runq) <br> のように書き換えて、63行目の&valueをvalueにすると、 <br> とりあえずこの部分は想定通りの動きをします。 <br> 69行目も61行目と同じようにすれば良いのですが、問題は71行目です。 <br> 71:&nbsp;&nbsp;&nbsp;&nbsp;FOREACH_Q(value, Queue, hoge) <br>  <br> MC++風ではポインタだけで扱う型に対して、 <br> 自動変数だけで扱う型も想定していて、 <br> 可能な限りチャンポンで使わないようにします。 <br> 自動変数に対してポインタを取るのがそのチャンポンです。 <br> 従ってQueue top; ……(&top)というような部分は、 <br> Queue* top = new Queue(); ……(top)のように書くことを推奨します。 <br>  <br> そうすると全面書き換えになるので、 <br> Wikiのコーディングテクニックのページに差分(aq.diff)を置いておきました。 <br> 扱い方を統一的にすることで、見通しが良くなったと思います。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/24 03:11<> Array&lt;Queue*&gt; runq(10); <br> for (int i = 0; i &lt; 10; i++) runq[i] = new Queue(); <br>  <br> ↑の書き方は冗長に見えるかもしれませんが、 <br> 考え方は↓のJavaと同じことです。 <br> ※JavaのStringは自動変数に出来ないことを参照。 <br>  <br> String[] a = new String[10]; <br> for (int i = 0; i &lt; 10; i++) a[i] = new String(); <br>  <br> いちいち書くと面倒なら、マクロを作ると良いでしょう。 <br>  <br> #define ALLOC_ARRAY(type, name, length) Array&lt;type*&gt; name; \ <br> &nbsp;&nbsp;for (int __##name = 0; __##name &lt; length; __##name++) name[__##name] = new type() <br>  <br> [使い方] ALLOC_ARRAY(Queue, runq, 4); <>
364<>sage<>04/02/24 03:17<> <a href="../test/read.cgi/os/1076216434/366" target="_blank">&gt;&gt;366</a> <a href="../test/read.cgi/os/1076216434/371" target="_blank">&gt;&gt;371</a> <br> まともにご挨拶もしてないのに丁寧な対応ありがとうございます。 <br> 今後ともよろしくお願いします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/386" target="_blank">&gt;&gt;386</a> <a href="../test/read.cgi/os/1076216434/400" target="_blank">&gt;&gt;400</a> <a href="../test/read.cgi/os/1076216434/409" target="_blank">&gt;&gt;409</a> <br> NICドライバ作ってる人たぶん全国に何人か居ると思うけれど <br> みんな、成果物ができないと言い出しにくいクチなのかな＜自分を含め <br> NICドライバ点呼してみるテスト <br> １ <br> あとNICドライバ待ちでプロトコルスタック書いてる人（書きたい人）も <br> 居るかも <>
364<>sage<>04/02/24 03:25<> ↑ミスタイプ「NICドライバ組んでる人点呼してみるテスト」でした。 <br>  <br> NICドライバについて <br> 状況：ne2kの資料集めが終わり、初期化手順と（もっとも簡単な）使い方をチェック中です。 <br> ne2kな理由：とりあえずエミュレータでNICを使えるようにしたい＆資料多め <br> 方向性：プロトコルスタックとNICドライバ実装したくて和製OSをチョイスしてました。 <br> MONAの為に書き下ろすというより、NICドライバの実装テストプラットフォームとして <br> MONAを活用させていただきたいです。 <br> とりあえず動くものができればそれを元に、MONA風味にアレンジしていただいても結構ですし、 <br> 他の方がプロトコルスタックやNICドライバの、もう一つの実装をされても <br> 作成は個人的には続ける予定です。 <br> 個人的には、逆に無理に統合するよりインターフェイスさえ規定すれば <br> 複数のスタックがあってもよいと思います。 <br>  <br> ドライバと言えない段階の実行ファイルサンプルは1週間〜10日程度で <br> 初回版をお見せできればうれしいです。（社会人ですので時間が限られます） <br>  <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/24 03:26<> あと不思議に思ったのは、Queueのstatic関数はすべて第一引数にQueue*を取ることです。 <br> 関数ポインタを取ってみると分かりますが、C++の非static関数というのは、 <br> 暗黙の第一引数としてインスタンスが渡される関数です。 <br> つまりメンバにする条件を完全に満たしていて、staticにする意図が分かりません。 <br>  <br> 試しに書き換えてみました。 <br> 特に問題ないように見えます。 <br> こちらも前述のWikiのページに添付してあります。(aq.zip) <br>  <br> うー、さすがにもうつらいんで、風呂入って寝ます…… <>
Be名無しさん<>sage<>04/02/24 09:40<> ( rtl8139の書きかけコードならちょっとだけ… <>
Be名無しさん<>sage<>04/02/24 09:52<> N氏ﾊｯｹｿ <>
鳥取砂丘 </b>◆Dream/3P/. <b><>sage<>04/02/24 20:14<> 　　＿  <br> 　 /〜ヽ  <br> 　(｡･-･)　保守ﾌﾟﾘﾝ <br> 　ﾟし-Ｊﾟ  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/24 20:26<> &gt;&gt;Tinoさん <br> 入れ違いになってしまったようで、申し訳ありません。 <br> 丁寧な御説明ありがとうございます。 <br>  <br> &gt; 名前的にQueueというのは先入れ先出し汎用コレクションを連想するのが普通なので、 <br> &gt; そのものずばりQueueという名前はコレクション用に取っておいて、 <br> &gt; 差し出がましいようですが名前を変えた方が良いように思います。 <br>  <br> 仰るとおりですね。Process.cppで使用するQueue-&gt;Nodeと名前を変えました。 <br>  <br> &gt; Queue value = runq[0]; <br> &gt; というのと同じです。 <br> &gt; この時点で別インスタンスなので、 <br> &gt; &valueに対して操作しても意味がありません。 <br>  <br> その通りです。すいません・・・ <br>  <br> &gt; 従ってQueue top; ……(&top)というような部分は、 <br> &gt; Queue* top = new Queue(); ……(top)のように書くことを推奨します。 <br>  <br> なるほど。たしかに↑の方が意図することがわかりやすいですね。 <br>  <br> &gt; Array&lt;Queue*&gt; runq(10); <br> &gt; for (int i = 0; i &lt; 10; i++) runq[i] = new Queue(); <br>  <br> はい。分かります。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/24 20:27<> &gt; あと不思議に思ったのは、Queueのstatic関数はすべて第一引数にQueue*を取ることです。 <br> &gt; 関数ポインタを取ってみると分かりますが、C++の非static関数というのは、 <br>  <br> すいません。Queueを最初は構造体と想定していた元ネタ(過去の自分のコード)を <br> そのまま使おうと思って意味の分からないことをしてしまいました。 <br> おはずかしい・・・ <br>  <br> &gt; 特に問題ないように見えます。 <br> &gt; こちらも前述のWikiのページに添付してあります。(aq.zip) <br> &gt; うー、さすがにもうつらいんで、風呂入って寝ます…… <br>  <br> 添付ファイル確認させていただきました。 <br> ありがとうございます。 <br> 私の至らなさで多大な御迷惑をおかけして申し訳ありません。 <br> あまり無理をなさらないでください。。 <br>  <br> <a href="../test/read.cgi/os/1076216434/414" target="_blank">&gt;&gt;414</a>さん <br> &gt; PICのIMR設定してからPITさわった方がよろしいのではないかと。 <br> &gt; 初期状態のIMRがどうなってるか忘れたけど、そこでハングするということは <br> &gt;変なタイミングで割り込みが来ているような気がする。 <br>  <br> なるほど。たしかにPITを触った後、マスク処理をしています＞現在 <br> 一応、割り込みを全面禁止にしてから作業しているので大丈夫かとは思いますが <br> 初期化の順番は関係あるかもしれませんね。 <br>  <br> &gt; ver.1.0.0が出たよ <br> &gt; <br> ttp://slashdot.jp/article.pl?sid=04/02/23/154210&topic=104&mode=thread&threshold=-1 <br>  <br> でましたねぇ。apacheを使ってネットワーク越しの作業というのは一度実験してみたいですね。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/24 20:27<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> &gt; まともにご挨拶もしてないのに丁寧な対応ありがとうございます。 <br> &gt; 今後ともよろしくお願いします。 <br>  <br> こちらこそよろしくお願いいたします。 <br>  <br> &gt; NICドライバ点呼してみるテスト <br> &gt; １ <br>  <br> NICドライバー開発者さんようこそーーー。 <br>  <br> &gt; MONAの為に書き下ろすというより、NICドライバの実装テストプラットフォームとして <br> &gt; MONAを活用させていただきたいです。 <br>  <br> ありがとうございます。非常にうれしいです。 <br> しょぼいカーネルですがぜひぜひ活用してください。 <br> またドライバの開発の障害となるものがカーネルにあったり <br> 不足している機能がありましたらどんどん言ってください。 <br>  <br> 可能な限り対応させていただきます。 <br>  <br> &gt; ドライバと言えない段階の実行ファイルサンプルは1週間~10日程度で <br> &gt; 初回版をお見せできればうれしいです。（社会人ですので時間が限られます） <br>  <br> お互い社会人ですが、無理がない程度にがんばりましょう！！ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/24 23:20<> Tinoさんのおかげでスケジューラの簡単な実験が出来ました。 <br>  <br> これからシステムコールの再構成に入ります。 <br> 以前はプロセス・スレッドがほぼ対等な立場だったため <br> 実装が入り組んでありえないことをなっていたのを <br> スレッド中心の実装にしました。 <br>  <br> パラーメータのチューニングが必要かとは思いますが <br> とりあえず早く動く状態にしようと思います。 <>
Be名無しさん<>sage<>04/02/24 23:48<> 理解遅いんだけど。 <br> もしかしてMONAでネットワークが使えるってことかーーーー？ <>
Be名無しさん<>sage<>04/02/24 23:57<> ﾃﾞﾊﾞｰﾄﾞｰﾗとかﾌﾟﾛｰﾄｺﾙﾝｽ-ﾀｯｸﾝとか用意されれば。 <br>  <br> もしかするとOSASKより早いかも。人集まってるし。 <br> Lﾀﾝはよく分からないﾀｲﾐﾝｸﾞで馬力を発揮するので侮れないけど <br> あまり気合入れてOSやる気も無いらしいから、 <br> 和製じゃ一番早く用意されるんじゃね？ <>
Be名無しさん<>age<>04/02/25 00:09<> それってすごいことだ <br> GUIとネットワーク <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/25 23:26<> <a href="../test/read.cgi/os/1076216434/407" target="_blank">&gt;&gt;407</a> <br> &gt; TinoさんのMONAFONT.ELFは、私の知るC++のお作法ではなくて <br> &gt; すごく新鮮でした。Monaged C++広めますか？ｗ <br> お返事遅くなりました。 <br> 決して無視していたわけではなくて、 <br> 調子に乗ってWindows Formsっぽいものを作っていました。 <br> イベント処理すら出来ないへっぽこですが……。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/26 01:06<> &gt;&gt;Tinoさん <br> 確認しました。ありがとうございます！！ <br> まだソースは追いきれていませんがきっと宝の山だと思うので <br> 明日にでも目を通します。 <br>  <br> カーネル側も気合を入れないとユーザーアプリを作ってくださる方々の <br> 要求にこたえられなくなるかもしれませんね。 <br> がんばらなくては。まずはスケジューラの安定です。 <>
Be名無しさん<><>04/02/26 20:46<> 以前からこのスレを見てるんだが、最近活発だからさらにネタふりを。 <br>  <br> ひげさんはMONAの開発をがんばってもらうとして <br> 何らかの形でMONAに協力したいと思う人は結構いると思う。 <br> でもどういう形で参加したいかが分からない(漏れみたいなやつ)がほとんどだと思われる <br>  <br> そこでスキル・志向別にこんなのやったらという案を書いてみた。 <br>  <br> ・結構できるひと(技術的なアドバイスをできるななしたん、Tinoさんレベル) <br> 　ひげさんへのアドバイス等、今までどおりのアプローチ <br>  <br> ・ある程度プログラミングはできるけどカーネルはさっぱり分からないよな人 <br> 　MONAで簡単なアプリ・ゲームを書いてみて、その過程で分からないことを <br> 　このスレでレポートする。 <br> 　そうすればこれから始めようと思う人たちの助けになるし、APIの不備とかが発覚するかも <br>  <br> ・実はOSを作ってみたいと思っているひと <br> 　MONAのソースを順々に読んでいって簡単なレポートをこのスレでする。 <br> 　分からないことがあれば、このスレの達人たちがアドバイスをくれるかもしれない。 <br> 　1ソース毎にみんなで解析するのも面白いかも。 <br>  <br> ・MONAは知らないけど、Windows, Unixは詳しいよな人 <br> 　Windows, UnixからインパクトのあるフリーソフトをMONAに移植してみよう。 <br> 　その過程をここでレポートしたりすると面白いかもしれない。 <br>  <br> ・プログラムとかまったく分からないなひと <br> 　次回MONAリリース時には動作報告というかたちで参加する <br> 　実はこれは結構助かるのではないかと漏れは思う <br>  <br> だらだらと書いてしまったがどうでもいいと思う人はどうか無視してくれ。 <br> 漏れは4番目でやってみる <>
Be名無しさん<>sage<>04/02/26 21:02<> <a href="../test/read.cgi/os/1076216434/434" target="_blank">&gt;&gt;434</a> <br> 面白いね！ <br> ＞漏れは4番目でやってみる <br> Hurdみたいにカーネルの上にPOSIXサーバを作ると移植は何でもOKかも。 <br> カーネルをいじらなかったらライセンス縛りとか関係ないしね。 <>
Be名無しさん<>sage<>04/02/26 21:05<> <a href="../test/read.cgi/os/1076216434/435" target="_blank">&gt;&gt;435</a> <br> HURDって言えば、FATFS.ELFを見てsettransを思い出した <br> マイクロカーネル的にはいい線行ってるかも <br> 織場もHURDを引き合いに出してたっけ <>
Be名無しさん<><>04/02/26 21:35<> <a href="../test/read.cgi/os/1076216434/434" target="_blank">&gt;&gt;434</a> <br> 良いね。 <br> 動作報告で貢献できそう。 <br> ５台もあるし。 <br>  <br> &gt;MONAで簡単なアプリ・ゲームを書いてみて、その過程で分からないことを <br> &gt;このスレでレポートする。 <br>  <br> これがスレにレポートされたら簡単なゲームでもやってみよう。 <br> かなりへたれだけどｗ <>
Be名無しさん<>sage<>04/02/26 21:49<> <a href="../test/read.cgi/os/1076216434/432" target="_blank">&gt;&gt;432</a> <br> GUI実装ってそんなに簡単なのか。 <br> それともTinoという人物が天才なのか。 <br>  <br> とにかくGUI on MONAおめでとーーーーーーーーーー <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/26 22:21<> <a href="../test/read.cgi/os/1076216434/438" target="_blank">&gt;&gt;438</a> <br> 私が作ったものはまだウィンドウが出るだけでGUIと呼べる代物ではないですから、 <br> そんなにすごいことではないですよ。 <br>  <br> いずれ、ひげぽんさんがGUIに取り掛かるときに <br> 参考になるようなものを用意できたら、と思って作っているものなので、 <br> ひげぽんさんが取り掛かる正式なGUIは、 <br> また一味違ったものになるのではないかと思います。 <br> そうなるのはカーネルが一段落してからでしょうけどね。 <br>  <br> それはともかく、今も改良を進めているところです。 <br> <a href="../test/read.cgi/os/1076216434/379" target="_blank">&gt;&gt;379</a>さんの影響を受けて(?)Eclipseを使ってみました。 <br> 私はJavaを使う機会がなかったのでEclipseをちゃんと使ったことがありませんでしたが、 <br> プラグインでC++も使えると言うことで試してみました。 <br> 噂通りの凄いソフトですね。こういうのを作る人こそ天才と言うんじゃないでしょうか。 <br>  <br> <a href="../test/read.cgi/os/1076216434/378" target="_blank">&gt;&gt;378</a> <br> Eclipseの起動はVS.NET並みに重いのですが、 <br> 起動してしまえばVS.NETよりサクサク動きました。 <br> SWTのお陰でJavaで作られていることすら忘れそうです。 <br> もっとも私がVS.NETの重さに慣れているという面もあるでしょうけど。 <br>  <br> ところで以前、ライセンスがひげぽんさんの個人名で出ていることについて、 <br> 協力者の扱いをどうするかという話があったようですが、 <br> MonoのMIT/X11コピーライトがうまく書いてあるのに気付きました。 <br> &gt; Copyright (c) 2001, 2002, 2003 Ximian, Inc and the individuals listed <br> &gt; on the ChangeLog entries. <>
Be名無しさん<>sage<>04/02/26 23:30<> <a href="../test/read.cgi/os/1076216434/439" target="_blank">&gt;&gt;439</a> <br> ChangeLogをマメに付けていれば一番いい方法ですな。 <br> commit logすらまともに書いていない漏れには無理な方法だ… <br>  <br> ところでviewcvs経由で見るとChangeLogが化けまくるのはうちの環境のせいですか？ <br>  <>
Be名無しさん<>sage<>04/02/26 23:59<> <a href="../test/read.cgi/os/1076216434/440" target="_blank">&gt;&gt;440</a> <br> ChangeLogは、UTF-8です。 <br> 1.123まで、SJISだったみたいです。 <br> Sorceforge.jpでは、euc-jpがデフォルトだった気がします＜Web文書 <>
Be名無しさん<>sage<>04/02/27 00:21<> <a href="../test/read.cgi/os/1076216434/441" target="_blank">&gt;&gt;441</a> <br> HTMLには書いてないけどApacheがこんなヘッダを返してるね。 <br> &gt; HTTP/1.1 200 OK <br> &gt; Date: Thu, 26 Feb 2004 15:19:34 GMT <br> &gt; Server: Apache/1.3.26 (Unix) Debian GNU/Linux PHP/4.1.2 <br> &gt; Connection: close <br> &gt; Content-Type: text/html; charset=euc-jp <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/27 00:22<> <a href="../test/read.cgi/os/1076216434/434" target="_blank">&gt;&gt;434</a>さん <br> 興味深い提案いただきありがとうございます。 <br>  <br> 正直言って、どれが実現しても非常にうれしいともにありがたいです。 <br> 出来る限りサポートいたしますので是非実現して欲しいです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/439" target="_blank">&gt;&gt;439</a>(Tino)さん <br> &gt; いずれ、ひげぽんさんがGUIに取り掛かるときに <br> &gt; 参考になるようなものを用意できたら、と思って作っているものなので、 <br> &gt; ひげぽんさんが取り掛かる正式なGUIは、 <br> &gt; また一味違ったものになるのではないかと思います。 <br>  <br> こんばんは。すいません。まだソース見れてないです。 <br>  <br> ところでTinoさんはかなりの腕前と見ておりますので <br> 正直私が位置から勉強してつくるGUIよりもいい物を作られる <br> のではないかと思っています。 <br>  <br> &gt; 私はJavaを使う機会がなかったのでEclipseをちゃんと使ったことがありませんでしたが、 <br> &gt; プラグインでC++も使えると言うことで試してみました <br>  <br> そんなに快適ですか。うむむ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/27 00:22<> &gt; Copyright (c) 2001, 2002, 2003 Ximian, Inc and the individuals listed <br> &gt; on the ChangeLog entries. <br>  <br> お。これいただこうかな。 <br> Incってここではどういう意味なんですかね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/440" target="_blank">&gt;&gt;440</a>さん <br> &gt; ところでviewcvs経由で見るとChangeLogが化けまくるのはうちの環境のせいですか？ <br>  <br> 申し訳ありません。UTF-8にしてみて戻すの忘れてました・・・ <br> euc-jp-unixに戻しました <>
Be名無しさん<>sage<>04/02/27 00:32<> <a href="../test/read.cgi/os/1076216434/444" target="_blank">&gt;&gt;444</a> <br> 不幸なゾロ目ゲットおめ！（なのか？ <br>  <br> ＞Incってここではどういう意味なんですかね。 <br> 普通に"incorporated"で「会社」の意味 <br> "Co., Ltd."とかってよく見るでしょ <br> あれと同じ <br> だから個人では不要 <br>  <br> ＞申し訳ありません。UTF-8にしてみて戻すの忘れてました・・・ <br> ＞euc-jp-unixに戻しました <br> Apacheの設定がeuc-jpになってるからどうしようもないね <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/27 00:51<> <a href="../test/read.cgi/os/1076216434/445" target="_blank">&gt;&gt;445</a>さん <br> ありがとうございます。↓な感じにしました。 <br> Copyright (c) 2002,2003, 2004 Higepon and the individuals listed on the ChangeLog entries. <br>  <br> <a href="../test/read.cgi/os/1076216434/438" target="_blank">&gt;&gt;438</a>さん <br> &gt; とにかくGUI on MONAおめでとーーーーーーーーーー <br> ありがとうございます。 <>
Be名無しさん<>sage<>04/02/27 01:32<> <a href="../test/read.cgi/os/1076216434/446" target="_blank">&gt;&gt;446</a> <br> どんどん年を付け足すのもあれだから2002-2004ってした方が良いと思うけど <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/27 06:18<> &gt; こんばんは。すいません。まだソース見れてないです。  <br> そんなに大したものでもないですから。 <br> とか言いながら調子に乗ってWikiにページを作ってみました。 <br>  <br> &gt; ところでTinoさんはかなりの腕前と見ておりますので <br> &gt; 正直私が位置から勉強してつくるGUIよりもいい物を作られる <br> &gt; のではないかと思っています。 <br> Monaはひげぽんさんが勉強しながらカーネルを作ったことに意義があると思いますが、 <br> それはGUIでも同じことではないかと思っています。 <br>  <br> 私の場合、3年前くらいに、勉強しながらGUIを作ったりしていました。 <br> 今はそのときの残骸をかき集めているような感じです。（ｗ <br>  <br> &gt; そんなに快適ですか。うむむ。 <br> C++だとJavaほどの強力なサポートは得られないので微妙かもしれません。 <br> とりあえずWikiにスクリーンショットを載せておきました。 <>
Be名無しさん<>sage<>04/02/27 13:45<> MASMでIPLって書けないんでしょうか？ <br> 当方、アセンブリの勉強をして、後にIPL書いて遊ぼうかと思ってまして。 <br> NASMは、できるのは分かっておりますが、MASMがどうも分からない。 <br> まぁ、com形式で、コードセグメントうまく設定すればできるのかと、乏しい知識で思ったり思わなかったり。 <br>  <br> ってかバイナリ直で吐けないような気が・・・。 <br> .comか.exeからの抽出が必要かな？ <>
Be名無しさん<>sage<>04/02/27 14:45<> <a href="../test/read.cgi/os/1076216434/449" target="_blank">&gt;&gt;449</a> <br> org 0で作って.comにすればいけるんでは？ <br> あれ生バイナリだし。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/27 21:24<> <a href="../test/read.cgi/os/1076216434/447" target="_blank">&gt;&gt;447</a>さん <br>  <br> ありがとうございます。徐々に直していきます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/448" target="_blank">&gt;&gt;448</a>(Tino)さん <br>  <br> &gt; とか言いながら調子に乗ってWikiにページを作ってみました。 <br>  <br> ありがとうございます。SDKは素直に便利だと思いました。 <br> GUIの方は、ソースを斜め読みして勉強中です。 <br>  <br> &gt; Monaはひげぽんさんが勉強しながらカーネルを作ったことに意義があると思いますが、 <br> &gt; それはGUIでも同じことではないかと思っています。 <br>  <br> 確かにそうですね。 <br> GUI方面に興味が行くかどうかは今現在はまだ分かりませんが。 <br> 勉強は続けたいですね。 <br>  <br> &gt; C++だとJavaほどの強力なサポートは得られないので微妙かもしれません。 <br> &gt; とりあえずWikiにスクリーンショットを載せておきました。 <br>  <br> なるほど。私の開発環境は結構非力なのが痛いですね。 <br> Meadowで十分といっていると時代に取り残されるかもしれませんが・・・ <>
Be名無しさん<>sage<>04/02/27 21:57<> <a href="../test/read.cgi/os/1076216434/450" target="_blank">&gt;&gt;450</a> <br> 色々と調べてみました。 <br> んでMASM、VC.net買おうかと思っていたのですが98DDKがマイクロソフトのホームページに <br> 密かにあったのでもらったったけど、何かいいのかどうか分からない。 <br> とにかくこれから勉強してきます。 <>
Be名無しさん<>sage<>04/02/27 22:25<> NASMで池 <>
Be名無しさん<>sage<>04/02/27 22:50<> <a href="../test/read.cgi/os/1076216434/452" target="_blank">&gt;&gt;452</a> <br> おまけmasmは32bitコード専用だったような気がする。 <br> exe2bin(なつかしい名前だ)もないし。 <br>  <>
452<>sage<>04/02/27 23:14<> 分かりました。ありがとうございました。もう逝きます。 <br>  <br> ＞ひげぽんさん <br> 適当に頑張って下さい。 <>
Be名無しさん<>sage<>04/02/27 23:24<> <a href="../test/read.cgi/os/1076216434/434" target="_blank">&gt;&gt;434</a>の企画案に答えて <br> MONA版Hello World <br>  <br> #include &lt;userlib.h&gt; <br> int MonaMain(List&lt;char*&gt;* pekoe) <br> { <br>     printf("Hello World"); <br>     return 0; <br> } <br>  <br> Makefileとかの詳しい解説って必要かなぁ（コピーしただけだけど） <>
456<>sage<>04/02/27 23:26<> ｽﾏｿ空白がつぶれた <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/28 00:51<> <a href="../test/read.cgi/os/1076216434/455" target="_blank">&gt;&gt;455</a>さん <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/456" target="_blank">&gt;&gt;456</a>さん <br> おぉ。始まりましたね。ありがとうございます。 <br> いろんな人たちがMonaで遊んでくれるといいですね。 <br>  <br> スケジューラの実装ではまり中です。 <br> FDC割り込みが来たらwakeしているのですがどうもスタックがずれているような <br> 印象を受けています。 <br> うまくいっているメッセージ到着のwakeと基本的には同じなのになんでだろう。 <>
Be名無しさん<><>04/02/28 05:01<> さて <br> debugコマンドでOSでも作るか <>
鳥取砂丘 </b>◆Dream/3P/. <b><>sage<>04/02/28 05:03<> (ﾟ∀ﾟ)ニヤニヤ <>
Be名無しさん<>sage<>04/02/28 05:12<> 何故にpekoe <>
459<>sage<>04/02/28 05:18<> 本気だっぺ <>
Be名無しさん<>sage<>04/02/28 10:28<> <a href="../test/read.cgi/os/1076216434/462" target="_blank">&gt;&gt;462</a> <br> 昔はDOSもMASMも持ってなかったから(C言語なんて尚更） <br> MONのAで16KBくらいのゲームを作ったりしたことあったっけ。 <br> 16KBでもかなりきつかった記憶が…… <br> Z80と違って16進数のコードがいつまで経っても覚えられなかった <br> 今でも覚えてるのはNOPの0x90くらいか…… <>
Be名無しさん<>sage<>04/02/28 10:29<> <a href="../test/read.cgi/os/1076216434/461" target="_blank">&gt;&gt;461</a> <br> MonaMainのこと？俺もそう思った。 <>
Be名無しさん<>sage<>04/02/28 10:34<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>(= <a href="../test/read.cgi/os/1076216434/419" target="_blank">&gt;&gt;419</a> <a href="../test/read.cgi/os/1076216434/420" target="_blank">&gt;&gt;420</a>) さんに、<a href="../test/read.cgi/os/1076216434/422" target="_blank">&gt;&gt;422</a>さんがネットワークで、 <br> TinoさんでGUIでしょ、もう凄すぎ。 <br>  <br> ついでに<a href="../test/read.cgi/os/1076216434/435" target="_blank">&gt;&gt;435</a> さんに <a href="../test/read.cgi/os/1076216434/436" target="_blank">&gt;&gt;436</a> さんのようにOSサーバが出来たら… <br>  <br> 漏れは <a href="../test/read.cgi/os/1076216434/434" target="_blank">&gt;&gt;434</a> さんの書き込みの5番目で頑張ってみまつ。 <br>  <>
Be名無しさん<>sage<>04/02/28 14:32<> VFSの実装はいつごろ？ <>
Be名無しさん<>sage<>04/02/28 14:42<> <a href="../test/read.cgi/os/1076216434/463" target="_blank">&gt;&gt;463</a> <br> &gt;MONのAで16KBくらいのゲームを作ったりしたことあったっけ。 <br> MONのAってMONAですか？ <>
鳥取砂丘 </b>◆Dream/3P/. <b><>sage<>04/02/28 14:58<> ＞MONのAってMONAですか？ <br> 何もかもがみな懐ｋ（ｒｙ <>
鳥取砂丘 </b>◆Dream/3P/. <b><>sage<>04/02/28 15:13<> <a href="../test/read.cgi/os/1076216434/461" target="_blank">&gt;&gt;461</a> <br> MonaPekoeへの伏線(￣ー￣)ﾆﾔｿ <>
某スレ253<>sage<>04/02/28 15:41<> <a href="../test/read.cgi/os/1076216434/468" target="_blank">&gt;&gt;468</a> <br> しまったー同じネタを使ってしまった！！ <br> http://pc.2ch.net/test/read.cgi/os/1075632569/253 <>
Be名無しさん<>sage<>04/02/28 15:53<> <a href="../test/read.cgi/os/1076216434/470" target="_blank">&gt;&gt;470</a> <br> ヤマト？ <>
Be名無しさん<>sage<>04/02/28 16:00<> <a href="../test/read.cgi/os/1076216434/471" target="_blank">&gt;&gt;471</a> <br> 正解 <>
Be名無しさん<>sage<>04/02/28 16:09<> <a href="../test/read.cgi/os/1076216434/470" target="_blank">&gt;&gt;470</a> <br> ネタ被ってる上に微妙に間違えるとは（藁 <br>  <br> 今の少年達は古代とか沖田とか言ってもピンと来ないんだろうな。 <>
Be名無しさん<>sage<>04/02/28 16:13<> <a href="../test/read.cgi/os/1076216434/473" target="_blank">&gt;&gt;473</a> <br> 今の世代で沖田っていえば沖田総司かな。 <br> 大河の影響なのか新撰組流行ってるっぽいし。 <br> ヤマトの歴代艦長の苗字は新撰組から取ってるだけだが。 <>
Be名無しさん<>sage<>04/02/28 16:18<> <a href="../test/read.cgi/os/1076216434/747" target="_blank">&gt;&gt;747</a> <br> なんか脇役で斎藤とか色々いたような。 <br> まあｽﾚ違いだからやめとこ。 <>
Be名無しさん<>sage<>04/02/28 16:49<> <a href="../test/read.cgi/os/1076216434/475" target="_blank">&gt;&gt;475</a> <br> あさっての方向へレスつけてんじゃねぇよヴォケ！ <br> 何が<a href="../test/read.cgi/os/1076216434/747" target="_blank">&gt;&gt;747</a>だ、<a href="../test/read.cgi/os/1076216434/474" target="_blank">&gt;&gt;474</a>だろうが！ <br>  <br> ＿|￣|○ <>
Be名無しさん<>sage<>04/02/28 17:44<> やっとはじめて読む486,MINIX本,Interface7月号が手に入った。 <br> さてどれから読もうか？ <>
Be名無しさん<>sage<>04/02/28 17:59<> Tinoさんすごいな <br> 一体何者 <>
Be名無しさん<>sage<>04/02/28 18:19<> <a href="../test/read.cgi/os/1076216434/478" target="_blank">&gt;&gt;478</a> <br> パナウェーブ研究所の会長か何かだったかと。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/28 19:24<> <a href="../test/read.cgi/os/1076216434/478" target="_blank">&gt;&gt;478</a> <br> ありがとうございます。 <br> でも私なんかまだまだです。 <br> 初めてQtを日本語化した方を見てすごいなぁと思います。 <br>  <br> <a href="../test/read.cgi/os/1076216434/479" target="_blank">&gt;&gt;479</a> <br> 違います。訓令式ではないですよ。（ｗ <>
Be名無しさん<>sage<>04/02/28 20:14<> ＞初めてQtを日本語化した方 <br> 某神様でつか? <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/28 20:34<> <a href="../test/read.cgi/os/1076216434/481" target="_blank">&gt;&gt;481</a> <br> よくご存知ですね。 <>
Be名無しさん<>sage<>04/02/28 20:47<> <a href="../test/read.cgi/os/1076216434/481" target="_blank">&gt;&gt;481</a> <br> <a href="../test/read.cgi/os/1076216434/482" target="_blank">&gt;&gt;482</a> <br> その神様興味あり。 <br> どういう人？ <br> ひげぽなり、このスレを見ている人に影響を与えるかもよ。 <>
452<>sage<>04/02/28 20:48<> 逝く前にひとつ。 <br>  <br> 98DDKにEXE2BINも付いていました。 <br> んで、.COMにすると、やはりバイナリ直書きでした。 <br> これを.BINに変えて、ブートシグネィチャ付加してbochsで起動してブートできました。 <br> ただし一番最初のジャンプ命令はどうやるか分からなかったけど、とにかく動作はしました。 <br> IPLはMASMでも書けるようです。 <br>  <br> んでは、逝きます <br>  <br>  <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/28 21:06<> <a href="../test/read.cgi/os/1076216434/483" target="_blank">&gt;&gt;483</a> <br> UNIXやJavaの達人です。 <br> でも今は本業が忙しくてあまり趣味のプログラミングは出来ないみたいですね。 <br> 私もネット上で遠巻きに見ていただけで親しいというわけではないです。 <>
Be名無しさん<>sage<>04/02/28 21:12<> <a href="../test/read.cgi/os/1076216434/485" target="_blank">&gt;&gt;485</a> <br> サンクス <br> その人の書いたソースとかある？ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/28 21:22<> <a href="../test/read.cgi/os/1076216434/486" target="_blank">&gt;&gt;486</a> <br> ありますがスレ違いですし、 <br> 個人のことを書いて良いかも気になるので、 <br> KDEの神様で調べていただけないでしょうか？ <>
Be名無しさん<>sage<>04/02/28 22:20<> KDEの神様で調べたらロマンスの神様とかが引っかかった・・・ <br> でもTinoのGUIに期待 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/28 23:22<> <a href="../test/read.cgi/os/1076216434/310" target="_blank">&gt;&gt;310</a>の <br> &gt; FD読み込みが遅い原因ぽいモノをつかみました。 <br> &gt; LBA1-10 * 20回読み込み22秒に対して <br> &gt; FD読み込みだけに専念(FDC割込み以外マスク)シングルプロセス <br> &gt; で同じ読み込みをしたら5秒でした。 <br>  <br> 上記現象ですが。 <br> スケジューラを改良して(全書換して)、実験してみました。 <br> FDCからの割り込みを待つときは <br> FDCDriver::waitInterrupt()を呼び出してCPUを他のスレッドに譲ります。 <br>  <br> そして割込みがくるとScheduler::wakeup()でただちに <br> 実行可能かつ優先度が高くなります。 <br>  <br> 計測の結果 LBA1-10 * 20回読み込み5秒でした！！ <br>  <br> ただしスケジューラーが安定せず以下の課題があります。 <br>  <br> ・VMWAREでうごかない <br> ・汎用メッセージ到着によるwakupとの共存ができない(バグ) <br>  <br> 思えばプロセス・スレッド周りの再実装(書換え)は５回目くらいですが <br> デバッグが大変です。実機ONLYだったらもっと大変だろうなぁ。 <>
Be名無しさん<>sage<>04/02/29 00:57<> NICドライバを作っている2人の人たちはどうなったんだろう。 <br> ソースを見せろとは言わないがどんな感じか <br> ここに書いてもらえると盛り上がると思う。 <br>  <br> 隠れた達人が多いのでアドバイスがもらえるかもしれない。 <br> 挫折しそうならソース公開して誰かに引き継ぐというのも面白いかも。 <>
Be名無しさん<>sage<>04/02/29 01:00<> bochsで動くようになったの？ <br> ってか最新のbochsって、どこからダウンロードするの？ <br> まさか自分でコンパイルすれと言うこと？ <br> どちみちどこからダウンロードするのか教えていただきたいく存じます。 <br> 一応cygwinはあるから、自分でコンパイルでもいいですわ <>
Be名無しさん<>sage<>04/02/29 01:07<> すいません、2.1.1ありました。 <br> 動きました。逝ってくる <>
Be名無しさん<>sage<>04/02/29 01:24<> あのフロッピーイメージにMONAGUI.ELFを追加したいのですが、どうやるのでしょうか？ <br> DiskExplorerではできませんでした。 <br> 激しくGUIを試したいので、お寝がいします。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/29 02:11<> <a href="../test/read.cgi/os/1076216434/488" target="_blank">&gt;&gt;488</a> <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/493" target="_blank">&gt;&gt;493</a> <br> 私はひげぽんさんのfat_writeを使っていますが、 <br> 上書きできないようなので毎回ディスクイメージを作っています。 <br>  <br> やり方 <br> 1. Mona WikiのMona/アプリ登録所でMonaSDKをダウンロード <br> 2. 展開する <br> 3. 中にあるbinディレクトリにMONAGUI.ELFをコピー <br> 4. cygwinでbinディレクトリに入ってmake <br> 5. mona.imgというファイルが出来るので完成 <br>  <br> make時にはbinディレクトリにある.ELFファイルをすべて追加するので、 <br> 他のアプリや自作アプリなどを含んだイメージを作るのにも使えます。 <br>  <br> 他の方法としては、時間がかかるのであまりお勧めしませんが、 <br> Mona-0.1.5リリースのフロッピーイメージを本物のフロッピーに書き込んで、 <br> フロッピーのAPPディレクトリにMONAGUI.ELFをコピーして、 <br> フロッピーからイメージを作成するという方法もないわけではありません。 <br> 私はイメージの入出力にはrawwriteを使っています。 <br> http://uranus.it.swin.edu.au/~jn/linux/rawwrite.htm <>
Be名無しさん<>sage<>04/02/29 02:31<> <a href="../test/read.cgi/os/1076216434/493" target="_blank">&gt;&gt;493</a> <br> あと念のため補足しておきますが、 <br> MonaGUIはまだウィンドウを表示するだけの代物で、 <br> スクリーンショット以上の動作はしませんから、 <br> GUIとして遊ぶというイメージだとがっかりされると思います。 <br>  <br> もちろん私自身、Monaで遊んでみたいというのが <br> こうしたものを作っている動機ですので、 <br> ご期待に沿えるように頑張りたいと思います。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/29 02:33<> 名乗り忘れましたが<a href="../test/read.cgi/os/1076216434/495" target="_blank">&gt;&gt;495</a>は私です。 <br> ついでなので私がアプリを開発するときに使っている方法を書いておきます。 <br>  <br> MonaGUI-20040226のMakefileに書いてありますが、 <br> ELFファイルのリンク処理の後にSDKのbinディレクトリにコピーして、 <br> binディレクトリでmakeさせる処理を付け足しています。 <br> そうするとアプリのコンパイル後に自動的にイメージが更新されます。 <br>  <br> 最近Eclipseを使い出したのですが、 <br> EclipseではC++を使っているときはMakefileをmakeするだけなので、 <br> キーボードショートカット（デフォルトのCTRL+Bを慣れたF5に変更しています）を押すと <br> フロッピーイメージが自動的に作られるようにしています。 <br> Virtual PCやbochsではそのイメージを参照するようにしておくと、 <br> コンパイル後にそれらを起動させることで動作確認が出来ます。 <br> VS.NET 2003でPocket PCアプリを作るのを真似してみました。 <br>  <br> 問題点としては、コンパイル時にエミュを動かしておくと <br> イメージ作成のときに書き込みエラーになってしまうので、 <br> コンパイル時にはエミュを落とさないといけない点です。 <br> エミュ側でフロッピーのマウントを解除するという方法もありますが、 <br> MonaのFDドライバが挿抜をうまく認識しないことがあるようなので、 <br> 念のためエミュを切っておいてコンパイル完了後に起動させています。 <br>  <br> その場合、MonaにAUTOEXEC.BATみたいなのがあれば便利だと思いました。 <br> シェルサーバを改造すればすぐ出来るかもしれませんが……。 <>
Be名無しさん<>sage<>04/02/29 02:50<> ＞tino様 <br> あらら、こんなに詳しくすみませんでした。 <br> アプリを簡単に追加するユーティリティがないということですね。 <br> 激しく作りたいが、スキルが激しくないし、FAT12のフォーマットもどう探しても見つからないし・・・。 <br>  <br>  <br> ちなみに私は、フロッピーにイメージを書いて、MONAGUI.ELFを追加して <br> 再度イメージを吸い取ってやりました。無事にbochsで動作いたしました。 <br>  <br> 本格的にGUIが動作するようになれば、面白くなりそうですね。 <br> 正直どうやっているのだろうという疑問がありますが、 <br> ソース読んでも私のレベルではどうにもならないと思いました。 <br>  <br> ではでは、時間をとらせて申し訳ありませんでした。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/02/29 03:20<> <a href="../test/read.cgi/os/1076216434/497" target="_blank">&gt;&gt;497</a> <br> つい先ほどGakuさんがアプリ登録所に書き込まれた情報によると、 <br> まさにそのものの情報とイメージ操作ツールを作っておられるそうです。 <br> 詳しいことはアプリ登録所の一番下（FATFS.ELFのスクリーンショットの下）をどうぞ。 <br> 私も知らなかったのですが、素晴らしいですね。 <>
Be名無しさん<>sage<>04/02/29 09:46<> EDITDISK(DiskExplorer)で、できなかったっけ？ <br> MonaGUIは、特別なのかな？ <br> それとも、ベースのイメージが変わった？ <>
499<>sage<>04/02/29 09:52<> <a href="../test/read.cgi/os/1076216434/497" target="_blank">&gt;&gt;497</a> <br> 手元にきちんと動く古いソースがあったから試したけど、 <br> EDITDISKで、問題なくMonaGUIをイメージに書き込んでBochsで起動できましたよ。 <>
Be名無しさん<>sage<>04/02/29 13:48<> <a href="../test/read.cgi/os/1076216434/500" target="_blank">&gt;&gt;500</a> <br> EDITDISKで開くとき、どれを選べば良いのでしょうか？ <br> 色々試してみたのですが、全部エラーが出て終わってしまいます。 <br> EDITDISKのヴァージョンの問題でしょうか。 <>
Be名無しさん<>sage<>04/02/29 13:50<> <a href="../test/read.cgi/os/1076216434/501" target="_blank">&gt;&gt;501</a> <br> 開くイメージファイル指定してplain imageで良い筈……。 <>
Be名無しさん<>sage<>04/02/29 13:58<> <a href="../test/read.cgi/os/1076216434/502" target="_blank">&gt;&gt;502</a> <br> すみません。できました。 <br> バージョンを最新のしたら逝けました・・・ごめんなさい。 <br> Vectorにヤラレタ・・・鬱 <>
Be名無しさん<>sage<>04/02/29 14:43<> <a href="../test/read.cgi/os/1076216434/503" target="_blank">&gt;&gt;503</a> <br> 一応おめでとー。 <br> Vectorめ、ｵﾝﾄﾞｩﾙﾙﾗｷﾞｯﾀﾝﾃﾞｨｽｶｰ！ <>
Be名無しさん<>sage<>04/02/29 14:44<> <a href="../test/read.cgi/os/1076216434/504" target="_blank">&gt;&gt;504</a> <br> そこまで言うほどでもない <>
Be名無しさん<>sage<>04/02/29 15:15<> 「ｵﾝﾄﾞｩﾙﾙﾗｷﾞｯﾀﾝﾃﾞｨｽｶｰ」って、ずっとクトゥルー神話辺りのネタと思ってた。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/29 18:20<> bochsで動作したようで、よかったです。 <br> Tinoさんフォローありがとうございました！！ <br>  <br> スケジューラの改良によりFDCDriverの割込み対応が <br> Vmwareでも動作するようになりました。 <br>  <br> 覚書として原因をかいておきます。 <br> 1.FDCにreadコマンド発行 <br> 2.read完了の割込みを待つために割り込みが来るまでCPUを他のスレッドに明け渡す <br> 3.FDCからの割込み到着をトリガーとしてスレッドを起こす。 <br>  <br> 上記のような流れになるのですがVmwareは高速なため1と2の間に割り込みが <br> 来てしまいスレッドが２度と起き上がらないということになっていました。 <>
364<>sage<>04/02/29 23:22<> <a href="../test/read.cgi/os/1076216434/427" target="_blank">&gt;&gt;427</a> <a href="../test/read.cgi/os/1076216434/490" target="_blank">&gt;&gt;490</a> <br> NICドライバ（まで今しばらくのもの）作成中のものでつ <br> といっても、 <br> 最初にご用意してるのはユーザランドからNIC叩いて <br> プロミスキャスモードに設定して流れてくるデータを標準出力にダンプ <br> っていう感じのコマンドを作成中です。 <br> 予定より実装が遅くなってしまってます。 <br> （1日時間がとればできるつもりができてません。現在10%〜20%ぐらい？ <br> ネットワーク対応とはこれができてもまだまだ言えない状態だと思いますが <br> まずはNICがMONAから叩ける準備ということで、暇をみつけてがんがります。 <br> まだOSのAPI関連までは到達していませんので、OSサイドからの補助が必要になったら <br> おながいします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/409" target="_blank">&gt;&gt;409</a> <br> パフォーマンスを考えない場合はNICの処理はそんなにシビアではありません。 <br> というのもTCPスタックやUDPを使うアプリケーション側に再送処理が仕込んで <br> あるからです。 <br> 取りこぼした場合もそれなりに動いてくれるはずで、特にBochs等フリーのPC等 <br> ハードをエミュレーションするエミュレータを使ってみるとわかります。 <br> のちのちチューニングしていけばすむことで、まずはNICのチップをどう叩くのか？ <br> っていうこととアプリケーションから見たインターフェイスが重要だと思われます。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/29 23:23<> 土日に片付けようと思っていたスケジューラのﾊﾞｸﾞがどうしても <br> 分からず、持ち越しになりました。 <br> Monaは起動するのですがENTERを押しっぱなしにしたりするとfault0dが <br> 起こるというものです。 <br> どこで発生しているのかがつかみきれず挫折気味。 <br> ２，３日かけてうまくいかないようであればしばらく違う作業したほうが <br> よいかも。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/02/29 23:44<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> &gt; まずはNICがMONAから叩ける準備ということで、暇をみつけてがんがります。 <br> &gt; まだOSのAPI関連までは到達していませんので、OSサイドからの補助が必要になったら <br> &gt; おながいします。 <br>  <br> 出来るだけすぐに対応させていただきます。 <br> ただ力量がないので即対応が出来ないかもしれないので <br> こんな機能が必要になるかもしれないと予想がついていれば是非教えてください。 <br>  <br> &gt; のちのちチューニングしていけばすむことで、まずはNICのチップをどう叩くのか？ <br> &gt; っていうこととアプリケーションから見たインターフェイスが重要だと思われます。 <br>  <br> なるほど。少し安心しました。＞パフォーマンス。 <br> すこしはその辺勉強しないといけませんね。＞インターフェース <br> 何か入門書でも読んでみよう。 <br>  <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/01 00:30<> むこうの方でNIC書こうと思ってる香具師でつ。 <br> 一応、トラ技2001年1月号にNE2000の石の叩き方が詳しく乗っているので <br> もし手に入るのでしたら参考までに。 <br>  <br> ただ、100BASE-T主流なんで現在NE2000って現役なんかな？ <br> ネットワーク知識はどうも3年前で止まってるので… <>
364<>sage<>04/03/01 00:38<> <a href="../test/read.cgi/os/1076216434/510" target="_blank">&gt;&gt;510</a> ひげぽんさん <br>  <br> &gt;出来るだけすぐに対応させていただきます。 <br> &gt;ただ力量がないので即対応が出来ないかもしれないので <br> &gt;こんな機能が必要になるかもしれないと予想がついていれば是非教えてください。 <br>  <br> ハードウェア叩くプログラムは作ってますが、NICのドライバや <br> プロトコルスタックは初めて実装します。 <br> あと、実は恥ずかしながらまだ、MONAについてキチンと（使うところ以外） <br> 読んでませんので何が必要で、何が足りないか？ <br> という点では私もまだわかりません。 <br> その上で、とりあえず、ユーザランドからのIOと割り込みの通知があれば <br> とりあえず動くものができると思い、 <br> &gt;364 <br> の書き込みになった次第です。 <br> 今後ともよろしくお願いします。 <br>  <>
鳥取砂丘 </b>◆Dream/3P/. <b><>sage<>04/03/01 00:43<> 　　＿  <br> 　 /〜ヽ  <br> 　(｡･-･)　｡oO( <a href="../test/read.cgi/os/1076216434/511" target="_blank">&gt;&gt;511</a> 「むこう」じゃこっちの人には通じないような・・・ <br> 　ﾟし-Ｊﾟ  <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/01 00:51<> 　 /〜ヽ <br> 　(｡･-･)　｡oO( ウチ新参者やからよーわからんもーん。とりあえずNICｶﾞｿﾊﾞﾙ <br> 　ﾟし-Ｊﾟ <>
364<>sage<>04/03/01 00:53<> <a href="../test/read.cgi/os/1076216434/511" target="_blank">&gt;&gt;511</a>  <br>  ◆CFYAAAAAds さん <br> ありがとうございます。2001年1月号ですね。 <br> 1999年7月号以外マークしてませんでした。 <br> 他のOSのソースを見ようにも綺麗に書いてありそうなものに限って <br> GPLが多いですね。（RTEMSとかEthernutとか） <br> 見ちゃいけないってことは無いのでしょうけれど、 <br> あまりに影響されるのも良くないかなと。 <br> （初期化部分は大差が無いはずですが… <br>  <br> NE2000は現役とはいえません。 <br> 構造的にCPUパワーを食うところが嫌われているのでしょう。 <br> ただ、BochsがNE2000互換なのでNE2000互換という側面と、 <br> もともと私が作ろうと思っていたものがNE2000で十分だったという側面が <br> あります。 <br> 現在、NE2000互換のハードウェアの入手性は地方では（私は福岡ですが） <br> 控えめに表現しても、あまり良くありません。 <br> まだNE2000互換もとれてないので、なんともいえませんが、MONAを実機で <br> ネットワーク対応する算段も別途考えてはいます。 <br> ちょっと前のものですが、 <br> ttp://www.bi.a.u-tokyo.ac.jp/~uaa/gomitext/2001/20010807.html <br> この方の文書が参考になるかもしれません。 <br> IntelとRTL8139、Prismシリーズで市場の何割かカバーできそうな気もします。 <br>  <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/01 01:18<> なるほど、やっぱしNE2000は過去のものなんですね。 <br> 2001年1月号あたりまでそっち系の仕事をしてたんですが、最近さっぱりな状態なので… <br> 私も勉強してみます。（本業が忙しくて時間裂けないかもしれないけど…） <br>  <br> 99年7月号の記事内容からして2001年1月号は焼き直し＋αって感じみたいですね。 <br> とりあえず「第3章ＥthernetインターフェースＬＳＩの概要」と「第4章ＲＬＴ8019ＡＳの概要と使い方」 <br> があるので、石のアクセス手順とかレジスタの説明とかは役に立つかと思います。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/01 23:11<> <a href="../test/read.cgi/os/1076216434/511" target="_blank">&gt;&gt;511</a>さん <br> &gt; 一応、トラ技2001年1月号にNE2000の石の叩き方が詳しく乗っているので <br> &gt; もし手に入るのでしたら参考までに。 <br>  <br> ありがとうございます。大変助かります。 <br> 大きな書店で探してみます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/512" target="_blank">&gt;&gt;512</a>さん <br> &gt; その上で、とりあえず、ユーザランドからのIOと割り込みの通知があれば <br> &gt; とりあえず動くものができると思い、 <br>  <br> なるほど了解いたしました。 <br> こちらこそよろしくお願いいたします。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/01 23:19<> 今回のバグはなかなか手ごわいです。 <br> 今日の成果は <br>  <br> ・ﾊﾞｸﾞがVirtual PCでほぼ100%再現することを発見 <br> ・fault0d(↑のバグ)が発生しないようにするには <br> 　　syscalls.cppの431行目あたり <br>        bool isProcessChange = g_scheduler-&gt;schedule3(); <br>        ⇒bool isProcessChange = true; <br> 　　とすると回避できることを発見。 <br>  <br> 　　ただし！！何故これで回避できるかがさっぱり分からないという状態です。。。 <br>  <br> 　　処理としては該当部の手前でwaitでThreadをrunq-&gt;waitqへと移動 <br> 　　schedule3()再スケジュール(Schedule3は非常に単純にしてあります。) <br> 　　ThreadOperation::switchThread()でスレッド切り替え。 <br>  <br> とやっているだけです。 <br> いろいろと疑っているのですがいまだ解決せず。 <br> どうも進捗率が悪くなってきました。 <br>  <br> デバッグのためにダンプ表示もいろいろとしているのですが <br> もう一息?といった感じです。 <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?plugin=attach&pcmd=open&file=schedulerfault0d.png&refer=%B5%C4%CF%C0%2F%A5%C7%A5%D0%A5%C3%A5%B0 <br>  <>
Be名無しさん<>sage<>04/03/01 23:22<> NE2000の叩き方なら、RTL8019ASでぐぐるといっぱい引っかかると思われ。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/02 00:44<> <a href="../test/read.cgi/os/1076216434/518" target="_blank">&gt;&gt;518</a> <br> タイマ割り込みが途中から来なくなっていることが発覚。。 <br> どうして気づかなかったんだ＞自分 <br>  <br> 処理そのものは実行されていたので(タスクの実行・切り替え)タイマ割り込みが <br> きていないとは・・・ <br>  <br> どこかでeflagsが壊れているのだろう・・・ <br> いやFD読み込みは出来ているのでマスクが壊れた?? <br>  <br> ただいま大混乱中。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/02 00:51<> マスクいじってた・・・ <br> 今日の作業が無駄になったかもしれないという驚愕の事実。 <br> ショックが大きい。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/02 00:58<> 結局分かったことは。 <br>  <br> ・タイマ割り込みが来ていなかったことと↑のバグは関係ない。 <br> ・タイマ割り込みが来てもこなくてもwait/wakeup処理によってfault0dが発生する。 <>
Be名無しさん<>sage<>04/03/02 00:58<> <a href="../test/read.cgi/os/1076216434/521" target="_blank">&gt;&gt;521</a> <br> まぁ、そんな日もあるさ <>
364<>sage<>04/03/02 03:32<> 予定より遅くなってますが一応現状の報告をします。 <br> MONAのユーザランドからIO直に叩いて自分の（.bochsrcにて記述した） <br> MACアドレスを読み出して表示はできています。 <br> 実際のパケット送受信にはもうちょっと時間がかかりそうです。 <br>  <br> 私が詰まった、RTL8019とBochsのNICの違いは <br> RTL8019のデータシートとBochsのne2k.ccとを見比べるとわかりますが、 <br> CONFIG1〜CONFIG4というMACアドレスが入るレジスタがBochsには無いことです。 <br> 気にせず、起動直後のNICのバッファを頭から読み出せばMACアドレスが入っています。 <br>  <br> 懸案事項 <br> ○実機だとタイミングの問題があるかもしれません。（未検証です。） <br> ○初期化もずいぶんサボっています。（実機だとNICにBIOSがあればそっちで面倒みてくれるかな？） <br>  <>
Be名無しさん<>sage<>04/03/02 13:08<> <a href="../test/read.cgi/os/1076216434/524" target="_blank">&gt;&gt;524</a> <br> ne2kのNICにBIOSなんて期待しちゃいけません。 <br> NetworkBoot(not PXE)のROMが載ってることもあるが、 <br> そこから起動しない限り、初期化なんてやってくれません。 <br>  <>
Be名無しさん<>sage<>04/03/02 17:16<> <a href="../test/read.cgi/os/1076216434/524" target="_blank">&gt;&gt;524</a> <br> データシートならこっちだ。 <br> ttp://www.national.com/ds/DP/DP8390D.pdf <br> RTL8019ASのは余計なことばっかり書いてあるので、あんまりよろしくないです。 <br> ちなみにCONFIG1〜4は蟹の拡張機能なので、Bochsの実装が正解。 <br>  <>
364<>sage<>04/03/02 19:56<> <a href="../test/read.cgi/os/1076216434/525-526" target="_blank">&gt;&gt;525-526</a>  <br>  情報サンクスでつ。助かりました。  <br>  Bochsの方がNE2000との互換性では上だとは思ってましたが、  <br>  手元に石があったりしたため  <br>  ついRTL8019のデータシートを見てしまいました。  <br>    <br>  今、DP8390のデータシートを印刷しようと思って  <br>  会社帰りにネットカフェです。しかし出力代がちょっと高いですね。  <br>  今日はUSBメモリを買って帰ってkinkosで出力してみます。  <br>  このデータシートはパッとみてみていい感じですね。  <br>  ちょっと予定より遅くなりますが、ある程度読んでみたいですね。  <br>  （土日一回はさめばなんとかなるという予定の立て方が無謀だったのかも。 <>
Be名無しさん<>sage<>04/03/02 20:14<> <a href="../test/read.cgi/os/1076216434/527" target="_blank">&gt;&gt;527</a> <br> 会社でダウソして印刷してしまえばタダじゃん <>
Be名無しさん<>sage<>04/03/02 20:40<> そういえば会社での私的な用途へのインターネット使用率が7*%だったっけな <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/02 22:30<> <a href="../test/read.cgi/os/1076216434/523" target="_blank">&gt;&gt;523</a>さん <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> &gt; 予定より遅くなってますが一応現状の報告をします。 <br> &gt; MONAのユーザランドからIO直に叩いて自分の（.bochsrcにて記述した） <br> &gt; MACアドレスを読み出して表示はできています。 <br> &gt; 実際のパケット送受信にはもうちょっと時間がかかりそうです。 <br>  <br> ご報告ありがとうございます。 <br> すばらしいです！！！ <br> MACアドレス取得だけでも大きな一歩です。 <br>  <br> 私のほうは、今日もスケジューラのバグがつぶせませんでした。 <br> あまりに長期戦になるとへこたれるので明日からしばらく違うことに <br> 挑戦しようと思います。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/02 23:30<> といっているそばから。 <br> 現在のバグスケジューラ版にcvs tagでタグを付けておいて <br> 今のスケジューラ周りのコードを全部捨ててもう一度書き直してみます。 <br>  <br> 書き直す過程で何か発覚すれば戻るもよし新実装でいくもよし <br> という方針で行きます。 <br>  <br> それでも直らなかったら0.1.5にロールバックです。 <>
Be名無しさん<>sage<>04/03/03 00:05<> <a href="../test/read.cgi/os/1076216434/531" target="_blank">&gt;&gt;531</a> <br> 一度、やろうとしてることを整理してみてはどうだろうか。 <br> 　0.1.5からどういう変更をしたいのか。 <br> 　そのために必要なものは何か。 <br> などなど。 <br>  <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/03 02:12<> 漏れも明日データシート会社で印刷してきまつ。 <br> トラ技みるからにはpage1:01h〜06hらしいけど <br> RSAR0,RSAR1に00h〜1fh指定しろと書いてありますた。 <br>  <br> NICで遊びたいのに仕事年末進行が… <br> bochsとかは週末… <>
Be名無しさん<><>04/03/03 20:38<> やっぱりOSを作成するのに適しているのはGCCのみかい？ <br> 例えばVC++とかだったらどうなるんだろうかと。 <br> まぁddコマンドなど、かなり便利なものがはじめからついているUNIX、LINUXのほうがええか。 <br>  <>
Be名無しさん<>sage<>04/03/03 22:35<> 別にVC++でも変わらんかと。 <br> gccだといざという時にソース読めるというのはあるけど。 <br> ddはOSを選ぶ理由になる程の差じゃないな。 <>
Be名無しさん<>sage<>04/03/03 23:17<> <a href="../test/read.cgi/os/1076216434/535" target="_blank">&gt;&gt;535</a> <br> そうですか。 <br> 天球べりマッチ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/04 00:39<> <a href="../test/read.cgi/os/1076216434/532" target="_blank">&gt;&gt;532</a>さん <br> アドバイスありがとうございます。 <br> ver.0.1.5で一番の不満点はFDの読み込みの遅さでした。 <br> 調査したところFDCからの割り込みに即応答して次のreadコマンドを <br> 発行をしてないことが原因と分かりました。 <br>  <br> スケジューラの問題であることが発覚したので実装が汚かったのもあって <br> 上記を解消するためにスケジューラを全部書き換えることにしました。 <br>  <br> またスケジューラを書き換える際に、プロセス・スレッドの生成の <br> 仕組みもリライトしなければいけませんでした。 <br> (前のスケジューラに依存している部分があったので) <>
364<>sage<>04/03/04 00:41<> <a href="../test/read.cgi/os/1076216434/530" target="_blank">&gt;&gt;530</a>　ひげぽんさん <br> ありがとうございます。 <br> 乙でつ <br> ひげぽんさんのネットワーク対応したいという発言が無かったら <br> （今でもはやくはありませんが）もっとゆっくり実装していたと思います。 <br> ここ2日ぐらいいじれてないところですけれど、 <br> ひげぽんさんみたいに継続していけるといいでつ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/528" target="_blank">&gt;&gt;528</a> さん　529さん <br> 私の会社はプライベートの印刷をするには厳しいところです。 <br> 技術ってことで入った職場ですが、上流工程主体（開発はやってない）ので <br> データシート見てたりするだけでも仕事と関係ないことはバレバレですし。 <br>  <br> <a href="../test/read.cgi/os/1076216434/533" target="_blank">&gt;&gt;533</a> <br> 仕事との両立って言うほどのことじゃないかもしれないですけれど、 <br> 時間とるの難しいですね。乙でつ <br> 私も今日いきなり、来週いっぱいの出張を入れられてしまいました。 <br> お互い、無理せぬ程度に進めていきましょう。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/04 00:45<> スケジューラの実装では優先度つきかつ２つ以上のrun queueをもつ <br> ものを欲張って実装しましたが、起動中やShellなどでfault0d, invalid op code <br> などの例外が出るようになってしまいました。 <br>  <br> 問題を単純化して不具合箇所を見つけるために、本日 <br> １つのrun queueと、１つのwait queueをもつ単純なら <br> ラウンドロビンのスケジューラーに書き直しました。 <br>  <br> その結果多少安定しましたが、invalid op codeや <br> 0.1.5までは安定して動いていたShellやアプリがメモリアクセス違反を <br> 相変わらず起こっている状態です。 <br> たとえば起動後Shellでenterキーを押しっぱなしにしていると <br> アクセス違反や例外が発生します。 <br> ver.0.1.5では起こるのはみたことありませんでした。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/04 00:51<> 今疑っているのは <br> ・システムコールのネスト <br>    プロセスロードシステムコール⇒FDC割込み待ちシステムコールによりスタックがずれてinvalid opコード? <br>  <br> くらいです。 <br>  <br> ある程度エラーは再現するのですがエラー箇所がまちまちだったり <br> タイマ割込み・FDC割込み・システムコールと処理が切れてしまうので <br> どうも追いきれていない状況です。 <br>  <br> なるべく早く解決しないと、364さんのがんばりやTinoさんのGUIに <br> 遅れをとってしまいます。 <br>  <br> 人が見れば明らかだけど過信してものすごいミスをしているんだろうなぁ＞自分 <>
364<>sage<>04/03/04 00:54<> <a href="../test/read.cgi/os/1076216434/533" target="_blank">&gt;&gt;533</a> ◆CFYAAAAAdsさん <br> 情報サンクスでつ。 <br> トラ技、当時は読んでましたが、今は手元に無いので、データシートやら <br> 他の人のソースや、Bochsのソースを頼りに進めてきました。 <br> 現状ではMACアドレスの後にはNE2kを表す0x57が読み出されてます。 <br>  <br> 現状報告の補足ですが、 <br> あと、NE2K側のメモリを読めてるということは、 <br> もうちょい適切なパラメータ書き込んであげれば <br> （MACと同じメモリに入るので） <br> Etherフレームを受信できるということですね。 <br>  <br> 今日USBメモリ買ったので明晩以降データシートを読んでみます。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/04 00:56<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> お疲れ様です。 <br>  <br> &gt; ひげぽんさんのネットワーク対応したいという発言が無かったら <br> &gt;（今でもはやくはありませんが）もっとゆっくり実装していたと思います。 <br>  <br> もしいい形できっかけになれたならそれはうれしいです。 <br>  <br> あの発言は、自分の作ったOSからIRCとか2chへの書き込みとかが <br> 出来たらなあと。という気持ちからのでたものです。 <br> もし出来たら感動して泣いてしまうかも（笑） <br>  <br> &gt; ここ2日ぐらいいじれてないところですけれど、 <br> &gt; ひげぽんさんみたいに継続していけるといいでつ。 <br>  <br> スケジューラにまいりすぎてちょっと継続の危機ですが <br> 364さんのようにMonaに興味を持っていじってくれている人たちがいる <br> というのがやる気の源になっています。 <>
Be名無しさん<>sage<>04/03/04 01:25<> &gt;&gt;ひげ <br> ソースとか全く見てないから、適当かもしれんが、 <br> ポインタ関係でミスってる予感・・・。 <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/04 01:34<> うひゃー、かなり仕事テンパり気味ー。 <br>  <br> データシート印刷したのに会社に忘れてきちゃった… <br> 2ページ印刷すると製本できる感じで折れるのでいい感じのpdf。 <br>  <br> <a href="../test/read.cgi/os/1076216434/538" target="_blank">&gt;&gt;538</a> <br> 仕事しつつＯＳも触るってことは、やっぱしＯＳいじったりやプログラムが好きなんだなーって感じですよね。 <br> 漏れも最近仕事ばっかりだったので、つい最近ここを見つけて昔の創作意欲が湧いてきたという感じ。 <br> でも仕事には勝てませぬ…。 <br>  <br> <a href="../test/read.cgi/os/1076216434/541" target="_blank">&gt;&gt;541</a> <br> EtherFrame読めるところまで行くと次はIPとTCPでつまずきそうな感じがする… <br> いまだに漏れはIP,TCPパケットの中身でわからない部分があったりしまつ。 <br>  <br>  <br> とりあえず漏れは時間とってｴﾐｭ環境そろえるところから…（氏 <>
Be名無しさん<>sage<>04/03/04 21:56<> <a href="../test/read.cgi/os/1076216434/537" target="_blank">&gt;&gt;537</a> <br> FDCからの割り込みに即応答して次のreadコマンドを発行するのは、誰？ <br> 　ユーザプロセス(OSサーバ含む)ならば、優先度と再スケジューリングの問題ではないでしょうか。 <br> 　カーネルならば、割り込み処理の問題だと思います。 <br>  <br>  <>
Be名無しさん<>sage<>04/03/04 22:16<> <a href="../test/read.cgi/os/1076216434/539" target="_blank">&gt;&gt;539</a> <br> queueを単純化するよりも、各処理の機能と手順を明確化するほうが先じゃないでしょうか？ <br> ソース読む時間がなくて明確なアドバイスはできませんが、 <br> たとえば、 <br> 　FDC割り込み→レジスタ退避→割り込み処理→現行プロセスをキューにつなぐ→次プロセスをキューから取り出す→次プロセス <br> の流れだとして、各部分の機能がはっきりしていれば、矢印部分でのシステムパラメータやスタック内部が <br> どうなっていないといけないかが予測できるはずです。あとは、予測したものと実際のものを単純にチェックするだけ。 <br> 仕様バグには通用しませんけどね。 <>
Be名無しさん<>sage<>04/03/05 00:10<> bochsのGDBスタブを使ってみてはどうでしょうか。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/05 01:07<> <a href="../test/read.cgi/os/1076216434/543" target="_blank">&gt;&gt;543</a>さん <br> よくポインタミスしますｗ <br> <a href="../test/read.cgi/os/1076216434/545" target="_blank">&gt;&gt;545</a>さん <br> &gt; FDCからの割り込みに即応答して次のreadコマンドを発行するのは、誰？ <br>  <br> FDCDriverの機能をシステムコールを介して利用しているプロセスです。 <br>  <br> &gt; ユーザプロセス(OSサーバ含む)ならば、優先度と再スケジューリングの問題ではないでしょうか。 <br> &gt; カーネルならば、割り込み処理の問題だと思います。 <br>  <br> どうも動作を確認していると。もっとプリミティブなところで <br> エラーが起きているような印象を受けます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/546" target="_blank">&gt;&gt;546</a>さん <br> &gt; queueを単純化するよりも、各処理の機能と手順を明確化するほうが先じゃないでしょうか？ <br> はいおっしゃるとおりだと思います。 <br> 各処理の明確化をするのが手間なほど実装を進めてしまったので <br> queueを単純化することで逃げています。 <br>  <br> 処理の明確化は今日進めていましたが基本の流れが <br> 以前のバージョンのMonaとあまりかわらないので各実装部分で <br> 何かやらかしているのかもしれません。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/05 01:14<> &gt; 各部分の機能がはっきりしていれば、矢印部分でのシステムパラメータやスタック内部が <br> &gt; どうなっていないといけないかが予測できるはずです。あとは、予測したものと実際のものを単純にチェックするだけ。 <br>  <br> これもおっしゃる通りで実践しようとしているのですが <br> エラーがでる箇所が起動するたびに全く異なるプロセス・eipだったり <br> エラーがでないで普通にアプリが起動する場合があるので <br> 実際のエラーが出る直前の各パラメータが捕まえにくくなっています。 <br>  <br> <a href="../test/read.cgi/os/1076216434/547" target="_blank">&gt;&gt;547</a>さん <br> &gt; bochsのGDBスタブを使ってみてはどうでしょうか。 <br>  <br> 実は現在のエラーはbochs, Vmwareではまったく出ず <br> Virtual PC、実機で再現しております。 <br> bochsで再現すればかなり有益な情報がえられるのですが・・・ <br>  <br> 皆様貴重なアドバイスありがとうございました。 <>
Be名無しさん<>sage<>04/03/05 20:38<> <a href="../test/read.cgi/os/1076216434/549" target="_blank">&gt;&gt;549</a> <br> 今のアプローチは、バグの発見と修正という形だと思うんですが、 <br> きちんと動く部分を増やしていくアプローチはどうでしょうか？ <br>  <>
Be名無しさん<>sage<>04/03/05 21:19<> <a href="../test/read.cgi/os/1076216434/550" target="_blank">&gt;&gt;550</a> <br> スケジューラはプリエンティブなマルチタスクOSの根幹の部分だから、 <br> 後回しにすると更に大変なことになるのでは？ <>
Be名無しさん<>sage<>04/03/05 21:49<> <a href="../test/read.cgi/os/1076216434/551" target="_blank">&gt;&gt;551</a> <br> 全体的に後回しでなくて、バグの位置がつかみにくいなら、 <br> スケジューラや関連部分を細かい部品に分けて、それぞれをきちんと動くように作っていくって事です。 <br> がんがんコードを書き換えていくだけだと、バグが増えて減っての繰り返しになるんで。 <br>  <>
Be名無しさん<>sage<>04/03/05 23:38<> <a href="../test/read.cgi/os/1076216434/550" target="_blank">&gt;&gt;550</a> <br> Unit Testですね。 <br> 以前話題に出ていたYAGNIも含めてXP(eXtreme Programmingの方）を勉強してみては。 <br> Wikiにも参考図書として載っているようですし。&gt;&gt;ひげぽん <>
Be名無しさん<>sage<>04/03/06 00:42<> なんとなくタイミング依存ぽいですが、排他制御ミスってませんか？ <br> 根拠ないけど。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/06 23:17<> 不具合の一因と思われる箇所を特定できました。 <br> このバグは0.1.5から内在していたものようです。 <br>  <br> ・詳細 <br>   TSSに適切なesp0がセットされていなかった。 <br>   esp0のセットはユーザーモードスレッドへのスイッチの際に行っていました。 <br>   ⇒ユーザーモードスレッドはカーネルスレッドを必要とするため。 <br>    <br>   ところが以下の場合にesp0をセットするのを忘れていました。 <br>   カーネルスレッドA, ユーザーモードスレッドBとすると。 <br>    <br>     Aが実行中 <br>     スレッドスイッチA⇒B <br>     Bはシステムコール中でカーネルモード中(esp0をセットすべきなのにしていなかった) <br>     システムコール終了ユーザーモードへ <br>     次のシステムコールで違うスレッド用のesp0を使用して死亡 <br>      <br>    なぜ0.1.5では再現しなかったか? <br>      再スケジュールの仕組みが貧弱で上記のような切り替えが「たまたま」なかった。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/06 23:19<> <a href="../test/read.cgi/os/1076216434/553" target="_blank">&gt;&gt;553</a>さん <br> &gt; Unit Testですね。 <br> &gt; 以前話題に出ていたYAGNIも含めてXP(eXtreme Programmingの方）を勉強してみては。 <br> &gt; Wikiにも参考図書として載っているようですし。&gt;&gt;ひげぽん <br>  <br> アドバイスありがとうございます。上記おっしゃることはよく理解できます。 <br> 特にUnitテストやテストファーストのメリットは自分でも体験したことがあります。 <br>  <br> ただし今回のようなOSの根幹に関わる部分は事前テストや単体機能でのテストが <br> 不可能な場合があると認識しています。 <br>  <br> ・事前にUnitテストできる部分 <br>   スケジューラ用データ構造Nodeオブジェクトと操作関数 <br>   スケジューラ(次のスレッドの決定ロジック等) <br>    <br> ・テストできない点 <br>   スレッド生成・切り替え <br>   システムコール・割込みを含めた処理 <br>    <br> 今回のようにどうがんばってちょっとずつ動くモノを足すということができない場合 <br> ある程度の苦労がしょうがないのかなと思いました。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/06 23:19<> 今回のバグ箇所発見が遅れた反省点を次回に生かすとすれば以下の点です。 <br> ・効率的なデバッグ手法を利用する(ログ・ダンプ等) <br>  <br> ・新規に追加した機能でなく以前からある機能も疑う <br>  <br> <a href="../test/read.cgi/os/1076216434/554" target="_blank">&gt;&gt;554</a>さん <br> &gt; なんとなくタイミング依存ぽいですが、排他制御ミスってませんか？ <br> &gt; 根拠ないけど。 <br>  <br> 上記も疑いました。おかげでいろいろと処理を見直すことが出来ました。 <br>  <br> 今回の件、アドバイスを下さった皆様ソースまで見ていただいた皆様 <br> 本当にありがとうございました。 <>
Be名無しさん<>sage<>04/03/06 23:46<> <a href="../test/read.cgi/os/1076216434/556" target="_blank">&gt;&gt;556</a> <br> &gt;・テストできない点 <br> &gt;スレッド生成・切り替え <br> &gt;システムコール・割込みを含めた処理 <br> Cygwinでしか出来ないと思ってない？ <br> カーネルにテストコード書けるでしょ。 <br> VM上でUnit Testすればいいじゃん。 <>
Be名無しさん<>sage<>04/03/06 23:52<> <a href="../test/read.cgi/os/1076216434/557" target="_blank">&gt;&gt;557</a> <br> &gt;・効率的なデバッグ手法を利用する(ログ・ダンプ等) <br> そういうのは自分で見るんだろうけど、 <br> 答えを先に決めてチェックすればVM上でUnit Testできるでしょ。 <>
Be名無しさん<>sage<>04/03/07 00:07<> <a href="../test/read.cgi/os/1076216434/558" target="_blank">&gt;&gt;558</a> <br> <a href="../test/read.cgi/os/1076216434/559" target="_blank">&gt;&gt;559</a> <br> そのカーネルがうごかないから困ってるんじゃないの？ <br> スケジューラとかスレッド生成がおかしかったらカーネル動かない。 <br> ⇒カーネルでUnit Testできない <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/07 00:13<> バグが１つ解消したのでFDの読み込みをテストしました。 <br>  <br> 計測の結果 LBA1-10 * 20回読み込み5秒でした <br>  <br> また通常起動時の*.SVRの起動も体感できるほど早くなりました。 <br>  <br> 実はテストのために多重スケジューラをやめて一本のRunキューのままですが <br> しばらくはスケジューラを触りたくないので（飽きたので) <br> いずれスケジューラを変更します。 <br>  <br> ちょっと話題を変えていままでOSの動作確認をエミュレータを使ってきましたが <br> よく使うエミュレータについて、ひげぽんの個人的な経験で <br> ちょっとメリット・デメリットと使いどころを書いてみようと思います。(参考になれば幸いです。) <br>  <br> ・bochs2.1 CVS <br>  <br> &nbsp;メリット <br> &nbsp;&nbsp;・VESAがいい感じ <br> &nbsp;&nbsp;・実機だったら再起動するような間違いを起こしたときにカーネル側でダンプしなくても <br> &nbsp;&nbsp;&nbsp;レジスタの状態がわかる。EIP情報等はかなり役立つ。 <br> &nbsp;&nbsp;&nbsp; <br> &nbsp;デメリット <br> &nbsp;&nbsp;・極端に遅い <br> &nbsp;&nbsp;・最近のリリース版は勝手に再起動する?(オプションの問題かなあ。) <br> &nbsp; <br> &nbsp;使いどころ <br> &nbsp;&nbsp;・IPLなど再起動を繰り返すような場面 <br> &nbsp;&nbsp; <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/07 00:14<> ・Vmware4.05(匿名希望さん寄贈感謝) <br>  <br> &nbsp;メリット <br> &nbsp;&nbsp;・早い <br> &nbsp;&nbsp;・デバッグモードがあるらしい <br> &nbsp;&nbsp; <br> &nbsp;デメリット <br> &nbsp;&nbsp;・FDCがおかしい(受け付けないパラメータがある) <br> &nbsp;&nbsp;・特定アドレスに対するpushができない <br> &nbsp;&nbsp;・対応しているVESAの画面モードが少ない <br> &nbsp;&nbsp; <br> &nbsp;使いどころ <br> &nbsp;&nbsp;普段の動作確認 <br>  <br> ・VirtualPC 5.1(匿名希望さん寄贈感謝) <br>  <br> &nbsp;メリット <br> &nbsp;&nbsp;・早い <br> &nbsp;&nbsp; <br> &nbsp;デメリット <br> &nbsp;&nbsp;・特に不満無し <br> &nbsp;&nbsp; <br> &nbsp;使いどころ <br> &nbsp;&nbsp;普段の動作確認 <br> &nbsp;&nbsp;個人的には一番実機に近いとの印象を持っています。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/07 00:18<> 中程度の変更をカーネルに行った場合は <br> 所持している全てのエミュレータで動作確認。 <br> 大規模の変更を行った場合は+実機で動作確認しています。 <br>  <br> <a href="../test/read.cgi/os/1076216434/558" target="_blank">&gt;&gt;558</a>さん <br> <a href="../test/read.cgi/os/1076216434/559" target="_blank">&gt;&gt;559</a>さん <br> ありがとうございます。 <br> VM上でのUNITテストが出来る場合もたくさんありますが <br> 今回の場合はUNITテスト環境の土台になる部分を変更したので <br> テストは難しいと思いました。 <>
Be名無しさん<>sage<>04/03/07 00:24<> <a href="../test/read.cgi/os/1076216434/560" target="_blank">&gt;&gt;560</a> <br> カーネルが動かない＝Test失敗　と、考えるのはだめなのか？ <br> UnitTestもたくさんあるツールのうちのひとつだから、使う人しだいだね。 <>
Be名無しさん<>sage<>04/03/07 01:46<> バグ修正おめーーーー。 <br>  <br> 次回リリースの目玉はやはりGUIとネットワーク？ <>
Be名無しさん<>sage<>04/03/07 13:21<> <a href="../test/read.cgi/os/1076216434/565" target="_blank">&gt;&gt;565</a> <br> GUIのテストバージョンがWikiにアップされているよ <br> どうもまだ安定してないようだが <br> こればっかりは正式リリースを待つしかない <br>  <br> ネットワークはどうだろ。MACアドレスを取るのと実際に動かすのと <br> どれくらい大変さが違うかよくﾜｶﾗﾈ <>
Be名無しさん<>sage<>04/03/07 13:27<> MONAに移植したらおもしろそうなもの <br>  <br> ゲームエミュレータ <br> コンパイラとか開発環境 <br> vi互換のエディタとか <br> シェル <>
Be名無しさん<>sage<>04/03/07 16:22<> libcの移植?が進んでいるみたいだけど <br> サンプルアプリとかないの、そのまま使えるのかとか <br>  <>
Be名無しさん<>sage<>04/03/07 17:15<> <a href="../test/read.cgi/os/1076216434/566" target="_blank">&gt;&gt;566</a> <br> ドライバとしてはそれなりに動くレベルだが。 <br> その上が大変だからのう。 <br>  <br> ライセンスの問題が無いプロトコルスタックを探してきて <br> おいしくいただいてしまうのが一番お手軽だが。 <br>  <>
Be名無しさん<>sage<>04/03/07 18:36<> <a href="../test/read.cgi/os/1076216434/566" target="_blank">&gt;&gt;566</a> <br> &gt; どうもまだ安定してないようだが <br> お騒がせしております。 <br> 色々な要因が複合しているようです。 <br> GUI側の問題なのかMona側の問題なのか調査中です。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/07 18:37<> あ、すみません。<a href="../test/read.cgi/os/1076216434/570" target="_blank">&gt;&gt;570</a>は私です。 <>
Be名無しさん<>sage<>04/03/07 23:56<> <a href="../test/read.cgi/os/1076216434/570" target="_blank">&gt;&gt;570</a> <br> 親切にどうも。がんばってください。 <br> 実はかなり期待しています。 <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/08 01:19<> <a href="../test/read.cgi/os/1076216434/596" target="_blank">&gt;&gt;596</a> <br> 前に石でぐぐってみそって言われたときに発見してたんだが、 <br> ちゃんとL4あたりまで書いてあるんで使えそうな気はする。 <br> ttp://homepage3.nifty.com/maum/sonota1.htm <br>  <br> 「これらを利用や改造をしてもらっても一向に構いません」とかいてあるけど <br> 新OS用で利用するならきっちりメールしてもOKもらえると思う。 <br>  <br> あいかわらず仕事忙しいんで最近はここ、ROMばかりです… <br> GUIも時間とれたら見てみたいなぁ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/08 01:34<> <a href="../test/read.cgi/os/1076216434/572" target="_blank">&gt;&gt;572</a> <br> ありがとうございます。 <br> 手元にはいくつかバグを直してウインドウを動かせるものが出来ましたが、 <br> sf.jpが落ちているようなので復旧後アップしたいと思います。 <br>  <br> <a href="../test/read.cgi/os/1076216434/573" target="_blank">&gt;&gt;573</a> <br> ネットワーク周り期待しています。 <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/08 01:42<> ウチに期待するとGWになってもできるかどうか… <br> とりあえず3月に出現中のコワイトクイサキを倒すのが先決らしいです。 <br> 勇者のノートパソコンで倒せるかなー？ <br>  <br> 4月はOS周りいじり月間にしたいところ… <>
Be名無しさん<>sage<>04/03/08 02:18<> <a href="../test/read.cgi/os/1076216434/573" target="_blank">&gt;&gt;573</a> <br> H8用のプロトコルスタックは、メモリけちるために処理はしょってる場合があるので、 <br> そのへん気をつけた方がよろしいかと。 <br>  <>
364<>sage<>04/03/08 03:31<> &gt;&gt; 542 ひげぽんさん <br> ありがとうございます。 <br> もちろんいい形でのきっかけです。 <br> 名乗らずひっそりと個人的に実装しようかと考えておりましのたで、 <br> そのままでしたら、そうとうゆっくりとやっていたと思います。 <br> それはそうと、スケジューラの方おつかれさまです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/566" target="_blank">&gt;&gt;566</a> さん <br> <a href="../test/read.cgi/os/1076216434/569" target="_blank">&gt;&gt;569</a> さん <br> 569さんの仰るとおりですが、バッファリングをキチンとしていないので、 <br> そこんところ考えないといけないですね。 <br> あと、プロトコルスタックだけではなく、NICドライバももらってきた方が <br> （整合性から）良かったのかもしれません。 <br>  <br> NIC関連進捗について <br> 明日から出張等で15日までＰＣに触れなくなります。 <br> ですので、今日あたり、何かしら（バイナリやらソースやら） <br> アップしたかったのですが、ちょっと余裕がありませんでした。 <br> ごめんなさいです。 <br>  <>
Be名無しさん<>sage<>04/03/08 13:42<> http://hp.vector.co.jp/authors/VA000092/jokes/strup.html <>
くれくれ房<>sage<>04/03/09 14:16<> マウスのハードウェア制御の資料（URL）をください。 <>
Be名無しさん<>sage<>04/03/09 14:17<> http://www.google.co.jp/ <>
くれくれ房<>sage<>04/03/09 14:21<> そこ逝ったけど、見つけられるキーワードが分からなかった。 <br> 英語でもいいのでプリーズ <>
Be名無しさん<>sage<>04/03/09 14:38<> dev-jにあったわ。逝って来る。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/09 20:52<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> &gt; それはそうと、スケジューラの方おつかれさまです。 <br>  <br> ありがとうございます。はまりました。。 <br> 今月号のInterfaceはタイムリーな話題なので買ってみました。 <br> まだ読んでいないですが。 <br>  <br> &gt; ですので、今日あたり、何かしら（バイナリやらソースやら） <br> &gt; アップしたかったのですが、ちょっと余裕がありませんでした。 <br> &gt; ごめんなさいです。 <br>  <br> お気になさらずゆっくり取り組んでいただければよいと思います。 <br> 出張とか大変ですよね。。 <br>  <br> スケジューラが1段落したので不安定なファイルシステム等々を <br> どうにかしようと奮闘中です。 <br>  <br> そういえばTinoさんのGUIがボタンが押せたりウィンドウが <br> ぐりぐり動かせたりするのですがちょっと感動しました。 <br> 言い方がわるいかもしれませんが本物のGUIな感じです。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/09 20:55<> <a href="../test/read.cgi/os/1076216434/583" target="_blank">&gt;&gt;583</a> <br> 今はプロセスごとに描画しているので同時に動かすとハリボテ感ありありですが、 <br> 最終的にはサーバー化して本物にしたいです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/11 20:20<> <a href="../test/read.cgi/os/1076216434/584" target="_blank">&gt;&gt;584</a> Tinoさん <br> いやあ。あのレベルに私が到達するのはまだ先のようです。 <br>  <br> 自前のFAT操作コードがやっつけ仕事の品質の悪く <br> いろいろと問題になっていたので某氏作成のFAT操作コードを <br> Monaに取り込む作業をしていました。 <br>  <br> ユーザーモードからのFileInputStreamによるファイル読み込み <br> プロセスロード関数などが前より安定して動作しています。 <br>  <br> また、アプリケーション開発者や最新のカーネルを触りたい方のために <br> ↓開発中の中でも比較的安定したものをリリースする場を作りました。 <br>  <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <>
Be名無しさん<>sage<>04/03/11 21:24<> Mona GUI試してみたいい感じ!! <br> このウィンドウのみためは何に似せているんだろう <br>  <br> ボタンとかぐりぐり動くのが本格的なのでオリジナルデザインだと面白いかも <>
Be名無しさん<>sage<>04/03/11 21:38<> <a href="../test/read.cgi/os/1076216434/586" target="_blank">&gt;&gt;586</a> <br> &gt; ウィンドウのみため <br> Beっぽい奴？ <>
586<>sage<>04/03/11 23:46<> <a href="../test/read.cgi/os/1076216434/587" target="_blank">&gt;&gt;587</a> <br> Beか。 <br> Mac OSXみたいなのはどうよ？ <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/12 01:25<> 本職年度末進行中… <br> なるべくお泊りは避けたいんだけどなぁ… <br>  <br> NIC、興味津々なのに昼休みとかですら睡眠時間なんでさぱーり。 <br>  <br> 現在ココのNIC停滞中？ <>
Be名無しさん<>sage<>04/03/12 02:03<> <a href="../test/read.cgi/os/1076216434/589" target="_blank">&gt;&gt;589</a> <br> <a href="../test/read.cgi/os/1076216434/577" target="_blank">&gt;&gt;577</a> <br> &gt; 明日から出張等で15日までＰＣに触れなくなります。  <br> だと。 <br> つまりアンタの独壇場だ！ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/12 09:40<> <a href="../test/read.cgi/os/1076216434/585" target="_blank">&gt;&gt;585</a> <br> 色々とご対処ありがとうございます。 <br> MonaGUIは3/10に0.1リリースなどと書いたものの延期してしましたが、 <br> 仕事が立て込んでしまって日曜日くらいまで触れそうもないです。 <br> せっかく開発者向けリリースが出ましたので、 <br> MonaGUI-0.1はMona-0.1.6.1向けにしたいと思います。 <br>  <br> 細かいことですが、x.x.x.1みたいなのは <br> 表面にはあまり見えないような細かいバグ修正に使うので、 <br> 今回のようなAPIの変更を伴うような修正には適さないと思います。 <br> 一般的にマイナーバージョン(0.xのxの部分）でAPI互換性を示します。 <br>  <br> ですがまだ途中なので、0.2.0とするのも問題ですから、 <br> こういうときは0.2.0α1とか、0.1.90だとかが分かりやすいと思います。 <br>  <br> 枝番があまり細かいと、ずっとウォッチしているような人以外には、 <br> あれ、前のバージョン何だっけ？ <br> という印象しか与えかねないです。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/12 09:47<> <a href="../test/read.cgi/os/1076216434/586" target="_blank">&gt;&gt;586</a> <br> &gt; Mona GUI試してみたいい感じ!!  <br> ありがとうございます。 <br>  <br> &gt; このウィンドウのみためは何に似せているんだろう  <br> 既に<a href="../test/read.cgi/os/1076216434/587" target="_blank">&gt;&gt;587</a>さんから回答がありましたがBeです。 <br>  <br> &gt; ボタンとかぐりぐり動くのが本格的なのでオリジナルデザインだと面白いかも  <br> Wikiのロードマップに書きましたが、ver.0.5でテーマをサポートする予定です。 <br> Be風は非矩形ウインドウのテストを兼ねた暫定です。 <br>  <br> <a href="../test/read.cgi/os/1076216434/588" target="_blank">&gt;&gt;588</a> <br> &gt; Mac OSXみたいなのはどうよ？ <br> Aqua風のものを公開してAppleから公開停止要請が来た前例がいくつかあるので <br> 一般公開するもので使用するのはまずいみたいです。 <>
Be名無しさん<>sage<>04/03/12 13:49<> ひょっとしてそろそろWabaとかうごくんじゃない？ <br> とかおもったり <>
Be名無しさん<>sage<>04/03/12 14:03<> あのくらいはmonaだってmegﾄﾝだって動くだろ。 <>
Be名無しさん<>sage<>04/03/12 14:33<> あれもう動くの <br> 移植待ち？ <br>  <br> GUIとWabaの関係がよく分からないな <br> どこまでOSに依存しているんだっけ <br> OSASKに移植されているよね <>
Be名無しさん<>sage<>04/03/12 15:49<> ソース見れば。 <br> OSに依存する部分が多い少ないと言うより、 <br> むき出しになっているから全部自分で書ける。 <br> osaskくらいのは動きそうな気がするけどどうかな。 <br> 試しに<a href="../test/read.cgi/os/1076216434/593" target="_blank">&gt;&gt;593</a>が挑戦だ。 <>
Be名無しさん<>sage<>04/03/12 15:56<> ごめんぷろぐらむできない厨房 <br> WEBサイト構築ぐらいなら手伝えるけど <br>  <>
Be名無しさん<>sage<>04/03/12 17:07<> VESA 16bit ﾏﾀﾞｧ? <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/12 20:06<> <a href="../test/read.cgi/os/1076216434/591" target="_blank">&gt;&gt;591</a> Tinoさん <br> &gt; 色々とご対処ありがとうございます。 <br>  <br> おかげさまでカーネルが安定しました。 <br> こちらこそありがとうございます。 <br>  <br> &gt; 仕事が立て込んでしまって日曜日くらいまで触れそうもないです。 <br>  <br> 了解しました。お体にお気をつけ下さい。 <br>  <br> &gt; こういうときは0.2.0α1とか、0.1.90だとかが分かりやすいと思います。 <br>  <br> 迷ったのですが、↓のようにしてみましたいかがでしょうか。 <br> mona-0.1.7-image.zip <br>  <br> <a href="../test/read.cgi/os/1076216434/593" target="_blank">&gt;&gt;593</a>さん <br> &gt; ひょっとしてそろそろWabaとかうごくんじゃない？ <br> &gt; とかおもったり <br>  <br> おお。気づきませんでした。 <br> もし動いたらアプリケーション開発の敷居が低くなって <br> よいかもしれませんね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/598" target="_blank">&gt;&gt;598</a>さん <br> &gt; VESA 16bit ﾏﾀﾞｧ? <br>  <br> VESAの16bppのことでしょうか？ <br> 起動中の画面モード切替をサポートしていないので <br> 次回リリース時には、なんらかの対応をするようにいたします。 <br>  <>
Be名無しさん<>sage<>04/03/12 21:41<> MlcStdio.hとかってファイル名があまり良くないと思う <br> こんな基本的なもののファイル名を変えてどうするのって感じ <br> libc/stdio.hみたいにディレクトリを掘って <br> コンパイル時には-Iでパスを通して <br> #include &lt;stdio.h&gt;と書けるようにするべき <>
</b> ◆nl7ClMRWE6 <b><>sage<>04/03/12 21:49<> なぁに、libc/stdio.hからMlcStdio.hをincludeすればいいのサ！ <br> いや意味は無いんだけどね。 <br> おいらも一般的なファイル名使った方が良いと思う。 <br> 何か理由あるのかな？ <>
Be名無しさん<>sage<>04/03/12 21:55<> <a href="../test/read.cgi/os/1076216434/599" target="_blank">&gt;&gt;599</a> <br> 16bitサポ−ト <br> Danke. <>
Be名無しさん<>sage<>04/03/12 22:07<> <a href="../test/read.cgi/os/1076216434/600" target="_blank">&gt;&gt;600</a> <br> 完全に仕様をみたしてない(みたせない)から、変えた。 <br> 素のstdioを名乗るのは、気が引けたので。 <>
Be名無しさん<>sage<>04/03/12 22:07<> <a href="../test/read.cgi/os/1076216434/600-601" target="_blank">&gt;&gt;600-601</a> <br> DOS厨UNIX厨は（・∀・）ｶｴﾚ!! <>
</b> ◆nl7ClMRWE6 <b><>sage<>04/03/12 22:19<> <a href="../test/read.cgi/os/1076216434/603" target="_blank">&gt;&gt;603</a> <br> そっすか。 <br>  <br> <a href="../test/read.cgi/os/1076216434/604" target="_blank">&gt;&gt;604</a> <br> なんでdos厨unix厨なんだよう。 <>
604<>sage<>04/03/12 22:39<> &gt;なんでdos厨unix厨なんだよう。 <br>  <br> いや、言ってみたかっただけ。 <>
Be名無しさん<><>04/03/12 22:54<> この前実機で動かした。pen330MHzくらいかな。 <br> あまりにもフロッピーの読み込みが遅くて死ぬかと思った。 <br> 今改造しているらしいが。 <br> もうちょっと頑張ってください。 <br> bochsに負けているので。まぁｴﾐｭOSってのも悪くないが。 <>
Be名無しさん<>sage<>04/03/12 23:22<> <a href="../test/read.cgi/os/1076216434/607" target="_blank">&gt;&gt;607</a> <br> v0.1.5 ? <br>  <br> 0.1.5 って、たしか、プロセスが皆してメッセージ待ちにビジーウェイトしてタイムスライス使い切ってたんじゃなかったっけ？ <br> 今 CVS にあるやつは SYSTEM_CALL_MTHREAD_YIELD_M でタイムスライス放棄してるように見えるので、大分違うんじゃないかな？ <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/13 00:26<> <a href="../test/read.cgi/os/1076216434/607" target="_blank">&gt;&gt;607</a>さん <br> &gt; あまりにもフロッピーの読み込みが遅くて死ぬかと思った。 <br> &gt; 今改造しているらしいが。 <br> &gt; もうちょっと頑張ってください。 <br>  <br> お試しいただきありがとうございます。 <br> フロッピー読み込みの遅さは当方でも認識しており最優先で対応いたしました。 <br> もしお手間でなければ下記より最新版イメージファイルをD/Lしていただき <br> 改善されているかお試しいただけないでしょうか。 <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <br>  <br> <a href="../test/read.cgi/os/1076216434/608" target="_blank">&gt;&gt;608</a>さん <br> フォローありがとうございます。 <br> 自分以外でそこまでカーネルの動きを具体的に把握されている方がいらっしゃたので <br> ちょっとびっくりしています。 <br> もし気になる点がありましたらご指摘いただけると助かります。 <>
６０７<>sage<>04/03/13 01:22<> あぁ？ <br> っと確か数日前にダウンロードした記憶があるがね。 <br> まぁそのうちやってみるわ。 <br> ってかそのパソコン俺のじゃないからあまりできないわ。 <br> まぁ俺の発言など、ほぼ無視してくれても委員だけどね。 <br> ゴミと同類ですから。 <>
Be名無しさん<>sage<>04/03/13 07:45<> <a href="../test/read.cgi/os/1076216434/603" target="_blank">&gt;&gt;603</a> <br> そういう問題じゃないだろ。 <br> それ以前にあんた誰よ？影？ <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/13 10:21<> 金曜日にお泊りはやめてほしいところ… <br> そして寝て起きてから夜もお仕事。 <br>  <br> <a href="../test/read.cgi/os/1076216434/590" target="_blank">&gt;&gt;590</a> <br> 漏れも自宅PCは同じような状態OTL <br> 4月には活動開始できる予定… <>
Be名無しさん<>sage<>04/03/13 11:48<> POSIXサーバまだー？ <>
Be名無しさん<>sage<>04/03/13 13:43<> MonaってC++で開発しているということは、ライブラリファイルは存在してるの？ <br> 誰が作っているの？何言語で。 <>
Be名無しさん<>sage<>04/03/13 15:16<> 影ﾎﾟｿがD言語で作ってるんだよ <>
Be名無しさん<>sage<>04/03/13 16:49<> <a href="../test/read.cgi/os/1076216434/615" target="_blank">&gt;&gt;615</a> <br> D言語の仕様は読んでない。 <>
Be名無しさん<>sage<>04/03/13 17:15<> 隊長、 <br> 「C++で開発している」→「ライブラリが存在」 <br> という繋がりがよく分かりません！ <>
Be名無しさん<>sage<>04/03/13 18:25<> libstdc++のことじゃねーの？ <br> スラドでもそのこと言ってた香具師がいたし。 <br> http://slashdot.jp/comments.pl?sid=158023&cid=497658 <br>  <br> newとdeleteを独自実装してiostreamとか使わなかったらいらないわけだが。 <br> http://slashdot.jp/comments.pl?sid=158023&cid=497695 <>
614<>sage<>04/03/13 19:13<> C++で書いたソースをコンパイルするときに、IntelのCPUで動くように直でバイナリ吐けるんですか?ということです。 <br> 普通ELF形式だとか、WinならEXE形式とかに変換されるやないですか。 <br>  <br> そこら辺は俺の勉強不足から来るものだろうとは思うから、逝ってきます。 <br>  <>
Be名無しさん<>sage<>04/03/13 19:28<> <a href="../test/read.cgi/os/1076216434/619" target="_blank">&gt;&gt;619</a> <br> 髭師 <>
Be名無しさん<>sage<>04/03/13 19:28<> <a href="../test/read.cgi/os/1076216434/614" target="_blank">&gt;&gt;614</a> <br> そんなのMonaをmakeしてみてMakefileのldのところを見れば分かるわけだが。 <>
Be名無しさん<>sage<>04/03/13 19:35<> <a href="../test/read.cgi/os/1076216434/619" target="_blank">&gt;&gt;619</a> <br> first boot, second bootまではアセ。 <br> そっからCやC++の関数へジャンプとかじゃね？ <br> シンボル情報だのを取り除いた生のバイナリを作るのは普通に可能。 <>
Be名無しさん<>sage<>04/03/13 22:07<> <a href="../test/read.cgi/os/1076216434/616" target="_blank">&gt;&gt;616</a> <br> 匿名で、しかも乱暴な口調で書き込むと評価落とすぞ <br> ひげぽんがなぜあれだけ馬鹿丁寧なのか考えてみろや <>
Be名無しさん<>sage<>04/03/13 22:19<> shadowﾀﾝの愛想無い書き込みに<a href="../test/read.cgi/os/1076216434/623" target="_blank">&gt;&gt;623</a>ﾀﾝがマジ切れです。 <br> 人からの暖かいレスに飢えているようです。 <br> 誰か<a href="../test/read.cgi/os/1076216434/623" target="_blank">&gt;&gt;623</a>ﾀﾝに可愛らしいAA付きで突っ込みを入れてあげて下さい。 <>
Be名無しさん<>sage<>04/03/13 22:22<> <a href="../test/read.cgi/os/1076216434/623" target="_blank">&gt;&gt;623</a> <br> 　　　　　　　　　　　　　　　　ﾌﾟｼｨｰ <br> 　　　　　　　　　　　;　､ 、; , ; ､　､ <br> 　　　　　　　　　　　'⌒`､lili,'⌒` <br> 　　　(`γ')　　　　　　　 |lili| <br> 　　　冫/"　　　　,..-ｰ―,lili,―-､ <br> ..　　/ ;;|　　　　／;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ヽ <br> 　　 | ;;;;ヽ, 　／;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;l　　　 ／￣￣￣￣￣￣￣￣￣￣￣ <br> 　　 |　;;;;;;`ｰ';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;(,,ﾟДﾟ)l　　＜　そう、目クジラを立てるな <br> 　　 `､＿＿＿＿＿＿＿,,,....つ--つ　　　＼＿＿＿＿＿＿＿＿＿＿＿ <br> 　　　　`ー‐---､,,,____　　　 ,.,., ,.,,,ﾉ <br> 　　　　　　　　　　　　"'''''''''''し'''J <br>  <>
Be名無しさん<><>04/03/13 23:07<> <a href="../test/read.cgi/os/1076216434/623" target="_blank">&gt;&gt;623</a> <br> （・∀・）ﾆﾔﾆﾔ（・∀・）ﾆﾔﾆﾔ（・∀・）ﾆﾔﾆﾔ（・∀・）ﾆﾔﾆﾔ <br> ・∀）ﾆﾔﾆﾔ　　　　　　　　　　　　　　　　　<a href="../test/read.cgi/os/1076216434/623" target="_blank">&gt;&gt;623</a>（゜Д゜）　　　　　　　　　　　　　ﾆﾔﾆﾔ（∀・ <br> （　　　　）ﾆﾔﾆﾔ（　　　　）ﾆﾔﾆﾔ（　　　　）ﾆﾔﾆﾔ（　　　　）ﾆﾔﾆﾔ <>
ぬるぽん<>sage<>04/03/13 23:36<> 暇なんで２ちゃんねら向けのぬるぽOSってのを作ってみるわ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/14 13:06<> <a href="../test/read.cgi/os/1076216434/599" target="_blank">&gt;&gt;599</a> <br> &gt; 迷ったのですが、↓のようにしてみましたいかがでしょうか。 <br> &gt; mona-0.1.7-image.zip <br>  <br> 1. 次がどこへ向かっているかが分かりにくい <br> 2. 同じマイナーバージョンの系列で一般向けと開発向けを混在させるのは好ましくない <br> 3. APIの互換性がないのに同じマイナーバージョンを付けるのは好ましくない <br>  <br> まず前提として、次回の一般リリースを0.2.0と定めているかどうか、が焦点になります。 <br> 0.1.90とか0.2.0α1とかの名前の付け方は、 <br> 0.2.0に向かったプレビューという意味合いを持たせているため、 <br> 「これが安定すれば0.2.0が出るのだな」 <br> という見通しをユーザーに与えるという狙いがあります。 <br>  <br> おそらく、スケジューラ、ドライバ、FAT、libcのすべてが揃って、 <br> GUIもそこそこ使えるようなものを0.2.0として出したいのではないかとお察ししますが、 <br> 個人的にはFAT周りが安定したことが大きかったので、 <br> 0.1.7相当のものを0.2.0として出しても良かったと思いますが。 <br>  <br> もっと言うと、前回の大々的リリースが0.1.5だったのですが、 <br> あまり知らない人からこの番号を見れば、 <br> 単なる保守リリースにしか見えないでしょう。 <br> そういう観点からは、0.1.5は0.2.0で、0.1.7は0.3.0と名乗っても <br> まったくおかしくないと感じます。 <br> ※今から変えてくださいという意味ではありませんので念のため <>
さっきゅん </b>◆WAHAH349qw <b><>sage<>04/03/14 18:27<> ＞独自にOSを作っているまたは、作ろうとしている人たちのための  <br> ＞スレッドになればと思います。 <br> さっきゅんのスレッドﾊｹｰﾝわはー！ <>
Be名無しさん<>sage<>04/03/14 19:02<> <a href="../test/read.cgi/os/1076216434/263" target="_blank">&gt;&gt;263</a> <br> 乱暴だった？それは、悪かった。 <br>  <br> よく考えると、C++のライブラリは作ってなかった。 <br> そろそろ、C++の勉強もかねて、作ってみたほうがいいかなぁ。 <br> Monaged C++までの道のりは険しい。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/14 21:21<> <a href="../test/read.cgi/os/1076216434/628" target="_blank">&gt;&gt;628</a> <br> &gt; 0.1.7相当のものを0.2.0として出しても良かったと思いますが。 <br> とか言いながら0.1.7の挙動に悩みまくってしまいましたが、 <br> これが安定すれば0.2.0としても結構いけている気がします。 <br> GUIについても0.1.5で行き詰っている点が突破できます。 <br> そういう意味で0.1.7を0.2.0α1として扱うのは悪くないかもしれません。 <br>  <br> どこに問題があるのか切り分けるのに四苦八苦してしまいましたので、 <br> GUIに関してはMonaがもうちょっと安定してから進めることにします。 <br> というわけでまたまたMonaGUI-0.1のリリースを延期しますが <br> 悪しからずご了承くださいませ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/630" target="_blank">&gt;&gt;630</a> <br> &gt; Monaged C++までの道のりは険しい。 <br> 最近は入門用としても使われるようになってきたC#をC++に移しただけですので、 <br> C++のスタイルとしては特殊でも考え方自体はそう難しいものではないはずです。 <br> 問題は、私が勝手に作り上げたスタイルなので資料がないことなのですが、 <br> その辺はMonaGUIのサンプルとC#との比較などで溝を埋めたいと思います。 <>
Be名無しさん<>sage<>04/03/14 21:57<> C#はすばらしいよな。 <>
Be名無しさん<>sage<>04/03/14 22:07<> ほんとすばらしいな <>
Be名無しさん<><>04/03/15 16:52<> Monaってモナーのことでつか？ <>
Be名無しさん<>sage<>04/03/15 16:55<> ホムペ見ましたカックイイ <br> ガンガってください <>
Be名無しさん<>sage<>04/03/15 17:07<> 藻まえら凄すぎ <>
Be名無しさん<>sage<>04/03/15 18:05<> 株公開できれば一山当てれそうな予感。 <>
Be名無しさん<>sage<>04/03/15 18:13<> ん？ <br> どっかに晒されたのか？ <>
Be名無しさん<>sage<>04/03/15 18:15<> もしかして2chに晒されたとか <>
Be名無しさん<>sage<>04/03/15 18:16<> ｶﾞｸｶﾞｸ(((( ；ﾟДﾟ))))ﾌﾞﾙﾌﾞﾙ  <>
Be名無しさん<>sage<>04/03/15 18:26<> ここで全部晒されてる！ <br> http://pc.2ch.net/test/read.cgi/os/1076216434/l50 <>
Be名無しさん<>sage<>04/03/15 20:52<> そりゃまた酷いな <>
Be名無しさん<>sage<>04/03/15 21:22<> スレ丸ごとなんて信じらんねえよ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/15 23:59<> <a href="../test/read.cgi/os/1076216434/614" target="_blank">&gt;&gt;614</a>さん <br> &gt; MonaってC++で開発しているということは、ライブラリファイルは存在してるの？ <br> &gt; 誰が作っているの？何言語で。 <br> ライブラリはC++言語でMonaPJメンバやその他の人々が作成しています。 <br> libuser.aがライブラリです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/628" target="_blank">&gt;&gt;628</a> Tinoさん <br>  <br> &gt; 1. 次がどこへ向かっているかが分かりにくい <br> &gt; 2. 同じマイナーバージョンの系列で一般向けと開発向けを混在させるのは好ましくない <br> &gt; 3. APIの互換性がないのに同じマイナーバージョンを付けるのは好ましくない <br>  <br> なるほど。 <br>  <br> &gt; おそらく、スケジューラ、ドライバ、FAT、libcのすべてが揃って、 <br> &gt; GUIもそこそこ使えるようなものを0.2.0として出したいのではないかとお察ししますが、 <br>  <br> その通りです。 <br> アドバイスありがとうございます。 <br> αが全角文字だったのでファイル名は↓のようにしましたがいかがでしょうか?何度もすいません。 <br> mona-0.2.0alpha1-image.zip <br>  <br> &gt; どこに問題があるのか切り分けるのに四苦八苦してしまいましたので、 <br> &gt; GUIに関してはMonaがもうちょっと安定してから進めることにします。 <br> &gt; というわけでまたまたMonaGUI-0.1のリリースを延期しますが <br> ご迷惑をおかけして申し訳ありません。 <br> Wikiにも書きましたが不具合の原因となった場所を特定できました。 <br> 本当に単純ミスで反省しています・・・ <br>  <br> というわけで前回リリースの0.1.5程度の安定感がやっと戻って <br> かつ、スケジューラがの調整で少しはやくなった感じです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/17 23:06<> メッセージsend/receiveのあて先・送信元の単位を <br> プロセス→スレッドに変更して実装しなおしました。 <br>  <br> スレッドレベルで送受信が行えることにより <br> サーバーとの細かなやりとりができるようにとの意図です。 <br>  <br> 開発版リリースはmona-0.2.0alpha2-image.zipです。 <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <br>  <br> またうれしい出来事として364さんから <br> MonaでMACアドレスを取得出来るバージョンのソースとバイナリをご提供いただきました。 <br> 現在bochsで動作が確認できています。 <br>  <br> 動作の様子はこちら <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?%B5%C4%CF%C0%2FNIC%A5%C9%A5%E9%A5%A4%A5%D0 <>
Be名無しさん<>sage<>04/03/18 00:06<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a> <br> MACアドレス取得おめー <br> 小さい１歩だが今までにない展開で楽しみ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/18 00:23<> <a href="../test/read.cgi/os/1076216434/644" target="_blank">&gt;&gt;644</a> <br> &gt; αが全角文字だったのでファイル名は↓のようにしましたがいかがでしょうか?何度もすいません。  <br> &gt; mona-0.2.0alpha1-image.zip <br> こちらこそ色々とうるさくてすみません。 <br> もちろん全角文字はまずいので、これが普通だと思います。 <br>  <br> 色々な方針があるとは思いますが、α表記を使う場合、 <br> 新機能追加が終わった時点でβに移行して、 <br> 目立ったバグがなくなった時点でRCに移行して、 <br> それで問題ないようならリリースするというのが一般的です。 <br> そういう方針でリリースする場合、 <br> 0.2.0以降は、αとかは設けずに、バグ修正などを0.2.1, 0.2.2などに盛り込みます。 <br> API互換性を破壊しないような機能追加なども0.2.x系列で問題ないです。 <br>  <br> 今の段階では新機能追加がメインになると思いますので、 <br> 0.2.0リリース後にブランチさせて0.3系列に移行することになると思いますが、 <br> バグ修正などで0.2.1を出す場合は0.3系列をそのまま持って来ずに、 <br> 0.2系列に対して新規バグ修正をバックポートするような形が一般的です。 <br> いわゆるSTABLEとCURRENTのブランチのスタイルです。 <br>  <br> その他のよく使われる流儀として、LinuxやGIMPなどが採用している、 <br> マイナーバージョンの偶数はSTABLE、奇数はCURRENTというのもあって、 <br> これだとCURRENTもαとかβとかではなく具体的な数字になる面もありますが、 <br> 規模が小さい段階でブランチを全面に出しても実質あまり意味がない気がするので、 <br> 今の体制には合わないかな、という気はします。 <br>  <br> &gt; ご迷惑をおかけして申し訳ありません。 <br> とんでもありません。こちらこそ最近何も出来なくて申し訳ありません。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/18 00:30<> <a href="../test/read.cgi/os/1076216434/645" target="_blank">&gt;&gt;645</a> <br> &gt; 開発版リリースはmona-0.2.0alpha2-image.zipです。 <br> 私が死んでいる間に色々と進んでいるようで嬉しいやら申し訳ないやら。 <br>  <br> 0.2.0α2ベースで開発をするためにmakeしてみましたが、 <br> 0.1.7と同様にMlcCtype.hとMlcCtype.cppが抜けているようです。 <br> CVSから取ってきて追加したところ今度はfat_writeでFDC.DRVがなくてエラーになりました。 <br> リリースイメージを見たところFDC.DRVは0.2.0α2には含まれていないようなので <br> 単純にコメントアウトしたところmakeはうまくいきました。 <br> 動作もOKです。いい感じです。:-) <br>  <br> あ、別に責めているわけではありませんよ。 <br> α版なんて普通そんなものなので。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/18 01:20<> <a href="../test/read.cgi/os/1076216434/496" target="_blank">&gt;&gt;496</a> <br> &gt; その場合、MonaにAUTOEXEC.BATみたいなのがあれば便利だと思いました。 <br> &gt; シェルサーバを改造すればすぐ出来るかもしれませんが……。 <br> 個人的には結構重要だったので、パッチを作ってWikiに置いておきました。 <>
364<>sage<>04/03/18 02:11<> &gt;&gt; 645 ひげぽんさん <br> おつかれさまです。 <br> 体裁を整えて公開していただきありがとうございます。 <br> 今後ともよろしくお願いします。 <br>  <br> また、WikiにはBochs以外の例としてtwoOStwoで動かした例を <br> 記載してみました。 <br>  <br> &gt;&gt; 646さん <br> サンクスです。今後ともマターリがんがります。 <br> 楽しみにしていただけると嬉しいです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/649" target="_blank">&gt;&gt;649</a> Tinoさん <br> おつかれさまです。 <br> ベータで商用なエミュレータtwoOStwoにてMACアドレスゲットのテストを <br> しようとしましたが、キーボードサーバ、マウスサーバがkillされてしまい、 <br> お手上げでした。今回はShellを直接いじって起動する際、 <br> コンパイル時に決めたアプリを起動するようにしていましたが、 <br> タイムリーなパッチありがとうございます。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/18 02:18<> <a href="../test/read.cgi/os/1076216434/650" target="_blank">&gt;&gt;650</a> <br> すみません。バグも混入させてしまったみたいです。 <br> ご利用の際には以下の空行チェックを外していただければ幸いです。 <br> if (strlen(command) &lt; 1) { <br> &nbsp;&nbsp;/* command is empty */ <br> &nbsp;&nbsp;printf("%s", PROMPT); <br> &nbsp;&nbsp;position_ = 0; <br> &nbsp;&nbsp;return; <br> } <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/18 02:55<> 度々すみません。 <br> <a href="../test/read.cgi/os/1076216434/651" target="_blank">&gt;&gt;651</a> <br> &gt; ご利用の際には以下の空行チェックを外していただければ幸いです。 <br> と書きましたが、問題はここではなくて、 <br> AUTOEXEC.BATを読み込むことで悪影響が出た結果のようでした。 <br> というわけで申し訳ありませんがパッチのご利用は見送っていただければ幸いです。 <br> チェック不足のための勇み足でご迷惑をお掛けしたことをお詫びします。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/18 04:25<> 原因が分かりました。 <br> byte data = new data[len]; <br> delete [] data; <br> とする間にdata++などとしてポインタをいじっていました。 <br> そのためdeleteの際にメモリ内容が破壊されていたみたいです。 <br> 何て初歩的な……。アホ過ぎました。情けないです……。＿|￣|○ <br>  <br> あとShellServerをよく読むとHListを使う必要がなかったことも分かりました。 <br> というわけでまともなパッチを再度アップしておきました。 <br> お騒がせして本当に申し訳ありませんでした。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/18 22:35<> 申し訳ありません。cvsの操作でミスをした可能性がありますので <br> 調べてみます。 <br>  <br> &gt; 動作もOKです。いい感じです。:-) <br>  <br> ありがとうございます。多少安定したかなと自分でも思っています。 <br>  <br> &gt; あ、別に責めているわけではありませんよ。 <br> &gt; α版なんて普通そんなものなので。 <br>  <br> ありがとうございます。 <br> でも使っていただく方に迷惑がかからぬよう次回から気をつけます。 <br>  <br> &gt;&gt; その場合、MonaにAUTOEXEC.BATみたいなのがあれば便利だと思いました。 <br> &gt;&gt; シェルサーバを改造すればすぐ出来るかもしれませんが……。 <br> &gt; 個人的には結構重要だったので、パッチを作ってWikiに置いておきました。 <br>  <br> ありがとうございます。パッチ取り込ませていただきました。 <br> すごく便利ですね。すばらしいです。 <br> 一点だけ変更しました。 <br> AUTOEXEC.BATだとDOS互換とも取れなくもないので <br> ファイル名をAUTOEXEC.TXTとしました <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/18 22:36<> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> &gt; 体裁を整えて公開していただきありがとうございます。 <br> &gt;今後ともよろしくお願いします。 <br>  <br> お疲れさまです、今後ともよろしくお願いいたします。 <br>  <br> &gt; また、WikiにはBochs以外の例としてtwoOStwoで動かした例を <br> &gt; 記載してみました。 <br>  <br> 拝見しました。最近良い事ばかりでうれしい限りです。 <br> 最新バージョンのtwoOStwoがでたらカーネルの動作を確かめてみます。 <>
Be名無しさん<>sage<>04/03/18 22:53<> .txtとするくらいなら拡張子いらないんじゃないの？ <>
Be名無しさん<>sage<>04/03/18 22:59<> <a href="../test/read.cgi/os/1076216434/654" target="_blank">&gt;&gt;654</a> <br> &gt;AUTOEXEC.BATだとDOS互換とも取れなくもないので <br> &gt;ファイル名をAUTOEXEC.TXTとしました <br> それがいいんだって。DOSから知ってる香具師にはうれしい。 <>
Be名無しさん<>sage<>04/03/18 23:01<> <a href="../test/read.cgi/os/1076216434/657" target="_blank">&gt;&gt;657</a> <br> 同意 <br> そういう所はオリジナリティを見せる所ではない <br> 逆に変なこだわりを感じてキモい <br> .TXTなんて尚更センスなさ過ぎ <>
Be名無しさん<>sage<>04/03/18 23:08<> どうせ説明するときに <br> - AUTOEXEC.TXT=DOSのAUTOEXEC.BATみたいなやつ <br> - SYSCONF.TXT=DOSのCONFIG.SYSみたいなやつ <br> って書く羽目になる悪寒。 <>
Be名無しさん<>sage<>04/03/18 23:23<> DOS流儀なんてPOSIXみたいな一種の標準だからな。 <br> 誰もDOS互換なんて思わないだろうし、思われて何が困るか不思議っちゃ不思議。 <br> 前からDOSみたいに遊ばせろ〜って騒いでた香具師がいたくらいだから。 <>
Be名無しさん<>sage<>04/03/18 23:24<> 影たんも互換じゃないからとか言ってヘッダ名を変なのにしてたけど <br> そーゆーのは感心しない <>
Be名無しさん<>sage<>04/03/18 23:29<> ReactOS互換にすればいいじゃない。 <>
Be名無しさん<>sage<>04/03/18 23:37<> ヘッダに関しては他のOS用とソースが一文字も違わず、 <br> マクロで条件コンパイルする必要も無い事を目指すにはそうなるって話で。 <br> そもそも中身が違うってんなら名前違うのは仕方が無い。 <br> 見ればどれがcstdlib相当かは分かるし、そんなに問題は無い。 <br>  <br> 3文字の拡張子って形でファイルタイプを表現するなら、.txtは適切じゃないような。 <br> バッチファイルだから.batで良い。 <br> コウモリが飛び回るアプリを.batとする予定があるとか、 <br> 別の奴用に予約してあるなら別だけど。 <>
Be名無しさん<>sage<>04/03/18 23:39<> <a href="../test/read.cgi/os/1076216434/663" target="_blank">&gt;&gt;663</a> <br> &gt;ヘッダに関しては他のOS用とソースが一文字も違わず、 <br> &gt;マクロで条件コンパイルする必要も無い事を目指すにはそうなるって話で。 <br> じゃ関数名も変えろ。クラスでラップしろ。 <br> K&R一部準拠で何が悪い？ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/18 23:55<> <a href="../test/read.cgi/os/1076216434/656" target="_blank">&gt;&gt;656</a>さん <br> <a href="../test/read.cgi/os/1076216434/657" target="_blank">&gt;&gt;657</a>さん <br> <a href="../test/read.cgi/os/1076216434/658" target="_blank">&gt;&gt;658</a>さん <br> <a href="../test/read.cgi/os/1076216434/659" target="_blank">&gt;&gt;659</a>さん <br> <a href="../test/read.cgi/os/1076216434/660" target="_blank">&gt;&gt;660</a>さん <br> <a href="../test/read.cgi/os/1076216434/661" target="_blank">&gt;&gt;661</a>さん <br>  <br> すみません。ファイル命名センスがないのはよく分かっています（笑） <br> このへんは好みになってしまいますが <br> 私がDOSをバックグラウンドにもっていないのに <br> なんだかそんなファイル名なのが違和感があった次第です。 <br> 別にそんなことを気にしなくてもという人がおおければ <br> 元に戻してもいいかな後も思っています。 <br>  <br> もしオリジナルファイル名でMonaらしいファイル名が <br> ありましたら喜んで変えます。 <>
Be名無しさん<>sage<>04/03/19 00:07<> <a href="../test/read.cgi/os/1076216434/664" target="_blank">&gt;&gt;664</a> <br> いやいや、関数名だけは標準と一緒で、ちょっと変更した時に不具合あれば <br> includeするファイル名を見る所で「あ、これって完全に仕様みたしてはいないんだった」 <br> という事実を思い出させてくれる絶妙なバランス感覚が……。 <br> いや基本的に同意なんだけどね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/665" target="_blank">&gt;&gt;665</a> <br> バッチファイルだから.batか.batchで良いんじゃないでしょうか。 <>
Be名無しさん<>sage<>04/03/19 00:22<> あ。ていうか、おめ。　＞ひげ氏 <>
364<>sage<>04/03/19 00:37<> <a href="../test/read.cgi/os/1076216434/651-653" target="_blank">&gt;&gt;651-653</a> Tinoさん <br> おつかれさまです。 <br> ありがとうございます。 <br> 今のところ、自分の作成中のコマンド実行することが多いので、 <br> 本家にも採用されて、今後便利だと思います。 <br> configのほうも、svrファイル書き込まないようにMakefileコメントアウトとか <br> してましたが、その必要も無くなり、AUTOEXECとあわせると、よりPCよりのOS <br> と同じ感じで作業ができて嬉しいです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/654-655" target="_blank">&gt;&gt;654-655</a> ひげぽんさん <br> パッチ取り込み乙でつ。 <br> こちらこそ今後ともよろしくお願いします。 <br> twoOStwoで動くまではBochs依存のコードかと思いましたが、 <br> とりあえず安心して、次のステップに進みたいです。 <br>  <br>  <>
364<>sage<>04/03/19 00:43<> <a href="../test/read.cgi/os/1076216434/668" target="_blank">&gt;&gt;668</a> <br> 主語が省かれて微妙に分かりにくかったです。 <br>  <br> NICの初期化部分は〜 <br> &gt;twoOStwoで動くまではBochs依存のコードかと思いましたが、 <br> ということです。 <>
Be名無しさん<>sage<>04/03/19 00:55<> <a href="../test/read.cgi/os/1076216434/627" target="_blank">&gt;&gt;627</a> <br> ｶﾞｯ <>
Be名無しさん<>sage<>04/03/19 01:46<> <a href="../test/read.cgi/os/1076216434/666" target="_blank">&gt;&gt;666</a> <br> 自己満足 <>
Be名無しさん<>sage<>04/03/19 01:52<> Java認証テストじゃないんだからさ。 <br> Wabaみたいに名乗らざるを得ないわけじゃない。 <br> 他人に使いやすいかどうかだろ。 <>
Be名無しさん<>sage<>04/03/19 01:59<> NWSOSみたいに_stdio.hとかの方がまだまし。 <>
Be名無しさん<>sage<>04/03/19 02:09<> マルチプラットフォームで書くときにstdio.hごときで#ifdef使わせるなよ。 <>
</b> ◆nl7ClMRWE6 <b><>sage<>04/03/19 02:13<> <a href="../test/read.cgi/os/1076216434/673" target="_blank">&gt;&gt;673</a> <br> よくご存知で。 <br> 一文字名前違えば大して事情は変わらないっす。 <br> まあ自分でstdio.h用意するって発想するようになってから <br> 標準関数をラッパで置き換えるような事をしやすくはなったんですが。 <br> ソースが公開されてると基本的にいらない手間ですけど。 <>
Be名無しさん<>sage<>04/03/19 02:29<> 自分で何も新しい発想が生めない香具師が <br> 名前変えて独自性に酔ってるだけだろ。 <>
Be名無しさん<>sage<>04/03/19 02:38<> <a href="../test/read.cgi/os/1076216434/676" target="_blank">&gt;&gt;676</a> <br> そんな事は無いと思うが……。 <br> ていうかそんな事で陶酔出来る幸せな奴見た事無いぞ。 <br> ネットでもリアルでも。 <>
Be名無しさん<>sage<>04/03/19 02:52<> 準拠しないことの言い訳で名前を変えてしまうというのがまずいのは <br> 準拠しようと言う努力を放棄したことを明言しているところだろう。 <br> 別に完全準拠を目指せとは言わないが、 <br> 天上の高みを目指す気持ちを捨てたものに光はない。 <>
Be名無しさん<>sage<>04/03/19 02:58<> <a href="../test/read.cgi/os/1076216434/678" target="_blank">&gt;&gt;678</a> <br> &gt;光はない。 <br> 自分で影って名乗ってんじゃん(ｹﾞﾗ <>
Be名無しさん<>sage<>04/03/19 03:01<> <a href="../test/read.cgi/os/1076216434/679" target="_blank">&gt;&gt;679</a> <br> よくそんな皮肉が思いつくな。とんでもねぇ。呆れた。 <br> でも言い返せないから座布団10枚! <>
Be名無しさん<><>04/03/19 03:04<> おまいらくだらないこと言ってないでWikiの一言見たか！？ <br> お祝いですよ！！age <>
Be名無しさん<>sage<>04/03/19 03:15<> つまりアレだろ。 <br> <a href="../test/read.cgi/os/1076216434/388" target="_blank">&gt;&gt;388</a>って事だろ。 <>
Be名無しさん<>sage<>04/03/19 03:21<> <a href="../test/read.cgi/os/1076216434/682" target="_blank">&gt;&gt;682</a> <br> よく見てるな。座布団10枚! <>
Be名無しさん<>sage<>04/03/19 03:26<> このスレはハイテンションに座布団を乱発しつつひげ氏を祝うスレになりました。 <br> というところで寝る。 <>
Be名無しさん<><>04/03/19 09:47<> ひげおめ <>
Be名無しさん<>sage<>04/03/19 10:04<> こ <>
Be名無しさん<>sage<>04/03/19 10:14<> <a href="../test/read.cgi/os/1076216434/686" target="_blank">&gt;&gt;686</a> <br> 僻みか？(ﾌﾟ <>
Be名無しさん<>sage<>04/03/19 10:24<> <a href="../test/read.cgi/os/1076216434/687" target="_blank">&gt;&gt;687</a> <br> 卑下ｵﾅｰﾆとかっつってた香具師じゃね? <br> ｵﾅｰﾆじゃなくて残念だったね。(ｹﾞﾗ <>
Be名無しさん<>sage<>04/03/19 10:30<> 嫁が２ちゃんねらーか <>
Be名無しさん<>sage<>04/03/19 10:31<> なるほど、やっと謎が解けた。 <br> 以前MASKが結婚がどうたらって仄めかしてたのは卑下のことだったか。 <br> てっきりK周辺のことかと思ってたよ。（あり得ねーと思ったが） <>
Be名無しさん<>sage<>04/03/19 10:33<> エリナ？ <>
Be名無しさん<>sage<>04/03/19 10:41<> キンジョウ・ウォン <>
Be名無しさん<>sage<>04/03/19 10:44<> <a href="../test/read.cgi/os/1076216434/692" target="_blank">&gt;&gt;692</a> <br> マニアック過ぎ <>
Be名無しさん<>sage<>04/03/19 10:50<> 僕の髪が 肩までのびて <br> 君と同じになったら <>
Be名無しさん<>sage<>04/03/19 10:51<> ｶｸｶｸ　,;　ﾍ⌒ヽﾌ　　ﾌﾞﾋﾌﾞﾋ <br> 　　　　／ ( 　・ω・）) -=3 <br> 　ε//　　 し ﾍ⌒ヽﾌ　　　ﾌﾞﾋｰｯ <br> 　　( ( 　__ノ( 　 ?）) -=3 <br> 　　　し しー し─Ｊ <>
Be名無しさん<>sage<>04/03/19 11:11<> <a href="../test/read.cgi/os/1076216434/694" target="_blank">&gt;&gt;694</a> <br> 古過ぎ。 <br>  <br> <a href="../test/read.cgi/os/1076216434/695" target="_blank">&gt;&gt;695</a> <br> スレタイ変えないとな(w <>
Be名無しさん<><>04/03/19 11:13<> 何を作るの？ボク分かんない。 <>
Be名無しさん<>sage<>04/03/19 11:17<> 次スレはこれでいいの？ <br> 子供を作ろうpart9 <>
Be名無しさん<>sage<>04/03/19 11:19<> <a href="../test/read.cgi/os/1076216434/698" target="_blank">&gt;&gt;698</a> <br> もう少しひねれ。はっきり言い過ぎ。 <>
Be名無しさん<>sage<>04/03/19 11:24<> 700getずざー <>
Be名無しさん<>sage<>04/03/19 11:28<> 確か卑下って麺食いだっつってたよね <>
Be名無しさん<>sage<>04/03/19 11:33<> <a href="../test/read.cgi/os/1076216434/690" target="_blank">&gt;&gt;690</a> <br> それはまた別の奴だ。 <>
Be名無しさん<>sage<>04/03/19 11:36<> ひげぽんおめでとう！ <>
Be名無しさん<>sage<>04/03/19 11:46<> <a href="../test/read.cgi/os/1076216434/701" target="_blank">&gt;&gt;701</a> <br> できちゃったｹｺｰｿ <>
Be名無しさん<>sage<>04/03/19 11:52<> <a href="../test/read.cgi/os/1076216434/704" target="_blank">&gt;&gt;704</a> <br> 何でもいいじゃん。とりあえず祝っとけ。 <>
Be名無しさん<>sage<>04/03/19 11:57<> そだね。 <br> めでたい！ <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/03/19 12:09<> おまいら昼間から揃いも揃って２ｃｈかよ。つくづくお <br> めでてー香具師らだな。２ｃｈやってる暇あったら職 <br> でも探したらどうだ？その方が少しは社会の為だ <br> と思わんか？どうだ？ん？そんな事よりもう昼だ。 <br> うまい棒食いてぇな。うん。じゃあな。あばよ。 <>
Be名無しさん<>sage<>04/03/19 12:16<> シス管が怖いと思いつつ、会社アドレスの鬼彼と年始メール。 <br> 変な言葉は使わないけど、思い切り私用メールだからな。 <br> 鬼彼は「僕しか見ないから大丈夫」って言うけど、 <br> シス管のこととかわかってなさそうだからな・・・。ま、いいや。 <br>  <>
Be名無しさん<>sage<>04/03/19 13:31<> みんなで祝おう!!おめでとー <>
Be名無しさん<><>04/03/19 13:36<> スレが伸びてると思ったらそういうことか！！ <br> ひげぽんおめでとう！ <>
Be名無しさん<><>04/03/19 13:44<> おめれとーーーー <>
Be名無しさん<><>04/03/19 13:47<> うわ、マジびっくり <br> でもおめでとう <>
Be名無しさん<>sage<>04/03/19 13:49<> いやー、めでたい、めでたい!! <>
Be名無しさん<><>04/03/19 13:53<> ﾟ･*:.｡. .｡.:*･゜ﾟ･*:.｡. .｡.:*･゜ﾟ･*･゜ﾟ･*:.｡. .･゜ﾟ･*:.｡. .｡.:* <br> ＼（＾▽＾）／ご成婚おめでとうございま−す♪ <br> ﾟ･*:.｡. .｡.:*･゜ﾟ･*:.｡. .｡.:*･゜ﾟ･*･゜ﾟ･*:.｡. .･゜ﾟ･*:.｡. .｡.:* <>
Be名無しさん<>sage<>04/03/19 14:01<> <a href="../test/read.cgi/os/1076216434/696" target="_blank">&gt;&gt;696</a> <br> &gt;古過ぎ。 <br> 昔は定番だったんだけどね、お祝いに歌っとくよ♪ <br>  <br> 僕の髪が　肩までのびて 君と同じになったら <br> 約束どおり　町の教会で 結婚しようよ　MMMM <br> 古いギターを　ボロンと鳴らそう 白いチャペルが見えたら <br> 仲間を呼んで　花をもらおう 結婚しようよ　MMMM <br> もうすぐ春が　ペンキを肩に お花畑の中を　散歩に来るよ <br> そしたら君は　窓をあけて エクボを見せる　僕のために <br> 僕は君を　さらいにくるよ 結婚しようよ　MMMM <br> 雨が上がって　雲の切れ間に お陽様(ひさま)さんが　見えたら <br> ひざっこぞうを　たたいてみるよ 結婚しようよ　MMMM <br> 二人で買った　緑のシャツを 僕のおうちのベランダに　並べて干そう <br> 結婚しようよ　僕の髪は もうすぐ肩まで　とどくよ <>
Be名無しさん<>sage<>04/03/19 15:03<> ひげぽんさんおめでとうございます! <br>  <br> # /.Jにタレコ…む? <>
Be名無しさん<>sage<>04/03/19 15:06<> このホストでは、しばらくスレッドが立てられません。 <br> またの機会にどうぞ。。。 <br>  <br>  <br>       ホスト <br>       子供を作ろう <br>       名前： Be名無しさん <br>       E-mail： sage <br>       内容： <br>       子供を作っているまたは、作ろうとしている人たちのための <br>       スレッドになればと思います。 <br>       - http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?今日の一言(不定期更新) <br>  <br>       ・ 私事で恐縮ですが。結婚しました。 -- ひげぽん 2004-03-18 (木) 23:06:49 <br>  <br>       おめー <br>  <br> 分からないことがあったら２ちゃんねるガイドへ。。。 <br>  <br> アクセス規制・プロキシー制限等規制は、２ちゃんねるビューアを使うと回避できることがあります。 <>
Be名無しさん<>sage<>04/03/19 15:53<> <a href="../test/read.cgi/os/1076216434/717" target="_blank">&gt;&gt;717</a> <br> マジで立てようとしたのかYO!(w <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/03/19 16:00<> BBS_THREAD_TATESUGI=64 <br>  <br> この板で一回スレ立てたら数ヶ月は立てられないんじゃないかな <>
Be名無しさん<>sage<>04/03/19 16:03<> 代理立てしました <br>  <br> 子供を作ろう <br> http://pc.2ch.net/test/read.cgi/os/1079679774/ <>
Be名無しさん<>sage<>04/03/19 16:08<> <a href="../test/read.cgi/os/1076216434/720" target="_blank">&gt;&gt;720</a> <br> 乙！ <br> ｹｺｰｿ関連ネタはそっちに移動してね＞ALL <>
Be名無しさん<>sage<>04/03/19 16:17<> <a href="../test/read.cgi/os/1076216434/720" target="_blank">&gt;&gt;720</a> <br> さいごに <br> - <br>  <br> おめー <br> - <br> って入れて欲しかったけどまぁいいかw <br>  <>
Be名無しさん<>sage<>04/03/19 16:18<> &gt; おめー <br>  <br> Σ（l|lﾟДﾟ） すいません、てっきり本文外だと思いました <>
Be名無しさん<><>04/03/19 17:19<> マジでスレ立ってるしΣ(ﾟдﾟ;) <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/19 20:47<> &gt;&gt;お祝いの言葉を下さった方々 <br> ありがとうございます。 <br> 今後ともよろしくお願いいたします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/666" target="_blank">&gt;&gt;666</a>さん <br> &gt; バッチファイルだから.batか.batchで良いんじゃないでしょうか。 <br>  <br> そうですね。.batでもよいかなと思い始めました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/364" target="_blank">&gt;&gt;364</a>さん <br> &gt; パッチ取り込み乙でつ。 <br> &gt; twoOStwoで動くまではBochs依存のコードかと思いましたが、 <br> &gt; とりあえず安心して、次のステップに進みたいです。 <br>  <br> お疲れ様です。順調なようで何よりです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/20 00:27<> 現在オブジェクトマネージャ実装に向けて構想中です。 <br>  <br> 私の思うオブジェクトマネージャとは <br> ・オブジェクトの生成・破棄 <br> ・オブジェクトの参照の管理 <br> ・名前空間によるオブジェクト参照の提供(ハンドルのようなもの?) <br> ・オブジェクトに対する操作(read/writeなど) <br> などのサービスを提供するものです。 <br>  <br> またここで言うオブジェクトとは <br> カーネル内のプロセス・スレッド・ファイル・Mutex・共有メモリなどに使われているデータを <br> 保持する構造体(またはクラス)を指します。 <br>  <br> イメージとしては <br> mm-&gt;open("/fs/disk0/hoge/hoge.txt", ...)とか。 <br>  <br> mm-&gt;create("/type/UserProces", ...)みたいな感じです。 <br>  <br> オブジェクトマネージャが1プロセスとして実装されることを目指していますが <br> 実装してみないとなんともいえなそうです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/20 00:27<> 今悩んでいるのが動的な「型」の追加の方法です。 <br> どういうことかというとオブジェクトマネージャを使用して <br> オブジェクトを生成するとき、ユーザーは <br>  <br> 「xxxxという型のオブジェクトを生成して」とお願いします。 <br> ex) Processオブジェクトを生成して mm-&gt;create("type/Process", ...) <br>  <br> この場合はオブジェクトマネージャがデフォルトで知っている型なので問題ないのですが <br> 動的な型の追加ができた方が便利かなと思っています。 <br>  <br> 実際にNTでは出来るようなのでなんらか方法があるとは思うのですが <br> いまいちアイデアが浮かばず停滞気味です。 <br>  <br> オブジェクトマネージャの議論はこちら↓ <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?%B5%C4%CF%C0%2F%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8%A5%DE%A5%CD%A1%BC%A5%B8%A5%E3 <>
Be名無しさん<>sage<>04/03/20 02:59<> <a href="../test/read.cgi/os/1076216434/727" target="_blank">&gt;&gt;727</a> <br> &gt;実際にNTでは出来るようなのでなんらか方法があるとは思うのですが <br> COMのことだったら言語非依存のABIを決めて作るからできるわけ。 <br> だからActiveXで何か作るときはATLを使った特殊な作り方をする。 <br> それが面倒くさいからVMを間に挟んだ上で <br> ふつうにベタ書きしたクラスで作れるようにしたのが.NET。 <br> そこまでしないと出来ることじゃないよ。 <br> BeOSなんかはその辺のC++の限界にぶち当たったわけだし。 <>
Be名無しさん<>sage<>04/03/20 03:37<> ともかく普通にコンパイルしたC++のクラスを動的に扱うのは無理。 <br> 独自コンパイラとVMを作るくらいの手間がいる。 <br> 実態は全部Cレベルの構造体にバラすような感じ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/20 23:58<> <a href="../test/read.cgi/os/1076216434/728" target="_blank">&gt;&gt;728</a>さん <br> <a href="../test/read.cgi/os/1076216434/729" target="_blank">&gt;&gt;729</a>さん <br> アドバイスありがとうございます。 <br> クラスの動的な操作はやはり無理があったようです。 <br>  <br> 今やりたいこと・自分の技量で出来ることを <br> もう一度きちんと検討してみます。m(__)m <>
Be名無しさん<>sage<>04/03/21 03:54<> <a href="../test/read.cgi/os/1076216434/730" target="_blank">&gt;&gt;730</a> 毎日学校帰りに串に4つか5つか唐揚げ刺さったの、100円でさ、食ってるんだけど <br>  <br> 大丈夫かね？ｗ <>
通りすがり<>sage<>04/03/21 13:45<> 頑張ってください！ <>
Be名無しさん<><>04/03/21 19:43<> 　　Mona　　　　　GUI　　　　　まだ？ <br> 　 ∧＿∧　　　∧＿∧　　　　∧＿∧ <br> 　（　・∀・）　　（　・∀・）　　　（　・∀・） <br> ⊂　⊂　 ）　　（　Ｕ　　つ　　⊂__へ　つ <br> 　&lt;　&lt;　&lt;　　　　）　）　）　　　　　（＿）| <br> 　（＿（＿）　　（_＿）＿）　　　 彡（_＿） <br>  <>
Be名無しさん<>sage<>04/03/21 20:10<> MonaGUIはIKARIYAと名称が変わりました <br> あしからず <>
Be名無しさん<><>04/03/21 20:27<> だめだこりゃ <>
Be名無しさん<>sage<>04/03/21 21:51<> MONAへの移植指令がでたぞ byいかりや <br> ttp://ponk.jp/el/index.php?page=9 <>
Be名無しさん<>sage<>04/03/21 21:53<> &gt;&gt;shadowﾀﾝ <br> ユーザ予備軍の意見は放置プレイで、 <br> 実際のユーザからの不満が出てから考えるというのもアリ。 <>
Be名無しさん<>sage<>04/03/21 21:57<> <a href="../test/read.cgi/os/1076216434/737" target="_blank">&gt;&gt;737</a> <br> 禿同 <br> 卑下もいろいろ叩かれたがモノを作り上げて黙らせた <br> 実際に使われるようになるまでは苦しいと思うががんがれ！ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/22 00:44<> <a href="../test/read.cgi/os/1076216434/733-735" target="_blank">&gt;&gt;733-735</a> <br> 放置して誠に申し訳ありません。 <br> 仕事に追われてMonaGUIどころかネットすら出来ない状況でした。 <br> 今も書類が残ってるし後ろに上司がいるのでまた後ほど…… <>
Be名無しさん<>sage<>04/03/22 00:56<> <a href="../test/read.cgi/os/1076216434/739" target="_blank">&gt;&gt;739</a> <br> 仕事乙。 <>
Be名無しさん<>sage<>04/03/22 02:01<> <a href="../test/read.cgi/os/1076216434/738" target="_blank">&gt;&gt;738</a> <br> 卑下の凄いところは一見罵詈雑言に見える発言でも <br> 内容があったら誠実に対応してきたところ。 <br> Monaの内容にも反映されている。 <br> 七誌で暴言を書き込んで無視したりしない。 <>
Be名無しさん<><>04/03/22 21:44<> 　　　　　　　 ／￣￣￣￣￣￣￣￣￣￣￣ <br> 　　　　　　　 |　ひげぽんageeeee！！ <br> 　　　＼　　　＼ <br> 　　　　　　　　　￣￣￣|／￣￣￣￣￣￣￣ <br> 　　　　　　＼ ﾍ⌒ヽﾌ <br> 　　　　　　　( 　・ω・) <br> 　　　　　　　 ⊂　　つ <br> ￣　￣　　　ε(つ ﾉ　ﾄ　￣ ￣　￣ <br> 　　　　　　　　　(ノ 　　 ｵ <br> 　　　　　　　/　 　　　　　＼ <br> 　　／　　　　　　　:　　 　ｵ <br> 　　　　　/　　　　||　.　　 ｫ　　＼ <br> 　　　　　/　　　　 |　:　　　ｫ　　＼ <br> 　　　　/　　　　　　　. <br> 　　　　　　　　　　　|　.　 　ｫ <br> 　　　　　　　　　　 | | : . <br> 　　　　　　　　　　　|:　 . <br> 　　　　　　　　　　　||　. <>
Be名無しさん<>sage<>04/03/22 22:24<> <a href="../test/read.cgi/os/1076216434/739" target="_blank">&gt;&gt;739</a> <br> もつかれ〜 <br> MONA GUI期待してます。 <>
Be名無しさん<>sage<>04/03/22 22:26<> 　ひげたん　　　　　Tinoたん　　　　　shadowﾀﾝ <br>       　 ∧＿∧　　　∧＿∧　　　　∧＿∧ <br>       　（　・∀・）　　（　・∀・）　　　（　・∀・） <br>       ⊂　⊂　 ）　　（　Ｕ　　つ　　⊂__へ　つ <br>       　&lt;　&lt;　&lt;　　　　）　）　）　　　　　（＿）| <br>       　（＿（＿）　　（_＿）＿）　　　 彡（_＿） <br> 　　　　　　　　　　　　　　　　　がんが <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/22 22:59<> <a href="../test/read.cgi/os/1076216434/732" target="_blank">&gt;&gt;732</a>さん <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/739" target="_blank">&gt;&gt;739</a> Tinoさん <br> デスマーチお疲れ様です。 <br>  <br> <a href="../test/read.cgi/os/1076216434/736" target="_blank">&gt;&gt;736</a>さん <br> &gt; ttp://ponk.jp/el/index.php?page=9 <br>  <br> ↑のページいいですよね。 <br> 構造をみた感じ割と簡単に移植できそうな感じがしました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/744" target="_blank">&gt;&gt;744</a>さん <br> ありがとうございます。 <br>  <br> 今日はIDManagerというクラスを追加しました。 <br>  <br> カーネル内オブジェクトへの参照をユーザー側に <br> 渡す代わりに、ID(ハンドル)を渡して操作対象を結び付けます。 <br>  <br> スレッド生成・joinで試験実装を行いました。 <>
Be名無しさん<>sage<>04/03/22 23:28<> <a href="../test/read.cgi/os/1076216434/745" target="_blank">&gt;&gt;745</a> <br> なんとなく昔祭りになってたOSASKのスロット論争を思い出した <>
Be名無しさん<>sage<>04/03/22 23:36<> <a href="../test/read.cgi/os/1076216434/746" target="_blank">&gt;&gt;746</a> <br> おまいも転向組か! <>
Be名無しさん<>sage<>04/03/23 22:51<> 勉強会読んだよ <br> 漏れも勉強しようかな <br> Tinoﾀﾝやっぱりすごい人なんだね <br>  <>
Be名無しさん<>sage<>04/03/24 00:31<> <a href="../test/read.cgi/os/1076216434/747" target="_blank">&gt;&gt;747</a> <br> 実際MONAとOSASKには今どれくらい差があるんだ? <br>  <>
Be名無しさん<>sage<>04/03/24 02:22<> Window System の開発経験者って、必要だったりする？ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/24 06:41<> <a href="../test/read.cgi/os/1076216434/740" target="_blank">&gt;&gt;740</a> <a href="../test/read.cgi/os/1076216434/743" target="_blank">&gt;&gt;743</a> <a href="../test/read.cgi/os/1076216434/744" target="_blank">&gt;&gt;744</a> <a href="../test/read.cgi/os/1076216434/745" target="_blank">&gt;&gt;745</a> <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/748" target="_blank">&gt;&gt;748</a> <br> 最近手も足も出ない状態でお恥ずかしい限りです。 <br> ようやく長いトンネルの出口が見え始めました。 <br> 設定ファイルの名前問題が解決すると同時に動き始めたいです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/750" target="_blank">&gt;&gt;750</a> <br> 素晴らしいです。 <>
Be名無しさん<>sage<>04/03/24 20:13<> 設定ファイルがMONA.CFGに落ち着いたみたいだね <br> MONA.CFGでVESA関連の指定が出来るようにするのをｷﾎﾞﾝﾇ <>
Be名無しさん<>sage<>04/03/24 20:22<> VESA_WIDTH=800 <br> VESA_HEIGHT=600 <br> VESA_BPP=16 <br> こんな感じ <br>  <br> iniファイルみたいにセクションを設けるといいかもしんない <br> [VESA] <br> WIDTH=800 <br> HEIGHT=600 <br> BPP=16 <>
Be名無しさん<>sage<>04/03/24 20:38<> 起動メッセージの最初にバージョンを表示したらいいと思った <br> 開発版をあれこれいじってると何使ってるか混乱する <br>  <br> Mona ver.0.2.0alpha5 <br> Copyright (c) 2002-2004 higepon <br> Setting PIC ... <br> こんな感じ <>
Be名無しさん<>sage<>04/03/24 20:48<> <a href="../test/read.cgi/os/1076216434/753" target="_blank">&gt;&gt;753</a> <br> Win3.1のwin.iniみたいでﾜﾗﾀ。 <br> でもいいかもしれない。 <>
Be名無しさん<>sage<>04/03/24 21:02<> いまどきプレーンテキストですか？ <>
Be名無しさん<>sage<>04/03/24 21:18<> 流行ならXMLだろうけど <br> さすがにカーネルに入れたらG氏に怒られるだろ <br> 後でカーネル分離を考えるつなぎってことで <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/24 21:28<> <a href="../test/read.cgi/os/1076216434/751" target="_blank">&gt;&gt;751</a> <br> &gt; 設定ファイルの名前問題が解決すると同時に動き始めたいです。 <br> とりあえずWikiに0.2.0α5用のSDKを上げておきました。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/24 22:36<> <a href="../test/read.cgi/os/1076216434/748" target="_blank">&gt;&gt;748</a>さん <br> そうですね。 <br> 前からすごいことは知っていましたがソースを <br> 詳しく読んでもっとすごいことに気づきました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/750" target="_blank">&gt;&gt;750</a>さん <br> もしよろしければ気づいた点など <br> アドバイスいただければ幸いです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/751" target="_blank">&gt;&gt;751</a>, 758 Tinoさん <br> お疲れ様です。 <br> Mona SDKリリースありがとうございました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/754" target="_blank">&gt;&gt;754</a>さん <br> ご提案ありがとうございます。 <br> 次回開発版リリースより表示されるようになります。 <br>  <br> <a href="../test/read.cgi/os/1076216434/753" target="_blank">&gt;&gt;753</a>さん <br> &gt; VESA_WIDTH=800 <br> ご提案ありがとうございます。 <br> 残念ながら現時点では上記のような設定は出来ません。 <br>  <br> 画面モード切替には必ずカーネルのリコンパイルが伴います。 <br>  <br> 理由は画面モード切替をリアルモードで行っているからです。 <br> ＝プロテクトモードで画面モード切り替えをサポートしていない。 <br>  <br> プロテクトモードでの画面モード切替方法は <br> ・VBE プロテクトモードインターフェースを使用 <br> ・仮想86モードを使用 <br> の2通りがありますがどちらもサポートされておりません。 <>
Be名無しさん<>sage<>04/03/24 23:18<> ＞ ttp://ponk.jp/el/index.php?page=9 <br>  <br> の作者が光臨している！！！ <br>  <br> そしてWaba for Monaの開発が始まっている。 <br>  <br> 次回のリリースが楽しみだ。 <>
750<>sage<>04/03/25 04:34<> おもしろそうだし、お役に立てるなら、よろこんで。 <br>  <br> 昔いた会社で覚えてしまった X11R5のMITオリジナルコード をベースとした <br> アドバイスなら、いろいろ出来ると思います。ネタが古いのは申し訳ないですけど。 <br> それと、今月いっぱいは仕事が忙しいので、来月にならないとちょっと時間とれないかも。 <br>  <br> ついでに、時間が取れたら、３Dエンジンライブラリでも創ったりするかも。 <br>  <>
Be名無しさん<>sage<>04/03/25 10:42<> ところでKONOXの開発者って中学生らしいな。 <br>  <>
Be名無しさん<>sage<>04/03/25 15:18<> <a href="../test/read.cgi/os/1076216434/762" target="_blank">&gt;&gt;762</a> <br> ﾏｼﾞｶﾖ <br> 最近の中学生は凄いな <>
Be名無しさん<>sage<>04/03/25 21:34<> <a href="../test/read.cgi/os/1076216434/762" target="_blank">&gt;&gt;762</a> <br> <a href="../test/read.cgi/os/1076216434/763" target="_blank">&gt;&gt;763</a> <br> 自作自演はやめてくれ <br>  <br> ﾏｼﾞﾚｽすると中学生でもあれくらい余裕だろ <br> きちんと続けていいものが作ることが出来たら <br> またこい <>
Be名無しさん<>sage<>04/03/25 22:09<> <a href="../test/read.cgi/os/1076216434/764" target="_blank">&gt;&gt;764</a> <br> つまり、DQN-OSとはいっしょにするなと？ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/25 22:21<> <a href="../test/read.cgi/os/1076216434/760" target="_blank">&gt;&gt;760</a>さん <br> 両ニュースともにとてもうれしいです。 <br> 本当に次回リリースが楽しみです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/750" target="_blank">&gt;&gt;750</a>さん <br> &gt; アドバイスなら、いろいろ出来ると思います。ネタが古いのは申し訳ないですけど。 <br> &gt; それと、今月いっぱいは仕事が忙しいので、来月にならないとちょっと時間とれないかも。 <br> &gt; ついでに、時間が取れたら、３Dエンジンライブラリでも創ったりするかも。 <br>  <br> ありがとうございます。 <br> 3Dエンジンとても楽しみです。 <br> 是非Wikiにも一度お立ち寄りください。 <br>  <br> <a href="../test/read.cgi/os/1076216434/762" target="_blank">&gt;&gt;762</a>さん <br> すごいですねぇ。一体何歳年下なんだろう･･･ <>
Be名無しさん<>sage<>04/03/25 23:36<> <a href="../test/read.cgi/os/1076216434/759" target="_blank">&gt;&gt;759</a> ひげぽん ◆Ngzcp/NZpA <br> &gt;プロテクトモードでの画面モード切替方法は <br> &gt;・VBE プロテクトモードインターフェースを使用 <br> &gt;・仮想86モードを使用 <br> &gt;の2通りがありますがどちらもサポートされておりません。 <br>  <br> でもVBEプロテクトモードインターフェースってFunction 05h/07h/09hしか提供されていないみたいだよね。 <br> この場合欲しいのはFunction 02hなわけで。 <br> やっぱり仮想86モードしかないのかな。 <>
Be名無しさん<>sage<>04/03/26 00:31<> リアルモードでファイル読めばいいじゃん。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/26 03:56<> ようやくMonaGUIで安定して日本語が表示できるようになりました。 <br> 時間がないのでFDイメージとスクリーンショットだけですがWikiに上げておきました。 <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Tino%2FMonaGUI <br>  <br> 散々注文を付けて申し訳ありませんでした。＞ひげぽんさん <br> お陰様でイメージしていた動作を得ることができました。 <br> 本当にありがとうございました。 <br>  <br> 年度末の忙しさで開発が20日も停滞してしまって <br> あぼーんかとやきもきさせてしまって申し訳ありませんでした。＞スレの皆さん <br>  <br> 今もまだゆとりがあるとは言えない状態なので <br> ソースやサンプルなどのリリースはもうしばらくお待ちください。 <br> 今月中に0.1に漕ぎ着けたいとは思っています。 <>
Be名無しさん<><>04/03/26 11:20<> <a href="../test/read.cgi/os/1076216434/769" target="_blank">&gt;&gt;769</a> <br> うおおおおおおおおおおおおおおおおおおおおおおおっっっっっ！ <br> すげぇ！ <>
Be名無しさん<>sage<>04/03/26 11:22<> ｷﾀ━━━━━（´_ゝ｀）━━━━━!!!! <br>  <br> #VGA表示もできたらいいよね。急ぎはしないけど。 <br>  <>
Be名無しさん<><>04/03/26 14:14<> 大きいAA使ってもおもしろいと思う… <br> 　　　　　　　　　　　_,,,,,,___,,,,,--,,_  <br> 　　　　　　　　 _,-,_i_ ,　　　　　　l-ノヽ  <br> .　　　　　　　／　＼ ヽ　　i,　　_l,,/　 ~''-,_  <br> 　　　　　　／___,,,,,,_,,,-''~~'''''-''~-'''''''''-,~／i,_  <br> .　　　　　,_i'-,,,,_,,-'::::::::::::::::::::::::::::::::::::::::::~'ヽ,_l  <br> .　　　　 / '''''／::::::::::::::::::::::::::::::::::::::::::::::::::::::::::ヽ.,,  <br> 　　　　 /　./:::::::::::::::://::::::::::i::i;::::::l:::::ヽ:::::::::::::::ヽヽ  <br> 　　　　l_／/:::::::::::::/:/::/::::::::ll:l l::::::l::::::ヽ::::::::::::::::ヽ.ヽ  <br> 　　　　 ,ﾉ/:::::::::::::/:/://:::::;:/l:l　l:::::l.l:::::::l:::;::::::::ヽ:::l　~'i  <br> 　　　　 l.l:l::::::::::::/:// /::/l:/ l:l　 ll:::l .l::;:::l:::l::::::::::l:::l  <br> .　　　　 l|.l::::::::::// / l::/_/-.l/ ~''l'l:l,,,_l:ll::lヽl:::::::::l.l:l  <br> 　　　 　,l-l::::::::/_,,,l,-l/ /___ 　　___　　 l '~~l.l::::::/ l|  <br> .　　　／::::ヽ::::/l　===＝＝　　 ＝＝=== /ll::::/:ヽl 　　　　  <br> .　　／:::;-''i:ヽl::l　　////　　　　　 ////　l::l／~''-;ヽ 　　＜モナーOS期待してます  <br> 　 /;;-''　　.ヽl::::l,_　　　　 ＿＿＿　　　　／:l　　　 ~''ヽ 　　　  <br> 　/''　　　　_..,l::::l-ヽ,,_　 ヽ,,_____ノ　 _,,-'''l::::l~~''''--,,,_  <br> 　　_,,,,-''''~　 .l::::l.-==/~''i--,,,,,,,--,'~-''　l::::l　  <br> 　ヽ　　　　　　l::::l_,-〈　　~''''人'~　ヽ''-　l:::l　  <br> .　/＼　　　 　 l:::l　 ヽ　　.（⌒）　　l　　 l::l  <br> /　　　 　　　　 .l::l　　ヽ,_,ﾉ'~'''~ヽ,_ﾉ　　 .l:l  <br> 　　　　　　　　 　l|　　　 /　　l　　ヽ　　　l!  <br> 　　　　　 　 /￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣  <br> 　　　　　 　/  <br> 　　　 　　 /　　　　　　　　　GIGABYTE  <>
Be名無しさん<><>04/03/27 00:15<> <a href="../test/read.cgi/os/1076216434/769" target="_blank">&gt;&gt;769</a> <br> おお。なんかBeOS風味ですね。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/27 01:38<> <a href="../test/read.cgi/os/1076216434/767" target="_blank">&gt;&gt;767</a>さん <br> ご指摘ありがとうございます。 <br> 私より全然詳しいようで、アドバイスありがとうございます。 <br> 残る選択肢は仮想86ということですね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/768" target="_blank">&gt;&gt;768</a>さん <br> 確かにその方法であれば完璧に、要件をみたしているとは思うのですが <br> ちょっとそこまでの体力がありません。m(__)m <br> 申し訳ありません。 <br>  <br> <a href="../test/read.cgi/os/1076216434/769" target="_blank">&gt;&gt;769</a> Tinoさん <br>  <br> おめでとうございます！？ <br>  <br> 実機・エミュレータで動作確認をさせていただきましたが <br> 快適に動いています。 <br>  <br> &gt; 散々注文を付けて申し訳ありませんでした。＞ひげぽんさん <br> &gt; お陰様でイメージしていた動作を得ることができました。 <br> &gt; 本当にありがとうございました。 <br>  <br> とんでもないです。 <br> 独りよがりのAPIが如何に使いづらいかがよく分かりました。 <br> おかげさまで多少使いやすくなったと思います。 <br> 指摘だけでなく改善案までいただけたので大変勉強になりました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/772" target="_blank">&gt;&gt;772</a>さん <br> ありがとうございます。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/27 01:42<> <a href="../test/read.cgi/os/1076216434/767" target="_blank">&gt;&gt;767</a>さん <br> ご指摘ありがとうございます。 <br> 私より全然詳しいようで、アドバイスありがとうございます。 <br> 残る選択肢は仮想86ということですね。 <br>  <br> <a href="../test/read.cgi/os/1076216434/768" target="_blank">&gt;&gt;768</a>さん <br> 確かにその方法であれば完璧に、要件をみたしているとは思うのですが <br> ちょっとそこまでの体力がありません。m(__)m <br> 申し訳ありません。 <br>  <br> <a href="../test/read.cgi/os/1076216434/769" target="_blank">&gt;&gt;769</a> Tinoさん <br>  <br> おめでとうございます！？ <br>  <br> 実機・エミュレータで動作確認をさせていただきましたが <br> 快適に動いています。 <br>  <br> &gt; 散々注文を付けて申し訳ありませんでした。＞ひげぽんさん <br> &gt; お陰様でイメージしていた動作を得ることができました。 <br> &gt; 本当にありがとうございました。 <br>  <br> とんでもないです。 <br> 独りよがりのAPIが如何に使いづらいかがよく分かりました。 <br> おかげさまで多少使いやすくなったと思います。 <br> 指摘だけでなく改善案までいただけたので大変勉強になりました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/772" target="_blank">&gt;&gt;772</a>さん <br> ありがとうございます。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/27 01:43<> 2重投稿すいません。m(__)m　ブラウザの挙動がおかしかったです。 <br>  <br> Mona/開発版 mona-0.2.0alpha6-image.zipをリリースしました。 <br>  <br> ・プロセス生成時に物理ページ返却 mona_v1.0.tar.gz  <br> ・VRAMマッピングロジックミス修正   <br> ・FD交換検出APIの改良   <br> ・Message::lookupMain Thread(const char* name)追加   <br> ・MSG_SERVER_START_OKがくるまで次のサーバーを起動しない   <br> ・userlib: Memory MapクラスがI/F変更  <br> ・MACアドレス取得 src/user/NICにソース追加 <br>  <br> ダウンロードは↓ <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <br>  <br> 共有メモリ確保方法の詳細は↓ <br>  <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%A5%A2%A5%D7%A5%EA%BC%C1%CC%E4%BD%EA <br>  <br> ※開発版リリースにはMONA GUIはまだ含まれていません。ご了承ください。 <>
Be名無しさん<>sage<>04/03/27 12:23<>  <br> 　　　　　　　　　　　　　　　　　　　　　　＼　│　／ <br> 　　　　　　　　　　　　　　　　　　　　　　　／￣＼　　／￣￣￣￣￣￣￣￣￣ <br> 　　　　　　　　　　　　　　　　　　　　　─（ ﾟ ∀ ﾟ ）＜　　Monaはひとつ！ <br> 　　　　　　　　　　　　　　　　　　　　　　　＼＿／　　＼＿＿＿＿＿＿＿＿＿ <br> 　　　　　　　　　　　　　　　　　　　　　　／　│　＼ <br> 　　　　　　　　　　　　.　　　　　　 　　　　　　　巛　ﾉﾉﾉﾉ巛　　　　　　　　　∩ ∧　∧∩ <br> 　 （＼　　 '´　Vヽヽ ／)∩∧ ∧∩ 　 ∧ ∧　| |( ﾟ∋ﾟ )| |　∩∧＿∧ ∩ ＼（ ﾟ∀ﾟ ）/　　　/￣ ＞ <br> 　　＼＼ｿiﾉ=ω=ヾ) ／ ヽ（ ﾟ∀ﾟ ）/　(ヽ*ﾟーﾟ)')＼ ＼／／　ヽ（ ・∀・ ）/　 ｜　　　 /.　 ∩|(ﾟUﾟ)|∩ <br> 　　 　＼(ヽﾘﾟ ヮﾟﾉ ')　 　｜　　　〈　　ヽ　　 ノ　　|　　　|　 　　|　　　　 |　　　|　　　 ｜ 　 ヽ　ｙ　 ノ <br> 　　　　　　( &lt;髭&gt; )　　　/　／＼_」 〜（　　ﾉ　　/＼ ／ヽ　　 /　 ∧　 |　　 /　／＼」 　 　 ） (　 ） <br> 　　　　　／lliく/_|〉ﾘ　 　 ￣　　 　　 　　し'Ｊ　 /　／＼　.＼∠／　 ＼ ＼ / ／　　　　 　　（ 　∪ <br> 　　　　（／　 し'ﾉ＼）　　　　　　　　　　　　 　ミ／　　　＼__ミ　 　　　　￣￣　　　　　　　　　∪ <br>  <br> ｶｰﾈﾙ全般　　ﾋｹﾞﾀﾝ <br> GUI　　　Tinoﾀﾝ <br> FAT　　　Gﾀﾝ <br> ﾈﾄﾜｰｸ　　364ﾀﾝ <br> glibc　　 影ﾀﾝ <br> Waba     ﾍﾞｲｻｲﾄﾞﾀﾝ <br> ゲーム移植　　ttp://ponk.jp/el/index.php?page=　の作者ﾀﾝ <br> WEB構築・管理　　yossyﾀﾝ <>
Be名無しさん<>sage<>04/03/27 12:37<> つまりamona吸収合併かね <>
Be名無しさん<>sage<>04/03/27 18:32<> 周辺機器メーカーの方MONA用ドライバ <br> 提供汁、って言いに逝ってもOK？ <>
Be名無しさん<>sage<>04/03/27 18:36<> それにしてもこのスレOS板に移転して良かったな・・・ <>
Be名無しさん<>sage<>04/03/27 19:08<> <a href="../test/read.cgi/os/1076216434/779" target="_blank">&gt;&gt;779</a> <br> 株式公開してからだろう。 <>
Be名無しさん<>sage<>04/03/27 19:36<> <a href="../test/read.cgi/os/1076216434/764" target="_blank">&gt;&gt;764</a> <br> KONOX、ZAKOS と OSの大安売りだな。 <br> 漏れが厨房の時はファミコンばっかりしてたよ。 <br> パソコンなんてものも滅多に見かけなかった気がする。 <br> 何か時代の流れを感じた。 <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/03/27 19:42<> 　　＿  <br> 　 /〜ヽ  <br> 　(｡･-･)　｡oO( 大安のOS瓜・・・？ <br> 　ﾟし-Ｊﾟ <>
Be名無しさん<>sage<>04/03/27 19:52<> <a href="../test/read.cgi/os/1076216434/777" target="_blank">&gt;&gt;777</a> <br> ラッキーセブンおめ <br>  <br> やっと当初予想されてたような開発ラッシュになってきたね <br> 予想より半年〜1年くらい遅かったけど <br> やっぱり0.1.5でのユーザーアプリ解禁が転換期だろうね <br> シングルタスクでもいいからとりあえずユーザーアプリを解禁しろって人達は <br> このことを言ってたんじゃないかと思った <>
Be名無しさん<>sage<>04/03/28 00:47<> まあZAKOSはほとんどネタなんだが。継続するつもりもあんまりない。 <br> KONOXを生暖かく見守る路線で（ぉ <>
Be名無しさん<><>04/03/28 01:02<> Linux上で動くOSはMonaX? Monux? <>
Be名無しさん<>sage<>04/03/28 01:03<> 韓国向けにNidaX <>
Be名無しさん<>sage<>04/03/28 01:27<> <a href="../test/read.cgi/os/1076216434/784" target="_blank">&gt;&gt;784</a> <br> そりゃムリってモンだろ。 <br> 物には順序がある。 <br> 使い物にならないディスクアクセス、使い物にならないメモリ管理でユーザアプリを公開しても意味なしだったろう。 <br>  <>
Be名無しさん<>sage<>04/03/28 12:20<> <a href="../test/read.cgi/os/1076216434/788" target="_blank">&gt;&gt;788</a> <br> そんなもんアプリ側で自前実装 <br> それでカーネルに還元 <br> これこそバザール <>
Be名無しさん<>sage<>04/03/28 12:23<> &gt;そんなもんアプリ側で自前実装 <br> &gt;それでカーネルに還元 <br> 実際、FATのコードでそうなった。 <>
Be名無しさん<>sage<>04/03/28 12:28<> ＞実際、FATのコードでそうなった。 <br> NICでは現在進行形だね。 <br>  <br> そもそも人に自分と同じことを要求しても無理ってもの。 <br> カーネル共同開発者が云々って愚痴があったけど、 <br> それぞれやりたい事が出来るようにするのがマネジメント。 <br> 今でもカーネル共同開発者はいないけど良い意味で盛り上がってる。 <br> ま、終わりよければすべて良しってことで、この件はお開き。 <>
Be名無しさん<>sage<>04/03/28 12:58<> で、KONOX開発者は有望な人材なのか？ <br> Lと比べても知識にかなり偏りがあるようだが… <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/28 13:57<> <a href="../test/read.cgi/os/1076216434/777" target="_blank">&gt;&gt;777</a>さん <br> 笑いました。最近盛り上がってきていてモチベーションがあがってきました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/779" target="_blank">&gt;&gt;779</a>さん <br> 冗談かと思いますが（笑） <br> 時期尚早だと思います。ドライバインターフェースがきちんと定まっていないので。 <br>  <br> <a href="../test/read.cgi/os/1076216434/780" target="_blank">&gt;&gt;780</a>さん <br> そうですね。 <br> サルベージをしてくださった方に深く感謝いたします。 <br>  <br> Monaに今までアプリ・サーバーを提供してくださった方々もしくはその予定がある方々に <br> アンケートご協力のお願いです。 <br>  <br> 次回リリースに向けて現状を把握したいので以下のURLでお答えいただけないでしょうか。 <br>  <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%A5%EA%A5%EA%A1%BC%A5%B9%A5%E1%A5%E2 <br>  <br> お忙しいところ貴重なお時間を割いていただくことになりますがご協力のほどよろしくお願いいたします。 <>
Be名無しさん<>sage<>04/03/28 14:26<> <a href="../test/read.cgi/os/1076216434/780" target="_blank">&gt;&gt;780</a> <br> ム板は壊滅したからな。ちょうど良い時期に移転したもんだと思った。 <>
Be名無しさん<>sage<>04/03/28 14:44<> Waba for Monaもう動作してるっぽ <br> おめーーーーーーーーー <>
Be名無しさん<>sage<>04/03/28 18:42<> <a href="../test/read.cgi/os/1076216434/730" target="_blank">&gt;&gt;730</a> <br> cltnがまさにそれを目指してVM+コンパイラを作ってんじゃ？ <br> 彼はMonaPJのメンバーだし、技術提携もありだべ。 <>
Be名無しさん<>sage<>04/03/28 19:20<> ﾋｹﾞﾀﾝも神々の仲間入りかな？ <br> まだ天使レベル？ <>
Be名無しさん<>sage<>04/03/28 20:11<> <a href="../test/read.cgi/os/1076216434/797" target="_blank">&gt;&gt;797</a> <br> もはや神だろうね。それを取り囲む人々が天使か。 <br> そういやMASKも大天使長に出世してたな。 <>
Be名無しさん<>sage<>04/03/29 00:19<> わたすは哀れな乞食だす <br> 知識クレクレ <>
Be名無しさん<>sage<>04/03/29 00:21<> 　　　　　∧__∧  <br> 　　　　 （　　　；)  <br> 　 　　 　/　　ヽ  <br> 　　　 　.と_と__）  <br> 　　　 （； ・∀・）　　　　ﾄﾞｷﾄﾞｷ  <br> 　　oノ∧つ⊂)  <br> 　　(　（ ；・∀・）  <br> 　　∪（　∪ ∪  <br> 　　 　と＿_）__）  <>
Be名無しさん<><>04/03/29 02:18<> <a href="../test/read.cgi/os/1076216434/800" target="_blank">&gt;&gt;800</a> <br> キリ番ゲットおめ！ <>
Be名無しさん<>sage<>04/03/29 05:06<> <a href="../test/read.cgi/os/1076216434/791" target="_blank">&gt;&gt;791</a> <br> お開きのところ悪いけどちょっとだけ。 <br> さっきゅんのおれぺこでの手腕は鮮やかとしか言いようがない。 <br> 一気にユーザーアプリが動くまでに進化した感じ。 <br> これは今までのOS作成で培った経験と、 <br> Monaに対して言われたDOS遊びのニーズとを汲み取った結果か。 <br> あとはCygwinで動くクロスコンパイラが出てくれば <br> 開発者がどっと流れ込む予感。 <>
&gt;&gt;779名無しさん<>sage<>04/03/29 19:46<> <a href="../test/read.cgi/os/1076216434/793" target="_blank">&gt;&gt;793</a> <br> まだドライバインターフェースが定まっていないとは……； <br> 知りませんでした。 <br> まあ定まり次第、各社に提供汁、って言いに逝きますんで。 <br>  <br> 定まったら皮切りに 最強のRoland製DTM音源、SC-8850の <br> ドライバを　.　＿＿∧＿＿　　Rolandに提供汁、って言って <br> みます。　　　|(現時点で) | 　 まぁ、作ってくれるかは謎ですが。 <br> 　　　　　　 　　￣￣￣￣￣ <>
Be名無しさん<>sage<>04/03/29 23:29<> 宣伝隊の切り込み隊長さんでつか。 <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/03/30 09:26<> DTM音源ならシリアルドライバがあればとりあえず16トラック使えるんじゃなかったっけ？ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/30 22:47<> <a href="../test/read.cgi/os/1076216434/795" target="_blank">&gt;&gt;795</a>さん <br> そうですね。うれしいです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/803" target="_blank">&gt;&gt;803</a>さん <br> &gt; まだドライバインターフェースが定まっていないとは……； <br> &gt; 知りませんでした。 <br> &gt; まあ定まり次第、各社に提供汁、って言いに逝きますんで。 <br>  <br> そうですね。ドライバインターフェースを決めなければなりませんね。 <br> 言いに行ってくれるんですか?（笑） <br>  <br> <a href="../test/read.cgi/os/1076216434/805" target="_blank">&gt;&gt;805</a>　さっきゅんの人さん <br> &gt; DTM音源ならシリアルドライバがあればとりあえず16トラック使えるんじゃなかったっけ？ <br>  <br> アドバイスありがとうございます。 <br> 自分の作ったOSから音が出たらうれしいでしょうねぇ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/31 00:22<> 今日の一言にも書きましたが方向性で悩み中です。 <br> 次回リリースの次に何に手を付けるのがベストか。 <br>  <br> 本当に最小・最低限の機能がそろってきたので <br> これからどちらに行くのがいいのか迷います。 <br>  <br> ドライバインターフェースを決めるべきか。 <br> サーバー群の整備か。 <br> APIの整備か。 <br> カーネルの洗練か。 <br> カーネル新機能追加か。 <br> 1からリライトか。 <br> 64bitへ移行か。 <>
Be名無しさん<>sage<>04/03/31 00:30<> ひげちゃんが挫折したqemuのwin上ビルドに成功した人が <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/31 00:33<> <a href="../test/read.cgi/os/1076216434/808" target="_blank">&gt;&gt;808</a>さん <br> すばらしいですね。 <br> Monaはうまく動きませんでした。(ログを吐いてすぐ終了してしまう) <br> Linux上での0.5.2ではVesa not surpportedまで動いているので <br> もう少し様子を見てみようかと思います。&gt;Win版qemu <>
Be名無しさん<>sage<>04/03/31 00:36<> おお、テスト乙。CD-ROMサポートとかもまだみたいだしOSのテスト用途には <br> まだ不適みたいっすね。今後が楽しみ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/31 01:01<> <a href="../test/read.cgi/os/1076216434/810" target="_blank">&gt;&gt;810</a>さん <br> お疲れ様です。 <br> どこかにレポートをあげた方がいいんでしょうか? <br> しばらく様子見が良いかな。 <br>  <br> qemuとは別件ですが <br> mona-0.2.0alpha7をリリースしました。 <br>  <br> ・NIC/getmac.cpp→NIC/ne2k/getmac.cppディレクトリ変更 <br> ・strncpy2関数追加 by shadowさん   <br> ・Waba for Mona004を取り込みHello Worldが動作!!  by baysideさん <br> ・同期API Mutex追加   <br> ・ファイル書き込みAPI FileOutputStream追加   <br> ・inp/outp 8/16/32作成 outportb/inportbは統一のため名称変更  <br>  <br>  <br> ダウンロードはこちらからお願いします。 <br>  <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <>
Be名無しさん<>sage<>04/03/31 02:38<> コンパイルできねー <br>  <br> make[2]: Entering directory `/home/joe/src/mona_v1.0/src/user/HelloWorld' <br> g++ -nostdlib -fno-exceptions -fno-rtti -fno-builtin -Wall -c -g -O3 -I. -I../include -I../include/userlib -I../../share -c hello.cpp <br> hello.cpp: function 内の `int MonaMain(List&lt;char*&gt;*)': <br> hello.cpp:102: 警告: no return statement in function returning non-void <br> ld -n -Ttext 0xA0000000 -e _user_start -static -luser hello.o -L../lib -o ../../../bin/HELLO.ELF <br> ld: warning: cannot find entry symbol _user_start; defaulting to 00000000a0000000 <br> hello.o(.text+0xd): In function `MonaMain': <br> /home/joe/src/mona_v1.0/src/user/HelloWorld/hello.cpp:49: undefined reference to `MemoryMap::getInstance()' <br> hello.o(.text+0x20):/home/joe/src/mona_v1.0/src/user/HelloWorld/hello.cpp:52: undefined reference to `MemoryMap::create(unsigned int)' <br> hello.o(.text+0x36):/home/joe/src/mona_v1.0/src/user/HelloWorld/hello.cpp:60: undefined reference to `MemoryMap::getSize(unsigned int) const' <br> …（中略） <br> hello.o(.text+0x1ed):/home/joe/src/mona_v1.0/src/user/HelloWorld/hello.cpp:57: undefined reference to `exit' <br> make[2]: *** [../../../bin/HELLO.ELF] エラー 1 <br> make[2]: Leaving directory `/home/joe/src/mona_v1.0/src/user/HelloWorld' <br> make[1]: *** [hello] エラー 2 <br> make[1]: Leaving directory `/home/joe/src/mona_v1.0/src/user' <br> make: *** [userapp] エラー 2 <br>  <br> Debian sid <br> gcc 3.3.3 <>
Be名無しさん<>sage<>04/03/31 10:44<> 16bit VESA希望 <br>  <>
Be名無しさん<>sage<>04/03/31 13:24<> ファイル列挙ｷﾎﾞﾝﾇ <br> DIRすら出来ない時点でおれぺこの勝ち <>
Be名無しさん<>sage<>04/03/31 13:43<> DIR？ <>
Be名無しさん<>sage<>04/03/31 13:46<> コマンド名はlsでよろ <>
Be名無しさん<>sage<>04/03/31 13:53<> DIRだったらシェルの内部コマンド、 <br> lsだったらLS.ELFって別にした方が良いと思う。 <br> っていうかDOSで.EXEが省略できるように、 <br> .ELFもいちいち打たなくて良いようにした方がいいと思う。 <>
Be名無しさん<>sage<>04/03/31 13:55<> <a href="../test/read.cgi/os/1076216434/807" target="_blank">&gt;&gt;807</a> <br> 当面は必要に迫られたことだけやってたら良いと思う。 <br> YAGNIってことで。 <>
ねり＠偵察猫<>sage<>04/03/31 14:18<> <a href="../test/read.cgi/os/1076216434/817" target="_blank">&gt;&gt;817</a> <br> |ーﾟ)φ ﾒﾓﾒﾓ <>
Be名無しさん<>sage<>04/03/31 14:20<> なんか変なのが来た！ <>
ねり＠偵察猫<>sage<>04/03/31 14:44<> |彡 ｻｯ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/03/31 18:07<> <a href="../test/read.cgi/os/1076216434/770" target="_blank">&gt;&gt;770</a> <a href="../test/read.cgi/os/1076216434/773" target="_blank">&gt;&gt;773</a> <a href="../test/read.cgi/os/1076216434/774" target="_blank">&gt;&gt;774</a> <a href="../test/read.cgi/os/1076216434/777" target="_blank">&gt;&gt;777</a> <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/768" target="_blank">&gt;&gt;768</a> <a href="../test/read.cgi/os/1076216434/771" target="_blank">&gt;&gt;771</a> <a href="../test/read.cgi/os/1076216434/775" target="_blank">&gt;&gt;775</a> <br> 設定ファイルで切り替えられればVGAをサポートするのも面白いですね。 <br> とんでもなく暇になったらリアルモードをいじってみたい気もします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/793" target="_blank">&gt;&gt;793</a> <br> 少しは休めるかと思ったのですが全然駄目でした。 <br> MonaGUI-0.1の今日中のリリースは不可能となってしまい申し訳ありません。 <br> このままずるずると先延ばしにするのは不本意ですので、 <br> 明日は仮病でサボってMonaGUIの開発に集中することにします。 <br> アンケートなどは明日までお待ちください。 <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/31 21:14<> とりあえずは仕事一段落で復活。 <br> OPERAのタブに入れて毎日見てはいたんだが途中から変なページ飛ばされてそれっきりだったので <br> 今ようやく過去ログ見終わったです。 <br>  <br> でもその前に部屋掃除しないとPC取り出せない罠（氏 <br>  <>
</b> ◆CFYAAAAAds <b><>sage<>04/03/31 21:48<> MONA実行方法を読みつつbochs環境ととのえてみたけど <br> VESA not supported. sorry kernel stop. <br> と出て実行できない… <br>  <br> とりあえず必死こいて動作環境＋開発環境ととのえてまつ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/31 22:04<> <a href="../test/read.cgi/os/1076216434/824" target="_blank">&gt;&gt;824</a>さん <br> もしよろしかったらどこかに対応版bochsをおきましょうか? <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/31 23:35<> <a href="../test/read.cgi/os/1076216434/812" target="_blank">&gt;&gt;812</a>さん <br>  <br> 申し訳ありません。 <br> 現在こちらで環境がないため試せませんでしたが <br>  <br> libuser.aのリンクがうまくいっていないようです。 <br>  <br> どなたかお分かりになる方がいましたらご指摘いただけると助かります。 <br>  <br> <a href="../test/read.cgi/os/1076216434/813" target="_blank">&gt;&gt;813</a>さん <br>  <br> ご要望ありがとうございます。 <br> 開発版リリースで16bit版も欲しいということでしょうか? <br>  <br> <a href="../test/read.cgi/os/1076216434/814" target="_blank">&gt;&gt;814</a>さん <br>  <br> ご要望ありがとうございます。 <br> 次回リリースにおきましてFATFSでその機能が <br> 実現されるかもしれませんのでしばしお待ちください。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/03/31 23:35<> <a href="../test/read.cgi/os/1076216434/817" target="_blank">&gt;&gt;817</a>さん <br>  <br> ご要望ありがとうございます。 <br> .ELF省略可能対応しました。 <br> 次回αリリースに盛り込まれます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/818" target="_blank">&gt;&gt;818</a>さん <br> ありがとうございます。 <br>  <br> とりあえずリクエストのあるものと <br> コンソールあたりを触ってみる予定です。 <br>  <br> <a href="../test/read.cgi/os/1076216434/822" target="_blank">&gt;&gt;822</a> Tinoさん <br>  <br> お疲れ様です。大丈夫ですか･･･ <br>  <br> &gt; MonaGUI-0.1の今日中のリリースは不可能となってしまい申し訳ありません。 <br> &gt; このままずるずると先延ばしにするのは不本意ですので、 <br> &gt; 明日は仮病でサボってMonaGUIの開発に集中することにします。 <br> &gt; アンケートなどは明日までお待ちください。 <br>  <br> 了解いたしました。 <br> くれぐれもご無理をなさらぬようにしてください。 <br>  <br> <a href="../test/read.cgi/os/1076216434/824" target="_blank">&gt;&gt;824</a>さん <br>  <br> お疲れ様です。 <br> --enable-vbe?でビルドすると幸せになれます。&gt;bochs <>
</b> ◆CFYAAAAAds <b><>sage<>04/04/01 00:19<> ｽﾏｿ、いろいろ割り込みがあったんでさっき以来すすんでおりませぬ。 <br> 実際問題環境整えても実機で動かしてみないとNICのテストって大変だろうなぁと思いつつ <br> 今日のところは寝ます。（明日新人くるし遅刻できないし） <br>  <br> <a href="../test/read.cgi/os/1076216434/825" target="_blank">&gt;&gt;825</a> <br> 実はいまだにbochsまわりよくわかってないので、もしして頂けるならうれしいです。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/01 00:30<> <a href="../test/read.cgi/os/1076216434/828" target="_blank">&gt;&gt;828</a>さん <br> Mona PJ Wikiの今日の一言にURLを張っておきました。 <br> お手数ですがD/Lしたらお知らせください。 <br> けします。 <>
Be名無しさん<>sage<>04/04/01 03:02<> <a href="../test/read.cgi/os/1076216434/824" target="_blank">&gt;&gt;824</a> <br> 286対応表明？ <>
830<>sage<>04/04/01 03:02<> アンカーずれたorz <>
Be名無しさん<>sage<>04/04/01 03:25<> <a href="../test/read.cgi/os/1076216434/192" target="_blank">&gt;&gt;192</a> <br> これのことか? <br> ttp://slashdot.jp/comments.pl?sid=37501&cid=143330 <>
Be名無しさん<>sage<>04/04/01 10:09<> VGABIOS-elpin-2.40はVESA非対応です。 <br>  <>
Be名無しさん<>sage<>04/04/01 13:33<> ＯＳ作ってどうするの？ <>
ねり<>sage<>04/04/01 13:41<> 疑問に思ったら負けだよ <>
Be名無しさん<>sage<>04/04/01 15:08<> <a href="../test/read.cgi/os/1076216434/834" target="_blank">&gt;&gt;834</a> <br> それじゃマイクロソフト社に電話して、同じこと言ってください。 <br> それか「XPがあるのに、なんでロングホーン作ってるの？」って。 <>
&gt;&gt;779<>sage<>04/04/01 15:12<> 言い忘れたが･･････ <br> シリアルドライバで16トラック再生できてもSC-8850は <br> 使いこなせない。だから、ドライバインターフェースが出来たら <br> ドライバ提供汁、って言いに逝くって言ってるんだ。 <br>  <br> 詳ιぃ情報は下から。 <br> http://www.roland.co.jp/zoomup/9905_SC8850/index.html <>
Be名無しさん<>sage<>04/04/01 15:17<> 前にRTL8139の話が出てきていたけどさ、RealtekのWebページに、 <br> RTL8139のサンプルプログラムがあったけどあれって役に立たないのかね。 <br>  <br> という情報をおいていきます。 <>
Be名無しさん<>sage<>04/04/01 15:23<> つーかプロトコルスタックどうする気よ？ <br> WindowsみたいにBSDからパクるしかないだろ <br>  <br> $ strings /cygdrive/c/WINDOWS/system32/ftp.exe <br> ... <br> @(#) Copyright (c) 1983 The Regents of the University of California. <br> All rights reserved. <br>  <br> $ strings /cygdrive/c/WINDOWS/system32/nslookup.exe | grep Berkeley <br> @(#)nslookup.c 5.39 (Berkeley) 6/24/90 <br> @(#)commands.l 5.13 (Berkeley) 7/24/90 <br> @(#)debug.c 5.22 (Berkeley) 6/29/90 <br> @(#)list.c 5.20 (Berkeley) 6/1/90 <br> @(#)subr.c 5.22 (Berkeley) 8/3/90 <br> @(#)skip.c 5.9 (Berkeley) 8/3/90 <br> @(#)getinfo.c 5.22 (Berkeley) 6/1/90 <br> @(#)send.c 5.17 (Berkeley) 6/29/90 <>
Be名無しさん<>sage<>04/04/01 16:21<> <a href="../test/read.cgi/os/1076216434/837" target="_blank">&gt;&gt;837</a> <br> 否定的なわけじゃないけど、企業に一個人用のOSにドライバ提供しる！って <br> 言っても無駄なような希ガス。 <br>  <>
Be名無しさん<>sage<>04/04/01 17:04<> 先の話になるかもしれませんが、音楽や画像などのフォーマットはライセンスフリーの <br> OGGやPNGなどにして欲しいと思っています。 <br>  <br> どうでしょうか？ <>
Be名無しさん<>sage<>04/04/01 17:21<> それはアプリケーション次第では。 <br> OS自体は特にファイル形式に依存する事は無いと思う。 <br> それともOS標準の事かな(WindowsとWindowsMediaみたいな?) <>
Be名無しさん<>sage<>04/04/01 17:36<> <a href="../test/read.cgi/os/1076216434/832" target="_blank">&gt;&gt;832</a> <br> おお、それですーーーー <br> よく見付かったねーーーー <>
841<>sage<>04/04/01 17:45<> <a href="../test/read.cgi/os/1076216434/842" target="_blank">&gt;&gt;842</a> <br> はい。そうです。 <br> OS標準搭載アプリケーションに対応して欲しいと思っています。 <>
Be名無しさん<>sage<>04/04/01 17:50<> その辺の話ってOSASKで2年くらい前に散々言い合ったやつだね <>
Be名無しさん<>sage<>04/04/01 17:59<> そういうソフトを標準搭載するときになったら考えましょうや。 <br> もっと別の形式が出てるかもしんないし。 <>
Be名無しさん<>sage<>04/04/01 18:06<> <a href="../test/read.cgi/os/1076216434/845" target="_blank">&gt;&gt;845</a> <br> そうなんですか。知りませんでした <br> 無知ですみませんでした <br>  <br> <a href="../test/read.cgi/os/1076216434/846" target="_blank">&gt;&gt;846</a> <br> そうですね。 <br> よりよいフォーマットが開発されるかもしれませんからね (^_^) <br>  <br> 参考になりました。ありがとうございました <>
841<>sage<>04/04/01 18:10<> <a href="../test/read.cgi/os/1076216434/847" target="_blank">&gt;&gt;847</a> <br> これは私の書き込みです。 <br> 名前入れるの忘れてしまいました。   _|￣|○ <>
Be名無しさん<>sage<>04/04/01 19:32<> <a href="../test/read.cgi/os/1076216434/840" target="_blank">&gt;&gt;840</a> <br> お金積めば大概作ってくれます。 <br> それなりの金額とドライバに関する仕様書も必要ですが。 <br>  <br> まあ現実的な所で、「ドライバ書きたいので資料下さい」ですな。 <br>  <>
Be名無しさん<>sage<>04/04/01 20:28<> <a href="../test/read.cgi/os/1076216434/817" target="_blank">&gt;&gt;817</a> <br> NWSOSのWikiにlsが掲載されたね <>
</b> ◆CFYAAAAAds <b><>sage<>04/04/01 23:28<> <a href="../test/read.cgi/os/1076216434/829" target="_blank">&gt;&gt;829</a> <br> ありがとうございます。 <br> とりあえず慣れるまでいじってみます。 <br>  <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/02 00:25<> <a href="../test/read.cgi/os/1076216434/838" target="_blank">&gt;&gt;838</a>さん <br> 情報ありがとうございました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/839" target="_blank">&gt;&gt;839</a>さん <br> プロトコルスッタクは勉強のために全部自分で自作される方と <br> 移植される方がいるかと思いますがどちらもかまわないと思います。 <br>  <br> <a href="../test/read.cgi/os/1076216434/841" target="_blank">&gt;&gt;841</a>さん <br>  <br> 画像フォーマットに関しましては846さんと同意見です。 <br>  <br> <a href="../test/read.cgi/os/1076216434/851" target="_blank">&gt;&gt;851</a>さん <br> おやくに立てて何よりです。 <br> ファイルは消しておきました。 <br>  <br> Linuxでのビルドエラーに対応しました。 <br> 次回開発リリースで反映されます。 <br> Wikiでアドバイスを下さったななしさんありがとうございました。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/02 00:57<> mona-0.2.0alpha8をリリースしました <br>  <br> ・JPEGDEMO外部ファイル読み込み対応 thx!　nikqさん <br>  <br> 　使い方 JPEGDEMO NEKO.JPG <br>  <br> ・シェル：.ELFを省略可能にした。   <br>  <br> ・Makefile 修正 Linuxビルド対応 thx!ななしさん   <br>   <br> ・FDCのモータ制御のバグ修正   <br>  <br> ・File Output Stream appendモード追加 thx! Gakuさん  <br>  <>
Be名無しさん<>sage<>04/04/02 01:16<> そろそろMona上でもGOが動きそうだね。 <br> エディタさえ揃えばセルフ開発出来るかも!? <>
838<>sage<>04/04/02 01:38<> <a href="../test/read.cgi/os/1076216434/852" target="_blank">&gt;&gt;852</a> <br> 本当はそんな風に思っていないだろ（・∀・） <>
Be名無しさん<>sage<>04/04/02 01:51<> <a href="../test/read.cgi/os/1076216434/855" target="_blank">&gt;&gt;855</a> <br> 裏と表がないと社会人は務まらないだろ（・∀・） <>
Be名無しさん<>sage<>04/04/02 02:02<> 前から気になってたんだけどTotalL Memoryってtypo? <>
Be名無しさん<>sage<>04/04/02 02:28<> たるる <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/02 03:33<> 今日一日頑張ったのですが、 <br> 新しい仕様の共有メモリがうまく使いこなせず挫折しました。＿|￣|○ <br>  <br> リリースが遅れて申し訳ありません。 <br> 現状は、3月26日に出したスナップショットより後退してしまって、 <br> まともに動かなくなってしまいました……。 <>
841 </b>◆iCl2ZebZN6 <b><>sage<>04/04/02 04:41<> <a href="../test/read.cgi/os/1076216434/852" target="_blank">&gt;&gt;852</a> <br> 了解しました。 <br> ひげぽんﾀｿ、開発に携わっている方々、 がんばってください <>
Be名無しさん<>sage<>04/04/02 04:59<> <a href="../test/read.cgi/os/1076216434/859" target="_blank">&gt;&gt;859</a> <br> イ` <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/02 20:17<> <a href="../test/read.cgi/os/1076216434/854" target="_blank">&gt;&gt;854</a>さん <br>  <br> 動いたらうれしいですね。 <br> 確かにメジャーなアプリケーションとしてエディタが <br> あったら面白いと思います。Mona GUIでの実装になると思います。 <br>  <br> <a href="../test/read.cgi/os/1076216434/838" target="_blank">&gt;&gt;838</a>さん <br>  <br> そんなことないですよ。 <br> RTL8139で実験されている方もいらっしゃるのでとても助かります。 <br>  <br> <a href="../test/read.cgi/os/1076216434/857" target="_blank">&gt;&gt;857</a>さん <br> ご指摘ありがとうございます。修正いたしました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/859" target="_blank">&gt;&gt;859</a> Tinoさん <br>  <br> ご指摘の件,MemoryMapクラスのコンストラクタが呼ばれていないため <br> 発生いたしました。 <br> 取り急ぎ修正し、α9をリリースいたしました。 <br> ご迷惑をおかけいたしました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/860" target="_blank">&gt;&gt;860</a>さん <br> ありがとうございます。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/02 21:12<> <a href="../test/read.cgi/os/1076216434/861" target="_blank">&gt;&gt;861</a> <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/862" target="_blank">&gt;&gt;862</a> <br> ありがとうございます。 <br> Wikiにも書きましたが、メンバをstaticにすると、 <br> 今回のようなAPI変更の影響を受けなくなります。 <>
Be名無しさん<>sage<>04/04/02 21:26<> <a href="../test/read.cgi/os/1076216434/863" target="_blank">&gt;&gt;863</a> <br> Mona GUIへの期待がすごく高まっていて <br> 大変だとは思うけど、是非続けていいものをつくってください。 <br>  <br> Mona GUIの出来でMonaの今後が決まるといってもいいすぎではないと思うので <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/02 21:35<> <a href="../test/read.cgi/os/1076216434/864" target="_blank">&gt;&gt;864</a> <br> ありがとうございます。頑張ります。 <>
Be名無しさん<>sage<>04/04/02 22:16<> Mona ネットワーク対応ﾏﾀﾞｰーー <br> 　 　 ＿＿ 　　　　　　　　　　　　　　　　　　　　　　　　　　　。 　 ＿＿＿  <br> 　　 B■Λ　　。　　　　　　　　　　　　　　　　　　　　　　　　＼　B■∧  <br> 　 　　(,,ﾟДﾟ) ／　　　　　　　　　　　　　　　　　　　　　　　　　　(＾（´∀｀　）  <br> ━━ (|　　つ　━━━━━━━━━━━━━━━━━━　ヽ　　　　）　━━━  <br> 　　|￣￣￣￣￣|　　　　　　　　　　　　　　　　　　　　　　　　|￣￣￣￣￣|  <br> 　　|  　 　 　 　|　　　　　　　　　　　　　　　　　　　　　　　　| 　 　 　 　 　|  <br>  <>
Be名無しさん<>sage<>04/04/02 22:53<> <a href="../test/read.cgi/os/1076216434/865" target="_blank">&gt;&gt;865</a> <br> がんがー <>
Be名無しさん<>sage<>04/04/02 23:08<> うーん、ドライバー作る以前に現在の割り込みまわりの作りこみ不足を何とかしないと、厳しいなぁ。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/02 23:13<> <a href="../test/read.cgi/os/1076216434/868" target="_blank">&gt;&gt;868</a>さん <br> 動的な登録とかでしょうか？ <br> 具体的に必要な機能を挙げていただけると助かります。 <br>  <br> 確かに割り込みまわりは初期からほとんどいじっていないので <br> まずいかもしれません。 <>
Be名無しさん<>sage<>04/04/03 00:27<> 実機でマウスが動いてくれない・・・ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/03 00:44<> <a href="../test/read.cgi/os/1076216434/870" target="_blank">&gt;&gt;870</a>さん <br> 実機確認ありがとうございます。 <br> 起動時にマウスのエラーコードが出ていますでしょうか? <>
Be名無しさん<>sage<>04/04/03 00:52<> <a href="../test/read.cgi/os/1076216434/870" target="_blank">&gt;&gt;870</a> <br> USBマウスだとダメだよ <>
Be名無しさん<>sage<>04/04/03 01:01<> <a href="../test/read.cgi/os/1076216434/869" target="_blank">&gt;&gt;869</a> <br> とりあえず、動的な割り込み処理は必須でしょうし、割り込み共有の処理も欲しいし、異常割り込みに対してのプロテクト処理も欲しいところですね。 <br> まぁ、何はともあれ動的な制御と現在各割り込み処理内部で行われている8259に対しての処理の部分の分離、とか。 <br>  <br> 後は、spin lock周りの拡充もして欲しいところ。 <br>  <br>  <br> もっと詳しい人の助言がほしいところだなぁ。私では畑違いなので助言をするには限界がある。 <>
gamix </b>◆WqDg2zGb9A <b><>sage<>04/04/03 04:08<> 364でつ <br>  <br> &gt;&gt; 838さん <br> ありがとうございます。１つ目のNICでプロトコルスタックが動いたら <br> 次にチャレンジする候補になると思います。 <br> （サンプルコードを参考にする方が他のOSのドライバを参考にするより <br> 　同じようなコードになった場合のライセンス関係が問題なさそうだからです。 <br> 　） <br>  <br> <a href="../test/read.cgi/os/1076216434/839" target="_blank">&gt;&gt;839</a>さん　852 862　ひげぽんさん <br> Etherフレームの送受信が安定しはじめてからスタックについてはまた考えますが <br> 勉強のために作りたいとはいえ、その前に構造を確認する意味で一度移植するのも <br> 良いかも知れないと考え直しています。 <br> 具体的にはInterface誌2004年4月号の <br> 組み込みTCP/IPプロトコル・スタックTINET <br> （BSDのスタックをマイコンとNE2Kにポーティング）などです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/866" target="_blank">&gt;&gt;866</a>さん <br> マジレスすると、あなたの書き込みで久々に書き込むことになりました。 <br> 状況を報告しますと、Etherフレームの読み込みやってるところです。 <br> 一応、Etherフレームの読み書きまではできそうな感じがしてきていますが、 <br> 一般に言われるネットワーク対応というものにはかなりの隔たりがある、 <br> 素材や、資料的な意味合いのモノを作っているところです。 <br> 私の方は少しづつ進めばいいなと思っていますが、 <br> 他の方の実装にも期待です。 <br>  <br>  ◆CFYAAAAAds さん <br> 乙＆おかえりなさいでつ。 <br> こちらは期末より期首の方がどちらかというとキツイですね。 <br> お互いがんばりましょう。 <br>  <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/03 07:28<> <a href="../test/read.cgi/os/1076216434/867" target="_blank">&gt;&gt;867</a> <br> ありがとうございます。 <br>  <br> Monaに恋焦がれて幾星霜…… <br> ようやく最初の到達点が見えてきました。 <br>  <br> とか言いながら遅くなったり浮気したりしてて大袈裟ですが、 <br> なんとか0.1.0RC1のリリースに漕ぎ着けました。 <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Tino%2FMonaGUI%2F-0.1 <br>  <br> まだまだ機能的には全然足りないのですが、 <br> とりあえずフィーチャーフリーズにしますので、 <br> 新機能追加は一旦停止して問題がないか様子を見たいと思います。 <br> Wikiに書いてあるロードマップとのずれが生じていますが、 <br> 0.1.0リリース以降改めて調整させていただきたいと思います。 <>
Be名無しさん<>sage<>04/04/03 11:11<> だれと浮気したの <br>  <br> Hした? <br>  <>
Be名無しさん<>sage<>04/04/03 11:20<> 遅レスｽﾏｿ <br> <a href="../test/read.cgi/os/1076216434/871" target="_blank">&gt;&gt;871</a> <br>  <br> エラーは出ていません。 <br> 実機はnotePC(thinkpad 600)。 <br> やはりPS/2のマウス以外は認識しないのでしょうか？ <>
877<>sage<>04/04/03 11:21<> 追記： <br> 肝心なことを書き忘れていました。 <br> MonaOSのバージョンは0.2.0alpha10です。 <>
Be名無しさん<>sage<>04/04/03 11:26<> 　　　　　　　　　　　　　　 --- カラアゲを作ろう --- <>
Be名無しさん<>sage<>04/04/03 12:57<> gamixﾀｿおつかれ。 <br>  <br> Mona GUIがだいぶ形になってきたので移植がんがー <>
S.R. </b>◆CFYAAAAAds <b><>sage<>04/04/03 13:49<> 適当なｺﾃﾊﾝをつけてみるテスト。 <br> 土日作業と行きたいところだけど別件でイベント企画してため作業できませぬ。 <br>  <br> ＞gamixさん <br> Interface2004年4月号にも情報があるのですね。 <br> ちょっと立ち読みしてみたいと思います。 <br> とりあえずはトラ技2001年1月号を元に私は作ってみます。 <br>  <br> #先にコンパイル環境を（氏 <>
Be名無しさん<>sage<>04/04/03 14:59<> 国産OSだからPC-98で動作きぼん <>
Be名無しさん<>sage<>04/04/03 15:01<> osaskとかﾒｸﾞﾅﾝﾄｶは98で動くよん。 <>
Be名無しさん<>sage<>04/04/03 15:16<> Mona Ver2.0.0alpha6を <br> 実機で確認したところ、 <br> Mouse init error=8が出て <br> マウスが正常に動作しません。 <br>  <br> やっぱり、AT時代のPS/2よりでっかいコネクタに <br> マウス刺しているから駄目？ <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/04/03 15:32<> error 8 <br> 歴史の重みに耐え切れません <br>  <br> 解説 <br> 歴史のあまりの重さにmonaが悲鳴を上げています。 <br> 肩の荷を降ろしてあげてください。 <>
Be名無しさん<>sage<>04/04/03 15:59<> ﾜﾛﾀ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/03 16:03<> <a href="../test/read.cgi/os/1076216434/876" target="_blank">&gt;&gt;876</a> <br> おれぺこです。 <br> 相手が人間じゃないのでHは無理です。 <>
Be名無しさん<>sage<>04/04/03 16:08<> ダッチﾀﾝでもHは可ｎ <>
Be名無しさん<>sage<>04/04/03 16:08<> <a href="../test/read.cgi/os/1076216434/887" target="_blank">&gt;&gt;887</a> <br> Hな動画欲しい？ <br> 石原さとみ風。(名前あってる?) <br>  <br> 4MBある。 <br>  <>
Be名無しさん<>sage<>04/04/03 16:09<> <a href="../test/read.cgi/os/1076216434/889" target="_blank">&gt;&gt;889</a> <br> 　　ま　た　お　前　か　！ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/03 16:20<> <a href="../test/read.cgi/os/1076216434/889" target="_blank">&gt;&gt;889</a> <br> もうエロビデオって歳じゃないです。 <br> エロくなくても美人を見てるほうが幸せです。 <>
877<>sage<>04/04/03 16:24<> デスクトップの方でα10動かしたら <br> Mouse init error=8 <br> と出ました。 <br> マウスはPS/2接続なんですが、光学式です(あまり関係ないか?）。 <br> 同じ症状の方が居るようですが何か共通点でもあるのでしょうか？ <br>  <br>  <>
Be名無しさん<>sage<>04/04/03 16:34<> Mouse init error 8 <br>  <br> &gt;&gt;ひげぽん <br> カーネルのソース見たけどKBCからのデータが複数バイトで来るときに、IN(0x64)&0x1==0x1のチェックは <br> 始めの1バイトの前だけでいいんだよ。2バイト目以降はチェックしない。 <>
Be名無しさん<>sage<>04/04/03 16:48<> <a href="../test/read.cgi/os/1076216434/888" target="_blank">&gt;&gt;888</a> <br> ﾒｸﾞﾀｿだったら萌え〜できたのにね <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/03 20:03<> <a href="../test/read.cgi/os/1076216434/873" target="_blank">&gt;&gt;873</a>さん <br> ありがとうございました。 <br> 次回メジャーリリースには間に合わないかもしれませんが <br> 必ず対応させていただきます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/874" target="_blank">&gt;&gt;874</a> gamixさん <br> 移植の件楽しみです。 <br> 是非がんばってください。 <br>  <br> <a href="../test/read.cgi/os/1076216434/875" target="_blank">&gt;&gt;875</a> Tinoさん <br> RC1リリースおめでとうございます。 <br> 早速いくつも質問してしまいすいませんでした。 <br>  <br> <a href="../test/read.cgi/os/1076216434/877" target="_blank">&gt;&gt;877</a>さん　884さん <br> ご報告ありがとうございます。 <br> マウス周りではまだいろいろと問題がありそうなので <br> 改善させていただきます。(USBは厳しいかもしれませんが) <br>  <br> <a href="../test/read.cgi/os/1076216434/893" target="_blank">&gt;&gt;893</a>さん <br> ありがとうございます！！ <br> 試してみます。m(__)m <>
Be名無しさん<>sage<>04/04/03 20:25<> Tinoﾀﾝおつかれ。 <br>  <br> Mona GUIの使い方が分かるようなサンプルがあるといいな。 <br> 初心者向けのはラベル・ボタンがあったので分かるが <br> 中級者・上級者向けのサンプルがあるといいと思った。 <br>  <br> 例えばゲームとか本格的なアプリとか。 <br> あと将来実装予定は含めず現在のMona GUIでできることできない事が <br> 評価何かでまとまっていると分かりやすいかな。 <br>  <br> 走すれば質問しなくてもある程度判断できると思うので。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/03 20:31<> <a href="../test/read.cgi/os/1076216434/893" target="_blank">&gt;&gt;893</a>さん <br> &gt; カーネルのソース見たけどKBCからのデータが複数バイトで来るときに、IN(0x64)&0x1==0x1のチェックは <br> &gt; 始めの1バイトの前だけでいいんだよ。2バイト目以降はチェックしない。 <br>  <br> 上記はihandlers.cppのMouseHandler()でのデータ受信のことでしょうか? <br> それともtest_higepon.cppのint Mouse::init()のことでしょうか？ <>
Be名無しさん<>sage<>04/04/03 22:13<> 実機での動作報告(α10) <br>  <br> キーボードが反応してくれなくてコマンドが打ち込めない。 <br> キーボードはPS/2接続日本語 109キーです。 <br>  <>
893<>sage<>04/04/03 23:06<> <a href="../test/read.cgi/os/1076216434/897" target="_blank">&gt;&gt;897</a> <br> test_higepon.cppのことです。 <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/03 23:25<> <a href="../test/read.cgi/os/1076216434/896" target="_blank">&gt;&gt;896</a> <br> ご意見ありがとうございます。 <br>  <br> &gt; Mona GUIの使い方が分かるようなサンプルがあるといいな。 <br> はい、まったく同感です。 <br> もともと↓に書きましたようにサンプルを豊富に揃えるつもりでしたが、 <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Tino%2FMonaGUI <br> &gt;&gt; サンプルがリファレンス代わりになるくらい充実させないと、まずいかなあ <br> ここ最近あまりに忙しくてMonaGUI自体の開発すら滞ってしまったため、 <br> 止むを得ずリリースを先にすることにした次第です。 <br>  <br> &gt; 例えばゲームとか本格的なアプリとか。 <br> はい、同感です。 <br> まだMonaGUIでは本格的なものを作れるほど成熟していませんが、 <br> このくらいのものなら作れるという目安を示すと言う意味で、 <br> 電卓やマインスイーパなら今のMonaGUIでも作れそうなので、 <br> 時間があったら取り組みたいとは思っていました。 <br>  <br> &gt; あと将来実装予定は含めず現在のMona GUIでできることできない事が <br> &gt; 評価何かでまとまっていると分かりやすいかな。 <br> なるほど、出来ることをまとめるという発想はありませんでした。 <br> もっとも出来ないことが多すぎて将来の話になっているのが現状です。 <br> とりあえず将来実装予定になっていることは、 <br> 今のMonaGUIでは出来ないことを意味しています。(泣) <>
896<>sage<>04/04/03 23:31<> サンプルがあれば、きっといろいろとアプリが登場すると思うので <br> がんばってください。 <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/04/03 23:44<> 　　＿  <br> 　 /〜ヽ  <br> 　(｡･-･)　｡oO( さんぷるぷるぷるぷりんぷりん♪ <br> 　ﾟし-Ｊﾟ  <>
Be名無しさん<>sage<>04/04/03 23:53<> Mona GUIすげーな。 <br> jpeg表示も出来るのか <br>  <br> これは一種の祭りでしょ。 <br> 次のMonaのリリースまでにどれだけアプリをそろえるかが鍵とみた。 <>
Be名無しさん<>sage<>04/04/04 00:44<> 久々に来てみたらすごいことになってますね。 <br> これほどのものを作れる人たちを本当に尊敬します。 <br>  <br> ソースを見て理解できればもっと楽しいんだろうなあ。 <>
Be名無しさん<>sage<>04/04/04 09:39<> そうそう、リリースの際にはSourceForgeでプロジェクトのニュースも出すと良いよ。 <br> 運が良ければSF.jpのトップでも取り上げてくれるし。 <>
893<>sage<>04/04/04 12:36<> 最低限のマウス有効化は <br>      byte data; <br>      outp8(0x64, 0x20); <br>      if (waitReadable()) { <br>          return 3; <br>      } <br>      data = inp8(0x60); <br>  <br>      outp8(0x64, 0x60); <br>      if (waitWritable()) { <br>          return 4; <br>      } <br>       <br>      outp8(0x60, data & (~0x30) | 0x3); <br>      if (!waitReadable()) { <br>          inp8(0x60); <br>      } <br>       <br>      outp8(0x64, 0xd4); <br>      if (waitWritable()) { <br>          return 10; <br>      } <br>      outp8(0x60, 0xf4); <br>      if (!waitReadable()) { <br>          inp8(0x60); <br>      } <br> だけあれば有効になる。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/04 13:11<> <a href="../test/read.cgi/os/1076216434/898" target="_blank">&gt;&gt;898</a>さん <br> ご報告ありがとうございます。 <br> 後述のマウス認識問題が片付きましたら取り組ませていただきます。 <br> 動作報告等ご協力いただければ幸いです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/893" target="_blank">&gt;&gt;893</a>さん <br> ご親切にありがとうございます。 <br> ちょうどマウス初期化見直しをしていたときなので大変助かりました。 <br> 893さんのコードをそのまま流用したところ手持ちの実機・エミューレータで <br> 動作したのでα11リリースに含めさせていただきました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/904" target="_blank">&gt;&gt;904</a>さん <br> ありがとうございます。 <br> ソースですが大半がC++で書かれています。 <br> 少しずつ読んでいけば理解できるかもしれません。 <br>  <br> <a href="../test/read.cgi/os/1076216434/905" target="_blank">&gt;&gt;905</a>さん <br> &gt; そうそう、リリースの際にはSourceForgeでプロジェクトのニュースも出すと良いよ。 <br> &gt; 運が良ければSF.jpのトップでも取り上げてくれるし。 <br>  <br> ありがとうございます。リリース時の作業として追加いたしました。 <br> このあいだのスラッシュドットでの投稿でアクセスが急増した経験もありますので <br> リリース時にはプロジェクトニュースを出して見ます。 <br>  <br> α11をリリースしました <br>  <br> mona-0.2.0alpha11 <br> ・Randomクラス追加:乱数生成 <br> ・マウス初期化見直し thx 893さん  <br>  <br> マウスが認識されてない問題をご報告いただいていた方は <br> お手数ですが改善されているかご確認･ご報告いただけると助かります。 <>
Be名無しさん<>sage<>04/04/04 17:51<> 　　　　　　　　　　 ＼γ⌒ヽ <br> 　　　　　　　　　　　　　＼γ⌒ヽ <br> 　　　　　　　　　　　　　　 ＼γ⌒ヽ <br> 　　　　　　　　　　　　　　　　＼γ⌒ヽ <br> 　　　　　　　　　　　　　　　　　 ＼γ⌒ヽ <br> 　　　　　　　　　　　　　　　　　　　＼γ⌒ヽ <br> 　　　　　　　　　　　　　　　　　　　　 ＼γ⌒ヽ <br> 　　　　　　　　　　　　　　　　　　　　　　＼γ⌒ヽ <br> 　　　　　　　　　　　　　　　　　　　　　　　 ＼,,_⊂ﾞ⌒ﾞ､∩ <br> 　　　　　　　　　　　　　　　　　　　　　　　　　＼⊂（｡Д｡）gamixﾀﾝ、S.R.ﾀﾝ <br> 　　　　　　　　　　　　　　　　　　　　　　　　　　 ＼ ∨∨　Monaから2chへの書き込み実現して！ <br> 　　　　　　　　　　　　　　　　　　　　　　　　　　　　＼ <br> 　　　　　　　　　　　　　　　　　　　　　　　　　　　　　 ＼ <br> 　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　＼ <br>  <br>  <>
877=898<>sage<>04/04/04 18:04<> <a href="../test/read.cgi/os/1076216434/907" target="_blank">&gt;&gt;907</a> <br> 乙ｶﾚｰ <br>  <br> α11動作報告 <br> マウス動きました(Thinkpad600&自作機) <br> そして、キーボードも反応しました。 <br> 対応有難うございます。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/04 18:08<> 早速のご確認ありがとうございました。 <br> キーボードも反応したようで一石二鳥ですね！ <br>  <br> すべて893さんのおかげです。 <br> ありがとうございました。 <>
Be名無しさん<>sage<>04/04/04 20:04<> 久々に見にいってみたらム板のつくろうスレが死んでるから終了したのかと思ったらOS板でやってたのね・・・ <br> 今後もがんばってください <>
Be名無しさん<>sage<>04/04/04 20:24<> Mona GUIのサンプルアプリケーション <br>  <br> ﾏ━(ﾟ∀ﾟ)━( ﾟ∀)━(  ﾟ)━(  )━(ﾟ  )━(∀ﾟ )━(ﾟ∀ﾟ)━ﾀﾞ???? <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/04 21:13<> <a href="../test/read.cgi/os/1076216434/912" target="_blank">&gt;&gt;912</a> <br> すみませんが、RC2で大幅な改造をすることになったので、 <br> ちょっとサンプルにまで手が出ない状態です。 <>
Be名無しさん<>sage<>04/04/04 21:15<> ＞大幅な改造 <br>  <br> ｷﾀｰ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/04 21:19<> <a href="../test/read.cgi/os/1076216434/914" target="_blank">&gt;&gt;914</a> <br> 改造と言っても機能拡張は大したことなくて、 <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Tino%2FMonaGUI%2F-0.1 <br> Mona全体のソース大整理に合わせる部分が結構手間がかかりそうです。 <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?%B5%C4%CF%C0%2F%A5%BD%A1%BC%A5%B9%A5%C4%A5%EA%A1%BC <>
Be名無しさん<>sage<>04/04/05 22:17<> このスレWeekdayは休業か。 <br> 仕事ｶﾞﾝｶﾞってください <>
Be名無しさん<>sage<>04/04/05 22:27<> 平日は他スレに浮気 <br> 587 名前：Tino ◆sMrLqQHxo6 投稿日：04/04/05 22:07 <br> <a href="../test/read.cgi/os/1076216434/586" target="_blank">&gt;&gt;586</a> <br> ｷﾀ━━━━(ﾟ∀ﾟ)━━━━ｯ!! <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/05 22:30<> 浮気 <br> ｷﾀ━━━━ヽ('∀｀)ﾉ━━━━!!!! <br>  <br> 今日はソースツリー整理中です。 <br> Mona GUIサンプルがんばってみます。 <>
Be名無しさん<>sage<>04/04/05 22:50<> <a href="../test/read.cgi/os/1076216434/917" target="_blank">&gt;&gt;917</a> <br> ｳﾎｯ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/05 22:51<> <a href="../test/read.cgi/os/1076216434/917" target="_blank">&gt;&gt;917</a> <br> AMD64ってすっごく期待してて新しいマシンを買うのを控えてたんですよ。 <br> そしたらAthlon64がリリースされてもWindowsのリリースが延期されてしまって <br> 最近UN*X関連を使わないから買う気がなくなってしまって、 <br> 結局ケチってAthlonXP 2400+で新調してしまいました。 <br> そんなときにおれぺこを見て凄いなあって素直に感心してしまいまして、 <br> 経済的に実機が買えなくても何か近付ける方法はないかな、と思ったもので。 <br> 昔UN*X関係をちょこっといじってた知識が役に立った感じです。 <br>  <br> 個人的にはLinuxよりFreeBSD、CygwinよりInterixの方が好きです。 <br> 単純に個人的な趣味なので別に優位性を主張する気はないですが。 <br> ldがELFを扱えないようでMonaがInterixでコンパイルできないのが辛い所です。 <br>  <br> <a href="../test/read.cgi/os/1076216434/918" target="_blank">&gt;&gt;918</a> <br> お疲れ様です。 <br> 多分今晩中に終わらないと思いますが私の方もRC2の実装頑張ります。 <>
Be名無しさん<>sage<>04/04/05 22:55<> 言い訳するTinoﾀﾝかわいいｗ <br>  <br>  <br>  <br>  <br> 冗談です。がんがってください <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/04/05 22:57<> |ーﾟ) ｿｫｰｯ <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/05 23:00<> <a href="../test/read.cgi/os/1076216434/921" target="_blank">&gt;&gt;921</a> <br> ありがとうございます。 <>
さっきゅん </b>◆WAHAH0fe4c <b><>sage<>04/04/05 23:05<> Tinoさんのおかげで開発がずっと楽になって大助かりです。 <br> Windowsで手軽に開発できる64bitOSになっちゃいました(*`-`)σ)'∀`) <>
Tino </b>◆sMrLqQHxo6 <b><>sage<>04/04/05 23:07<> <a href="../test/read.cgi/os/1076216434/924" target="_blank">&gt;&gt;924</a> <br> それは何よりです。 <>
TAKA<>sage<>04/04/05 23:27<> MonaをビルドしてBochsで実行したのですが、 <br> VESA not supported. sorry Kernel Stop <br> と言われてしまいます。皆さんの話を聞く限り実行できているようですが <br> どうしてでしょうか？ <br> Bochsのバージョンは2.1.1でちゃんとVGA-BIOS-elpin2.40も入っています。 <br>  <br> それはさておき、Monaを解析して疑問点が２つほど出てきたのですが <br>  <br> まず一つ目はsecondboot.asmの最後。 <br> cstart.cppにジャンプするコードで　jmp 0x200になっていますが <br> なぜこれできちんとした位置にジャンプできるのかわかりません。 <br> jmpに即値を与えると相対ジャンプになるので前々から何でこれで <br> うまくいくんだろうと思います。 <br>  <br> 二つ目がMemoryManager.cppのallocateの部分。この関数はメモリ領域の <br> リストをたどって、求めるサイズと同じかそれ以上のメモリ領域を探しています。 <br> このとき、見つかったメモリ領域が求めるサイズより大きければ分割することに <br> なりますが、サイズの比較が current-&gt;size と realSizeになっています。 <br> current-&gt;sizeには実際に確保された（求められた）サイズが保存されているので <br> 関数の引数で与えられた size と比較するのが正しいのではと思います。 <br>  <br> というか、解析しているうちに新しいバージョンが出ちゃったんだよなー・・・ <br> また初めから見ていかなきゃ・・・ <>
Be名無しさん<>sage<>04/04/05 23:49<> <a href="../test/read.cgi/os/1076216434/926" target="_blank">&gt;&gt;926</a> <br> <a href="../test/read.cgi/os/1076216434/827" target="_blank">&gt;&gt;827</a> <>
Zakky </b>◆54q7Px4hDk <b><>sage<>04/04/05 23:51<> えと。alpha11でマウス動作しました。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/06 00:25<> <a href="../test/read.cgi/os/1076216434/920" target="_blank">&gt;&gt;920</a>さん <br> お疲れ様です。 <br> Monaももう少ししたら64bit移行するかもしれません。 <br> 下調べとマシンの調達が完了すればですが。 <br>  <br> &gt; 多分今晩中に終わらないと思いますが私の方もRC2の実装頑張ります。 <br>  <br> よろしくお願いいたします。 <br>  <br> <a href="../test/read.cgi/os/1076216434/926" target="_blank">&gt;&gt;926</a>さん <br> bochsでMonaを実行するためには以下の条件が必要です。 <br>  <br> ・--enable-vbeオプションでbochsをビルドする(cygwinなどで) <br> ・VESAに対応したVGABIOS-lgpl-latestを使う <br>  <br> &gt; jmpに即値を与えると相対ジャンプになるので前々から何でこれで <br> &gt; うまくいくんだろうと思います。 <br>  <br> Monaのブートは・・・ <br> 忘れました。すいません。 <br> アセンブラは苦手です(いいのか・・・) <br>  <br> &gt; current-&gt;sizeには実際に確保された（求められた）サイズが保存されているので <br> &gt; 関数の引数で与えられた size と比較するのが正しいのではと思います。 <br>  <br> うろ覚えですが <br> current-&gt;sizeにはヘッダサイズが含まれていない仕様だった <br> 思います。 <br>  <br> &gt;Zakkyさん <br> ご確認ありがとうございました。 <br> Z-Slashいつもチェックしています。 <>
TAKA(926)<>sage<>04/04/06 11:36<> <a href="../test/read.cgi/os/1076216434/929" target="_blank">&gt;&gt;929</a> <br> <a href="../test/read.cgi/os/1076216434/926" target="_blank">&gt;&gt;926</a> のMemoryManagerですが一晩ぐっすり寝て考えてみました。 <br> やっぱりcurrent-&gt;size と realSizeの比較で正しいです。 <br>  <br> 例えば、current-&gt;size = 1024 で求めるメモリ領域が1022のとき、 <br> <a href="../test/read.cgi/os/1076216434/926" target="_blank">&gt;&gt;926</a> で言ったようにcurrent-&gt;size と 求められた大きさで比較すると <br> current-&gt;size の方が大きくなり、メモリブロックの分割をしなければなりません。 <br> ところでこの場合は初めの1022バイトをとってしまうと、2バイトしか残らず <br> メモリブロックのヘッダーを書き込むことが出来ません。 <br> このようなわけで realSize と比較することが正しいということになります。 <br> こういうところはきちんと考えなければいけませんね。 <br>  <br> ところで、PageManager.cppでページテーブルの領域を確保するとき <br> 実際に必要なページテーブルの大きさの２倍の領域を確保していますね。 <br> ４キロバイトのアライメントにあわせるのが目的だと思いますが、 <br> 実際に必要な領域　＋　４キロバイトで十分だと思います。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/06 22:03<> <a href="../test/read.cgi/os/1076216434/930" target="_blank">&gt;&gt;930</a>さん <br> &gt; 実際に必要なページテーブルの大きさの２倍の領域を確保していますね。 <br> &gt; ４キロバイトのアライメントにあわせるのが目的だと思いますが、 <br> &gt;実際に必要な領域　＋　４キロバイトで十分だと思います <br>  <br> こんばんは。 <br> 実際に必要な領域が4KBなので 4 * 2 = 8KBになっています。 <br>  <br> 本来であればメモリをビットマップなどで別管理して <br> メモリを無駄に使わないという実装が望ましいと思いますが <br> まだ手を付けていません。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/06 22:04<> 最近の作業内容として挙げていました、ソースツリーの変更にですが <br> Tinoさん, shadowさんのご協力で本日完了しました。 <br>  <br> お気づきの点がありましたらご指摘いただければ幸いです。 <br> 明日いっぱい様子を見て特に何も無ければCVS importで <br> 新しいツリーとして開発を再開いたします。 <br>  <br> ■主な変更点 <br> ・./configure -&gt; make -&gt; make installの手順になった  <br> ・/APP, /SERVER ディレクトリがそれぞれ /APPS, /SERVERSディレクトリに変更になりました。  <br> 　　　　　影響を受けるwabaのソースは修正済みです。  <br> ・userlib.h, libuser.aがそれぞれ monapi.h, libmonapi.aと名前が変更になりました。  <br> ・monapi.hをincludeする際は using namespace MonAPI;の記述が必要。  <br> 　　　MonaGUIみたいに名前が被るので意図的にusing namespaceを避ける場合は <br> 　　　すべてのクラスの前にMonAPI::を前置して使う。【例】 MonAPI::System::getThreadID()  <br>  <br> ■ソースツリー変更の経緯と変更点詳細 <br>  <br> 　ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?%B5%C4%CF%C0%2F%A5%BD%A1%BC%A5%B9%A5%C4%A5%EA%A1%BC <br>  <br> ■新ソースツリー(仮)のダウンロード <br>  <br> 　ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?plugin=attach&openfile=MonaTree10For0.2.0beta1.tar.bz2&refer=%B5%C4%CF%C0%2F%A5%BD%A1%BC%A5%B9%A5%C4%A5%EA%A1%BC <br> 　340KB <>
Be名無しさん<>sage<>04/04/06 23:36<> <a href="../test/read.cgi/os/1076216434/932" target="_blank">&gt;&gt;932</a> <br> ひげぽんをはじめ開発者の方々 <br> お疲れ様です <br>  <br> いつの日かMonaMagazineが販売されたらなと思ってみる。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/07 00:32<> <a href="../test/read.cgi/os/1076216434/933" target="_blank">&gt;&gt;933</a>さん <br> こんばんは、お疲れ様です。 <br>  <br> &gt; いつの日かMonaMagazineが販売されたらなと思ってみる。 <br>  <br> あー。3秒くらい妄想しました。 <br> 夢のまた夢ですががんばります。 <>
Be名無しさん<>sage<>04/04/07 08:32<> つまらない質問で申し訳ありません <br> http://mona.sourceforge.jp/MonaShell.html <br> に従いMonaを起動してみました。 <br> 使用したversionも http://mona.sourceforge.jp/Mona.img です。 <br> すると boot して「(.o'v'o)」の様な表示がひたすら表示される <br> (ユーザはなにもできない) <br> ようですがこれで正しいのでしょうか？ <br>  <br> あと、Mona は VMWare 3.x では動作しない あるいは  <br> 動作確認が されていないということでよろしいのでしょうか？ <br> VMWare 3.1.1 で実行したところ <br> mona loading とは表示されましたが, <br> http://mona.sourceforge.jp/MonaShell.html <br> の猫(?)は表されず, ひたすら「0212 2200 ...」と表示されます. <br> (もし必要なら, 上記の数字を全て載せますが) <br>  <br> あと, 全然 関係ありませんが ひげぽんさんがんばってください <br> 応援しています：） <>
Zakky </b>◆54q7Px4hDk <b><>sage<>04/04/07 09:35<> <a href="../test/read.cgi/os/1076216434/935" target="_blank">&gt;&gt;935</a> <br> そのバージョンでは恐らく正常な動作だと思います。 <br>  <br> 最新のリリース版は0.1.5で、 <br> https://sourceforge.jp/projects/mona/files/ <br> からダウンロードできます。 <>
Be名無しさん<>sage<>04/04/07 13:16<> ひげぽん始めみんながんがれ〜〜 <br>  <br> 開発が進むと凄いﾊｧﾊｧしてま <br>  <br> 将来、市販されてるマシンにMONAがプリインストールされることを願って応援してま♪ <>
935<>sage<>04/04/07 17:14<> <a href="../test/read.cgi/os/1076216434/936" target="_blank">&gt;&gt;936</a> <br> ありがとうございました <br> 0.1.5 で動かしてみました。 <br> mona.bochs は ver.up しなくていいのですよね? <br>  <br> boachs と VMWare 3.1.1 とも  <br> "VESA not supported. sorry kernel stop." と表示されました。 <br>  <br> (止まってしまいますが) boot しているようですね。 <>
Be名無しさん<>sage<>04/04/07 18:43<> <a href="../test/read.cgi/os/1076216434/935" target="_blank">&gt;&gt;935</a> <br> ＞VESA not supported. sorry kernel stop <br>  <br> ｶﾞｲｼｭﾂ <br> このスレで2回は質問されている。 <>
Be名無しさん<><>04/04/07 19:28<> bochsが動かないと言ってる人が多過ぎだけど <br> 情報が古いのと混ざって交錯してて分かりにくいってのもあるか <br>  <br> ここでまとめといた方が良さそうだねage <br>  <br> bochsは自分でコンパイルせずに↓を使う <br> http://prdownloads.sourceforge.net/bochs/bochs-2.1.1.win32-bin.zip?download <br> これを展開してC:\Program Files\bochs-2.1.1に入れておく <br>  <br> Monaの楽々bochs起動ファイルを取ってくる <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?cmd=read&page=Mona%2FBochs%C0%DF%C4%EA <br>  <br> どこでも好きなところに展開して、その中にmona.imgを入れる <br> mona.imgは好きなバージョンをぶち込めば良い <br> 最新のMonaを使いたい人は↓のmona.imgを使う <br> http://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <br>  <br> それであとはstart.batをクリックすればbochsでMonaが動く <br> ただシェルにdirが実装されてないから何が出来るか分からないのが問題 <br> その辺何とかしてﾎｽｨ <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/07 23:59<> <a href="../test/read.cgi/os/1076216434/935" target="_blank">&gt;&gt;935</a>さん <br> ありがとうございます。 <br>  <br> &gt;&gt;Zakkyさん <br> フォローありがとうございました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/937" target="_blank">&gt;&gt;937</a>さん <br> 応援ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/939" target="_blank">&gt;&gt;939</a>さん <br> <a href="../test/read.cgi/os/1076216434/940" target="_blank">&gt;&gt;940</a>さん <br>  <br> フォローありがとうございます。 <br> 940さんの手順でMonaが起動できることを当方でも確認しました。 <br>  <br> &gt; ただシェルにdirが実装されてないから何が出来るか分からないのが問題 <br> &gt; その辺何とかしてﾎｽｨ <br>  <br> 入れ違いになってしまいました。実装いたしましたのでお試しください。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/08 00:00<>  <br>  <br> βリリースのお知らせです。 <br> 0.2.0beta1をリリースしました。 <br> 変更点は以下の通りです。 <br>  <br> ・ソースツリーの大幅な変更 <br> 　　Tinoさん、shadowさんありがとうございました。 <br> ・シェル内部コマンド DIR/LS/CDを追加   <br>  <br> ・Random.nextDouble()を追加。  <br>  <br> なお0.2.0beta1ではWABA.ELFが正常に動作しません。 <br> Monaカーネル側の問題と思われます。 <br> 現在調査中ですの今しばらくお待ちください。 <br>  <br> ダウンロードは↓からどうぞ <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <>
750<>sage<>04/04/08 03:49<> いまだに忙しくて、Monaを動かす暇がない...。 <>
Be名無しさん<>sage<>04/04/08 05:50<> 　　　　　　　　　　　　　　　　　　　　,　-=-　-─‐-､　　  <br> 　　　　　　　　　　　　　　　　　　 _ ´-─　¬く ￣ ￣ﾐ- ､  <br> 　　　　　　　　　　　　　　　　,,,,／　　　　_==-ﾐｧ-─‐-､　＼''''''''''''ｰ--､,,,,,_  <br> 　　　　　　　　　　　　_,,,,-''"／　　,　‐''"　　　　　　　　　＼ ＼､_,,,ｰ''ゞ" `ゞ､  <br> 　　　　 　　　　 　 -' "　　/　　／　　　　　／　　　|　 　 　 ＼ ヽ 　　　　/"`  <br> 　　　　　　　_,,-''''''"""''''' /　／　 ／　　 / /　　　 ||　 |　　i　 ヽ i　　　 /  <br> 　　　　　　　´"''､.　　　　i　/　　/　/　　/ / /　 　 ||　 ||　　|│ |ﾉｽ 　/  <br> 　　　　　　　　　　'､　　 |//　 /　/___, -一ｧ|　　/! |ﾄ、|│　|　|　く」／  <br> 　　　　　　　 　 　　'､　 |,-‐¬　　---┘'７ |!　 ﾊ! |,､-┼十|!／＼／＼  <br> 　　　　　　　　　 , -‐ ''"　　し' '´_ ／,ィ二l |ﾄ、/!ヽﾄ､＼_ヽ!|!l＼:..　　／  <br> 　　　　　　　,r／　　　　　　__　　 ,イ|ﾘ ヾハ! ヽ!　 ,ィ⌒ヾﾐﾘﾉ／:::...　＼  <br> 　　　　　 ／ ||ヽ　　-'　　 　 ／￣ )｀　__　　　　　　|ヒﾉ:} '` ,;＼／＼／  <br> 　　　 ,r '　　 ヾ､　　,-､＿___ , イ￣,r=＝-　　　　　　==-'　 ﾚ' /|　 |  <br> 　　／　ヽ　　　 `ーｿ　 '　|　|ﾄ､,ﾍ ′""　　　　　　　 　 "" / / ||　|  <br> . ／　　　 ＼_　　／　　|　ﾊ　ヽ｀ﾞ'ﾍ　　　　　　 ' '　 　　　／ / | |　 |　　＜がんばってくださいな  <br> 　　 　 　 　 　 ／　　 /　/ |　 ヽ 川＼　 　 　　0 　 　 ／/! |　 | |　 |  <br> 　　　　　　　 /　　　 /　/ 八　 ＼川| |`ト-　..　__ ,　イ‐ｧﾍ |　 | ||　 |!  <br> 　　　　　　／　　　 /　/ /　 ＼　 ＼ 「`ー- ､　　　　／ 　.〉　 ト､|　 ヽ、  <br> 　　　　 ,イ　　　 ／-─＝¬ﾆヘ､_　 ＼ 　 厂＼　厂ヽ　/!| 　 |　`ｰ＝ﾍ  <br> 　-‐ ￣ /─　' ￣　　　　　├-　ヽ＼　 ＼ﾉ＼　＼　人 ﾊ!ヽ　||　　|-┤ ヽ  <br> 　 　 　 /　　　　　　　　　 ／!‐--　| |＼ 　 ﾄ､_｀ヽ oヽ　　ﾄ､!　 ||　　|‐┤- ヽ  <br> 　　／/ 〉　　　　　　__ ／　 ├‐-　 ||　 | 川-‐　　|　|　　厂7! ﾊ!　 ├:┤　￣ヽ  <br> 　　／ / ｰ ─ 　 ￣ 　 　 　 ├‐-　ﾘ　 || ﾊ!ﾍ　　 |　|　　ト┤|/′　ヾ,┤　　　ﾞi_  <br> 　　‐ '　　　　　　　　　　　　　 〉‐-　　　 | /　/＼ .|o |　/ヽ/（′　 　 ∨　　　　 ＼  <>
935<>sage<>04/04/08 19:57<> <a href="../test/read.cgi/os/1076216434/940" target="_blank">&gt;&gt;940</a> <br> ありがとうございます <br> 無事 shell までこぎ着けました。 <br> 猫のJPG も表示されて良い感じでした <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/08 21:03<> http://www.volny.cz/xnavara/qemu.zip <br>  <br> 上のqemuでMonaが起動しました。VESAもうまく行っているようです。 <br> ただ起動後のサーバー読み込み・起動で止まってしまうので <br> FDCあたりで躓いているようです。(詳しくは調べてないです。) <br>  <br> qemuの最新版では動いたりするのでしょうか? <>
Be名無しさん<>sage<>04/04/08 21:18<> QEMUのCVS版で0.2.0beta1を試してみましたが、Mona loading...で止まります。 <br> 何故かFilip氏版(<a href="../test/read.cgi/os/1076216434/946" target="_blank">&gt;&gt;946</a>のもの)でも手元の環境では止まりました。 <>
Be名無しさん<>sage<>04/04/08 21:20<> あ、すいません。HDDとしてmona.imgを読ませていたのが問題だったようです。Filip氏版、CVS双方で <br> loading /SERVERS/KEYBDMNG.SVR....OK <br> までいけました。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/08 21:23<> <a href="../test/read.cgi/os/1076216434/947" target="_blank">&gt;&gt;947</a>さん <br> ありがとうございます。 <br> シェルに入力等できましたでしょうか？ <>
Be名無しさん<>sage<>04/04/08 21:26<> ダメでした。今のところQEMUのWin32版はFDを読めればいーなー、というぐらいの実装具合のようなので <br> 更新待ちですね。というかひげ氏ついでにお願いします。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/08 21:29<> <a href="../test/read.cgi/os/1076216434/950" target="_blank">&gt;&gt;950</a> <br> ありがとうございます。 <br> 手持ちのqemuでもう一度実行したところ...OKとサーバーの読み込みが <br> 成功しているのでFDCはうまく動いているかもしれません。 <br>  <br> Monaの問題かもしれないのでちょっと調べて見ます。 <br> ダメだったらすぐあきらめます。 <>
Be名無しさん<>sage<>04/04/08 21:33<> <a href="../test/read.cgi/os/1076216434/951" target="_blank">&gt;&gt;951</a> <br> ちょっと確認なんですが、起動 <br> &gt; qemu.exe -L . -m 32 --fda mona.img <br> でいいんですよね? mona.imgのアーカイブはSFからつい先ほど落としてきたものです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/08 21:36<> こちらは↓でやっています。 <br>  <br> qemu.exe -L . --fda mona.img <>
947<>sage<>04/04/08 21:52<> やはり結果は変わりませんでした。 <br> ひとまず、最新CVS版のQEMUバイナリを手近なところにUPしました(UPしてからosdevに付ければよかったと思った)。 <br> http://reactos-j.sourceforge.jp/up/img/017.zip <br> <a href="../test/read.cgi/os/1076216434/946" target="_blank">&gt;&gt;946</a>のFilip氏版で加えられたのと同じ修正(キーボード関連、BIOS?)とHALTによるCPU節約が実装されているので <br> 平常時の負荷がかなり下がっているようです。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/08 22:07<> <a href="../test/read.cgi/os/1076216434/947" target="_blank">&gt;&gt;947</a>さん <br> バイナリありがとうございます。 <br>  <br> qemuである程度動作するようになりました。 <br> とあるタイミングでタイマ割り込みがマスクされてしまうようでしたので <br> とりあえずカーネルを修正しておきました。(CVS最新版) <br>  <br> ただマウスの初期化に失敗しているようで <br> マウス割り込みがずれてしまい、マウスが使えないです。 <br> このあたりどなたかフォローいただけると助かります。 <br>  <br> それにしてもqemuは速いですね！ <>
Be名無しさん<>sage<>04/04/09 01:05<> Monaでネットワーク機能はどこまでいっているの？ <br> もしかしてMACアドレス取得までは追えてたんだけど。 <br>  <br> 次回リリースでパケットの送受信できたりするとうれしい。 <>
gamix </b>◆WqDg2zGb9A <b><>sage<>04/04/09 01:20<> <a href="../test/read.cgi/os/1076216434/956" target="_blank">&gt;&gt;956</a>さん <br> ありがとうございます。 <br> 　 <br> パケットの受信を実装中です。（割り込みなしでポーリング版） <br> リリース時期によるかもしれません。 <br> 送信は…おって報告します。 <br>  <>
S.R. </b>◆CFYAAAAAds <b><>sage<>04/04/09 01:23<> ｽﾏｿ、漏れの方は去年度の仕事片付けで何も手ついてないです。 <br> 土日にようやく時間が取れるので成果物ができればいいなぁと思いまつ。 <br>  <br> と、qemuとかまた知らない単語でてきてるーよ… <br>  <>
gamix </b>◆WqDg2zGb9A <b><>sage<>04/04/09 01:31<> <a href="../test/read.cgi/os/1076216434/958" target="_blank">&gt;&gt;958</a> S.R.さん <br> 乙でつ <br> それそれ今年度以前に昨年度の仕事ですね。頭痛い。 <br> こちらもあんまり時間が取れず、一日数行づつ書き足して言ってる状態です。 <br>  <br> qemuはOS板qemuスレによるとBochsより5倍ぐらい速いエミュレータです。 <br> Bochsのような箱丸ごとだけではなく <br> IA32のコードをLinux上のユーザモードで実行したりして、Wineと一緒に使えば <br> PPCなLinuxでもWindows、IA32のバイナリが…とかそういう使いかたもできます。 <br> （逆にARMエミュレーションとかもできるはず） <br> どちらかというと箱丸ごとよりもCPUに重点が置かれ、JIT的な動作らしいですね。 <br>  <br> それはそうと、ここではqemuがWindows上でも動き始めたので話題になってるのですが、 <br> NICについてはまだWin32上では未実装のようなので私は気にしていません。 <br>  <>
Be名無しさん<>sage<>04/04/09 02:18<> おお、QEMU本当に早いですねぇ。 <br> QEMU ROSのF神版という奴と、最新Mona Kernelの組み合わせでブートしてみたんですが、 <br> Bochsとは次元の違う速さ！ <br> まぢで良いですねぇ。 <br>  <br> あと、VesaConsole::VesaScreen::scrollUpですがコピーする場合比較して、同じだったら <br> コピーしないほうが１．５倍くらい早いですよ。 <br>  <br> とか、どうでも良いようなことを書いて逃げてみる。 <>
gamix </b>◆WqDg2zGb9A <b><>sage<>04/04/09 02:39<> <a href="../test/read.cgi/os/1076216434/958" target="_blank">&gt;&gt;958</a> 959　960さん <br> QEMU使って見ました。確かに速いですね。 <br>  <br> 気になったのでQEMUのhw/pc.cを見ると <br> static uint32_t ne2000_io[NE2000_NB_MAX] = { 0x300, 0x320, 0x340, 0x360, 0x280, 0x380 }; <br> static int ne2000_irq[NE2000_NB_MAX] = { 9, 10, 11, 3, 4, 5 }; <br> とありましたのでIOアドレスGETMAC側でIOアドレスを0x280にして <br> <a href="../test/read.cgi/os/1076216434/953" target="_blank">&gt;&gt;953</a> ひげぽんさん <br> を参考にして <br> qemu -L . --fda mona.img --macaddr AA:BB:CC:DD:EE:FF <br> として、GETMAC.ELF起動すると <br> すごい負荷がかかってQEMUのプロセスが応答無しになりました。 <br> 以上報告でした。 <>
Be名無しさん<>sage<>04/04/09 16:30<> QEMU対応版のイメージどこ <br>  <>
Be名無しさん<>sage<>04/04/09 20:14<> <a href="../test/read.cgi/os/1076216434/926" target="_blank">&gt;&gt;926</a>さん <br> &gt; jmpに即値を与えると相対ジャンプになるので前々から何でこれで <br> &gt; うまくいくんだろうと思います。 <br> 記述は絶対値ですがコンパイルされると相対値になります。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/09 22:01<> <a href="../test/read.cgi/os/1076216434/957" target="_blank">&gt;&gt;957</a>さん <br> パケット受信楽しみです。 <br>  <br> <a href="../test/read.cgi/os/1076216434/960" target="_blank">&gt;&gt;960</a>さん <br> VesaConsoleご指摘の点改善してみました。 <br> ありがとうございます。 <br>  <br> <a href="../test/read.cgi/os/1076216434/961" target="_blank">&gt;&gt;961</a>さん <br> なるほど。qemuって他OSではネットワーク通っているんでしょうか？ <br>  <br> <a href="../test/read.cgi/os/1076216434/962" target="_blank">&gt;&gt;962</a>さん <br> リリースしました。 <br>  <br> <a href="../test/read.cgi/os/1076216434/963" target="_blank">&gt;&gt;963</a>さん <br> フォローありがとうございます。 <>
ひげぽん </b>◆Ngzcp/NZpA <b><>sage<>04/04/09 22:03<> βリリースのお知らせです。 <br> 0.2.0beta2をリリースしました。 <br> 変更点は以下の通りです。 <br>  <br> ・qemu対応 マウスはnikqさんパッチを取り込み <br> ・スレッドダンプのシステムコール作成   <br> ・Mona GUIでPSコマンド作成   <br> ・スクロールちょっぴり高速化  thx! 名無しさん <br>  <br> ダウンロードは↓からどうぞ <br> ttp://mona.sourceforge.jp/dynamic/pukiwiki/pukiwiki/pukiwiki.php?Mona%2F%B3%AB%C8%AF%C8%C7 <>
Be名無しさん<>sage<>04/04/09 22:05<> ｳｪ━━━━━(OwO)━━━━━ｲ!!! <>
Be名無しさん<>sage<>04/04/09 23:00<> ｷﾀ━━━━ヽ(｀ｴ´*)ﾉ━━━━!!!!  <br>  <br> PSかっこいい Mona GUIすごいね <br>  <>
Be名無しさん<>sage<>04/04/09 23:13<> Mona GUIきれいだねー。デザインがｲｲ <br>  <br> NOIZ2BG.ELFとか。GUI版移植したらNWSOSのfireみたいでかっこいいかも <>
Be名無しさん<>sage<>04/04/10 01:31<> IDE周りで妄想したこと書き込んでも良いですか？ <>
Be名無しさん<>sage<>04/04/10 01:34<> 板違いですのでお帰りください <>
Be名無しさん<>sage<>04/04/10 01:39<> いや、Monaの設計上の話なんだが。 <>
Be名無しさん<>sage<>04/04/10 01:45<> ここはOS板です <br> 妄想を語り合う板ではありません <br> お引取り願いします <>
Be名無しさん<>sage<>04/04/10 01:49<> <a href="../test/read.cgi/os/1076216434/1" target="_blank">&gt;&gt;1</a> <br> のテンプレをパワーアップして <br>  <br> 次スレを立てて。（プロバイダ規制中) <>
Be名無しさん<>sage<>04/04/10 01:53<> 立てたよ <br> http://pc3.2ch.net/test/read.cgi/os/1020424840/ <>
Be名無しさん<>sage<>04/04/10 02:04<> <a href="../test/read.cgi/os/1076216434/974" target="_blank">&gt;&gt;974</a> <br> それちがう。 <>
Be名無しさん<>sage<>04/04/10 03:10<> 立てたよ <br> http://pc3.2ch.net/test/read.cgi/os/1066957498/l50 <>
Be名無しさん<>sage<>04/04/10 03:12<> 埋め <>
Be名無しさん<>sage<>04/04/10 03:13<> .埋め <>
Be名無しさん<>sage<>04/04/10 03:15<> ここも <br> http://pc5.2ch.net/test/read.cgi/tech/1076217479/l50 <>
Be名無しさん<>sage<>04/04/10 03:16<> ここも利用価値あり <br> http://pc5.2ch.net/test/read.cgi/tech/1076215520/l50 <>
Be名無しさん<>sage<>04/04/10 03:19<> 結局どのスレにするのよ。 <>
Be名無しさん<>sage<>04/04/10 03:19<> あと残り１８ですよ <>
Be名無しさん<>sage<>04/04/10 03:20<> じっれったいなぁもう <>
Be名無しさん<>sage<>04/04/10 03:24<> 　　　　ひげぽん ◇Ngzcp/NZpA <br>  <br> こいつ誰だったの？ <>
Be名無しさん<>sage<>04/04/10 03:26<> http://pc.2ch.net/test/read.cgi/os/1079679774/ <br>  <br> このスレ消えたね <>
Be名無しさん<>sage<>04/04/10 03:29<> 子供を作ろうが（悲 <>
Be名無しさん<>sage<>04/04/10 03:34<> (´∇｀)ﾋｹﾞﾎﾟｿ ◇2HImExsoWc <br>  <br> こいつも謎だった <>
Be名無しさん<>sage<>04/04/10 03:37<> 振り返ってみるとみんないい想い出だ <>
Be名無しさん<>sage<>04/04/10 03:40<> 産め <>
Be名無しさん<>sage<>04/04/10 03:41<> 　　産め産め <>
Be名無しさん<>sage<>04/04/10 03:41<> 生め <>
Be名無しさん<>sage<>04/04/10 03:42<> 生め産め <>
Be名無しさん<>sage<>04/04/10 03:43<> 宇目 <>
Be名無しさん<>sage<>04/04/10 03:43<> うめ <>
Be名無しさん<>sage<>04/04/10 03:44<> 生め <>
Be名無しさん<>sage<>04/04/10 03:44<> 産め <>
Be名無しさん<>sage<>04/04/10 03:45<> ひげぽん ◆Ngzcp/NZpA = (´∇｀)ﾋｹﾞﾎﾟｿ ◇2HImExsoWc = ひげぽん ◇Ngzcp/NZpA <br>  <br> だったのか？ <>
Be名無しさん<>sage<>04/04/10 03:46<> 全ては闇の中へ。。。 <>
Be名無しさん<>sage<>04/04/10 03:47<> もう残りわずか <>
鳥取砂丘 </b>◆Dream/3P/. <b><><>04/04/10 03:57<> (´･ω･｀) <>
１００１<><>Over 1000 Thread<>このスレッドは１０００を超えました。 <br> もう書けないので、新しいスレッドを立ててくださいです。。。 <>
